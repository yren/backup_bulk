<mediawiki xmlns="http://www.mediawiki.org/xml/export-0.6/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mediawiki.org/xml/export-0.6/ http://www.mediawiki.org/xml/export-0.6.xsd" version="0.6" xml:lang="en">
  <siteinfo>
    <sitename>Lokvin Wiki</sitename>
    <base>http://lokvin.wikia.com/wiki/Lokvin_Wiki</base>
    <generator>MediaWiki 1.19.24</generator>
    <case>first-letter</case>
    <namespaces>
      <namespace key="-2" case="first-letter">Media</namespace>
      <namespace key="-1" case="first-letter">Special</namespace>
      <namespace key="0" case="first-letter" />
      <namespace key="1" case="first-letter">Talk</namespace>
      <namespace key="2" case="first-letter">User</namespace>
      <namespace key="3" case="first-letter">User talk</namespace>
      <namespace key="4" case="first-letter">Lokvin Wiki</namespace>
      <namespace key="5" case="first-letter">Lokvin Wiki talk</namespace>
      <namespace key="6" case="first-letter">File</namespace>
      <namespace key="7" case="first-letter">File talk</namespace>
      <namespace key="8" case="first-letter">MediaWiki</namespace>
      <namespace key="9" case="first-letter">MediaWiki talk</namespace>
      <namespace key="10" case="first-letter">Template</namespace>
      <namespace key="11" case="first-letter">Template talk</namespace>
      <namespace key="12" case="first-letter">Help</namespace>
      <namespace key="13" case="first-letter">Help talk</namespace>
      <namespace key="14" case="first-letter">Category</namespace>
      <namespace key="15" case="first-letter">Category talk</namespace>
      <namespace key="110" case="first-letter">Forum</namespace>
      <namespace key="111" case="first-letter">Forum talk</namespace>
      <namespace key="500" case="first-letter">User blog</namespace>
      <namespace key="501" case="first-letter">User blog comment</namespace>
      <namespace key="502" case="first-letter">Blog</namespace>
      <namespace key="503" case="first-letter">Blog talk</namespace>
      <namespace key="828" case="first-letter">Module</namespace>
      <namespace key="829" case="first-letter">Module talk</namespace>
      <namespace key="1200" case="first-letter">Message Wall</namespace>
      <namespace key="1201" case="first-letter">Thread</namespace>
      <namespace key="1202" case="first-letter">Message Wall Greeting</namespace>
    </namespaces>
  </siteinfo>
  <page>
    <title>Algorithm</title>
    <ns>0</ns>
    <id>2126</id>
      <sha1>qj2mcm4orfbmg76sk7b58rolg139407</sha1>
    <revision>
      <id>5167</id>
      <timestamp>2015-11-18T18:34:35Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* bubble sort */</comment>
      <text xml:space="preserve" bytes="548">== bubble sort ==
* http://en.wikipedia.org/wiki/Bubble_sort

 procedure bubbleSort( A : list of sortable items )
   n = length(A)
   repeat 
     swapped = false
     for i = 1 to n-1 inclusive do
       /* if this pair is out of order */
       if A[i-1] &gt; A[i] then
         /* swap them and remember something changed */
         swap( A[i-1], A[i] )
         swapped = true
       end if
     end for
   until not swapped
 end procedure

== binary search : order array ==
* https://github.com/yren/algorithm/blob/master/array_binary_search.txt</text>
    </revision>
  </page>
  <page>
    <title>Angular</title>
    <ns>0</ns>
    <id>2124</id>
      <sha1>ihnz2hq92q5o8plthvlq223unk0b4du</sha1>
    <revision>
      <id>4731</id>
      <timestamp>2015-01-17T06:19:22Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>Created page with &quot;==Angular JS == * https://angularjs.org/&quot;</comment>
      <text xml:space="preserve" bytes="40">==Angular JS ==
* https://angularjs.org/</text>
    </revision>
  </page>
  <page>
    <title>Atom</title>
    <ns>0</ns>
    <id>2118</id>
      <sha1>suctghhrwslr3ma9c81y8b6y1d023vu</sha1>
    <revision>
      <id>4711</id>
      <timestamp>2014-12-24T14:07:31Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* atom plugins */</comment>
      <text xml:space="preserve" bytes="330">==atom project==
* https://atom.io/

== atom plugins==
* https://atom.io/packages/atom-beautify

== atom plugin for CJK character soft wrap ==
Current atom has bug for soft wrap CJK(Chinese/Japanese/Korean)  characters. https://github.com/atom/atom/issues/1783
* here is plugin for resolve this https://atom.io/packages/atomicchar</text>
    </revision>
  </page>
  <page>
    <title>Backbone</title>
    <ns>0</ns>
    <id>2125</id>
      <sha1>rge5qwo27n99uwdrk4slfipdezs34tb</sha1>
    <revision>
      <id>4736</id>
      <timestamp>2015-01-17T06:34:15Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* Less */</comment>
      <text xml:space="preserve" bytes="364">== Backbone==
* http://backbonejs.org/

==Ember ==
* http://emberjs.com/

==React ==
* http://facebook.github.io/react/

== Bootstrap==
* http://getbootstrap.com/

==Foundation ==
* http://foundation.zurb.com/

==Sass ==
* http://sass-lang.com/
css with power

==Less ==
* http://lesscss.org/
* http://lesscss.net/
==stylus ==
* http://learnboost.github.io/stylus/</text>
    </revision>
  </page>
  <page>
    <title>Bower</title>
    <ns>0</ns>
    <id>2123</id>
      <sha1>66waswrt9j8hmzph05rccrmgsu2zlzf</sha1>
    <revision>
      <id>4729</id>
      <timestamp>2015-01-17T06:13:52Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>Created page with &quot;==Bower == * http://bower.io/ The man behind Yeoman, to resolve js dependency&quot;</comment>
      <text xml:space="preserve" bytes="77">==Bower ==
* http://bower.io/
The man behind Yeoman, to resolve js dependency</text>
    </revision>
  </page>
  <page>
    <title>Chrome</title>
    <ns>0</ns>
    <id>2115</id>
      <sha1>ih9sa1halp9p1dg24jfg12wg212faml</sha1>
    <revision>
      <id>5008</id>
      <timestamp>2015-11-12T13:59:58Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* chrome plugin */</comment>
      <text xml:space="preserve" bytes="472">== chrome plugin ==
* http://open.chrome.360.cn/extension_dev/overview.html

==Chrome tips ==
===view source ===
* ctrl + u, check chrome source code (win, linux)
* option + command + u, view source (Mac)

===open developer tools ===
* f12, open chrome develop tools (win, linux)
* option + command + i , (mac)

===chrome full screen ===
* f11, chrome full screen (win, linux)
* ctrl + command + f , chrome full screen (mac),  shift + command + f , presentation mode (mac)</text>
    </revision>
  </page>
  <page>
    <title>Clojure</title>
    <ns>0</ns>
    <id>2076</id>
      <sha1>c7lvch8l935qcll3nvtp3f7j9w7yvdl</sha1>
    <revision>
      <id>4146</id>
      <timestamp>2013-10-28T14:52:24Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* ref doc */</comment>
      <text xml:space="preserve" bytes="184">==ref doc==
*http://clojure.org/ - official site
*http://dev.clojure.org/display/doc/Clojure+Tools
*http://dev.clojure.org/display/doc/Getting+Started+with+Eclipse+and+Counterclockwise</text>
    </revision>
  </page>
  <page>
    <title>Daily</title>
    <ns>0</ns>
    <id>2072</id>
      <sha1>jxlqkhrrhjxugyieqh59prrqh6ndm67</sha1>
    <revision>
      <id>4100</id>
      <timestamp>2013-10-07T09:49:40Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* 2013.10.07 */</comment>
      <text xml:space="preserve" bytes="122">=2013.10=
==2013.10.07==
===如何成为强大的程序员===
*http://www.infoq.com/cn/news/2013/02/howto-strong-developer</text>
    </revision>
  </page>
  <page>
    <title>Data structure and algorithm</title>
    <ns>0</ns>
    <id>2086</id>
      <sha1>8g8wx90d22yrr49nwl9uwx8tr9cxj0j</sha1>
    <revision>
      <id>4284</id>
      <timestamp>2013-11-26T15:53:42Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>Created page with &quot;== chapter 2 算法分析== * 算法 (algorithm) 是求解一个问题需要遵循的，被清楚指定的简单指令的集合。&quot;</comment>
      <text xml:space="preserve" bytes="130">== chapter 2 算法分析==
* 算法 (algorithm) 是求解一个问题需要遵循的，被清楚指定的简单指令的集合。</text>
    </revision>
  </page>
  <page>
    <title>Dics migration</title>
    <ns>0</ns>
    <id>2138</id>
      <sha1>hbwuzteq4pvfez2stere1prj86mi7ir</sha1>
    <revision>
      <id>4925</id>
      <timestamp>2015-09-23T05:32:10Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* test env */</comment>
      <text xml:space="preserve" bytes="170">== test env ==

Oracle linux environment with docker
 10.35.59.49 
 10.35.59.56
 10.35.59.57
 10.35.59.54
  root / reuters
 
Web-UI
http://10.35.59.44/ui/repository/index</text>
    </revision>
  </page>
  <page>
    <title>Docker</title>
    <ns>0</ns>
    <id>2116</id>
      <sha1>bva903jftakzoqe14k20e8ao8fcapue</sha1>
    <revision>
      <id>5173</id>
      <timestamp>2015-12-02T02:50:12Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* docker restart */</comment>
      <text xml:space="preserve" bytes="3460">==docker doc ==
* http://www.widuu.com/chinese_docker/
* https://docs.docker.com/
* https://hub.docker.com/

==docker on ubuntu ==
=== use local registry ===
* edit file /etc/default/docker
  &gt;sudo vim /etc/default/docker
  ## add below line
  DOCKER_OPTS=&quot;--insecure-registry 10.35.59.44:5000&quot;
  &gt;sudo service docker restart

===docker version ===
 yufei@yufeidesktop:~$ sudo docker version
 Client:
 Version:      1.8.2
 API version:  1.20

=== docker restart ===
 yufei@yufeidesktop:~$ sudo service docker restart
 docker stop/waiting
 docker start/running, process 32406

 &gt;sudo service docker status
 &gt;sudo service docker stop
 &gt;sudo service docker start

===docker without sudo ===
*add connected ${USER} to docker group
 sudo gpasswd -a ${USER} docker

* Restart the Docker daemon
 sudo service docker restart

* Either do a newgrp docker or log out/in to activate the changes to groups.

* change ~/.docker owner
 sudo chown -R yufei:docker /home/yufei/.docker
  sudo chmod 644 ~/.docker/config.json

== docker begin ==
* install docker on mac
* docker run hello-world
 &gt;docker run hello-world

* docker run docker/whalesay cowsay boo
 &gt;docker run docker/whalesay cowsay boo

* docker images - list all images on your local system
 bash-3.2$ docker images
 REPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
 docker-whale        latest              614b79d97fb0        7 days ago          274 MB
 yren/docker-whale   latest              614b79d97fb0        7 days ago          274 MB
 hello-world         latest              af340544ed62        4 weeks ago         960 B
 docker/whalesay     latest              fb434121fc77        3 months ago        247 MB

===write a docker file ===

* mkdir mydockerbuild
 $ mkdir mydockerbuild

 $ cd mydockerbuild

 $ touch Dockerfile

 $vi Dockerfile

* add blow content to Dockerfile

 FROM docker/whalesay:latest
 RUN apt-get -y update &amp;&amp; apt-get install -y fortunes
 CMD /usr/games/fortune -a | cowsay

* build your new image by typing the &quot;docker build -t docker-whale .&quot;
  docker build -t docker-whale .

=== publish image to docker hub ===
* login https://hub.docker.com

* tag and publish image
 docker images
find image id for &quot;docker-whale&quot;
 $ docker tag 7d9495d03763 maryatdocker/docker-whale:latest
 $ docker login --username=maryatdocker --password=uydfiad77fad --email=mary@docker.com
 $ docker push maryatdocker/docker-whale

=== pull new image ===
* docker rmi
You can use an ID or the name to remove an image.
 $ docker rmi -f 7d9495d03763
 $ docker rmi -f docker-whale

===  docker ps ===
* list all container
 docker ps -a

* remove docker container
 docker rm &lt;container&gt;

* remove all stop docker container
 sudo docker ps -a | grep 'Exited' | awk '{print $1}' | xargs --no-run-if-empty sudo docker rm

* remove image
 docker rmi &lt;image&gt;

=== docker pull ===
* docker pull image 
 sudo docker pull 10.35.59.44:5000/rcom/jre:8

=== docker run ===

==== docker run --name ====
 #name container jdk8, this can prevent start same name container multi times
 sudo docker run -it  --name=jdk8 10.35.59.44:5000/rcom/jre:8 /bin/bash

===docker start===
* start stop container
 sudo docker start &lt;container id | name&gt;

===docker attach ===
* Attach to a running container
 sudo docker attach &lt;container id | name&gt;

=== docker stop ===
* Stop a running container by sending SIGTERM and then SIGKILL after a grace period
 sudo docker stop &lt;container id | name&gt;</text>
    </revision>
  </page>
  <page>
    <title>Eclipse</title>
    <ns>0</ns>
    <id>2073</id>
      <sha1>kq0luh8tuqesis3t6u0mdaxs2g54vxp</sha1>
    <revision>
      <id>5172</id>
      <timestamp>2015-11-27T04:55:36Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* disable eclipse valiate during building */</comment>
      <text xml:space="preserve" bytes="1450">==eclipse setup work==

=== change eclipse.ini ===
* change memory size under eclipse.ini
 find Eclipse.app/ -name &quot;eclipse.ini&quot;
 Eclipse.app/Contents/Eclipse/eclipse.ini
change -Xms768m, -Xmx1024m

=== config user name ===
* add '-Duser.name' to eclipse.ini
 -Duser.name=Lokvin

=== save action ===
* change java save action
Preferences-&gt;Java-&gt;Editor-&gt;Save Actions &lt;br&gt;
remove unused import

=== Editor show line number and white space ===
* preference - Generals - Editors - Text Editors

=== disable eclipse valiate during building ===
 Preference -&gt; Validation 
unselected all build validation

=== use space for indent ===
# Click Window » Preferences
# Expand Java » Code Style
# Click Formatter
# Under General Settings, set Tab policy to: Spaces only

==install plugin from marketplace==
* It's convenient install plugin from eclipse marketplace: Help -&gt; Eclipse Marketplace

==Key Assist==
* in linux eclipse , ctrl + shift + l (Help -&gt; Key Assists)

* Word Complete, alt + /

* max(recover) current editor, ctrl + m

== TODO task ==
* add //TODO mark in code, and all TODO mark can find in Tasks view.

==set eclipse proxy ==
*preference - General - network connnection
 
 HTTP set proxy
 HTTPS set proxy
 SOCKS  don't set proxy

** and you can proxy bypass for don't use proxy

==set eclipse JDK ==
* for mac
 /Library/Java/JavaVirtualMachines/1.7.0.jdk/Contents/Home
 /Library/Java/JavaVirtualMachines/1.6.0_51-b11-457.jdk/Contents/Home</text>
    </revision>
  </page>
  <page>
    <title>Elastic</title>
    <ns>0</ns>
    <id>2130</id>
      <sha1>g5bmkcb3du9e2i9l7jxorqunegl9cd4</sha1>
    <revision>
      <id>4830</id>
      <timestamp>2015-04-29T03:43:05Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* elasticsearch-feeder */</comment>
      <text xml:space="preserve" bytes="712">==elastic search ==
* https://thehub.thomsonreuters.com/docs/DOC-990922 - thehub doc

==dev env==

=== elastic search ===
* start elastic search 
 shell&gt;~/dev/elasticsearch-1.5.1/bin
 shell&gt;./elasticsearch

* access url
http://localhost:9200/  &lt;br&gt;

# this need install elasticsearch-head (https://github.com/mobz/elasticsearch-head)
http://localhost:9200/_plugin/head/ &lt;br&gt;

access browser tab. &lt;br&gt;


===elasticsearch-feeder ===
* svn http://10.90.0.160/svn/elasticsearch-feeder/features/CKB-7964/

* config eclipse
[[File:eclipse_setup_feeder1.png]] &lt;br&gt;
&lt;br&gt;
[[File:eclipse_setup_feeder2.png]] &lt;br&gt;

* check log under
 /rt/logs/elasticsearch-feeder

===telnet elasticsearch-feeder ===
 telnet localhost 23042</text>
    </revision>
  </page>
  <page>
    <title>Emacs</title>
    <ns>0</ns>
    <id>2088</id>
      <sha1>6wtvf1rv0mmhckl7ihmipm1a765rian</sha1>
    <revision>
      <id>4292</id>
      <timestamp>2013-11-28T15:22:53Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* emacs */</comment>
      <text xml:space="preserve" bytes="571">==setting emacs on mac ==
* http://www.emacswiki.org/emacs/EmacsForMacOS
Use Alt/Option as Meta Key under terminal emulators &lt;br&gt;
For Terminal.app, starting from Snow Leopard: Go to Preferences &gt; Settings &gt; Keyboard &gt; Use option as meta key. &lt;br&gt;

For iTerm: Go to Manage Profiles &gt; Keyboard profiles &gt; (your profile) &gt; Option Key as…

==emacs ==
* https://github.com/redguardtoo/mastering-emacs-in-one-year-guide/blob/master/guide-zh.org - learn emacs

 shell&gt;emacs file1
 // open official document
 Alt + X健,输入help-with-tutorial
 //quit emacs
 Ctrl +x, Ctrl + c</text>
    </revision>
  </page>
  <page>
    <title>Git</title>
    <ns>0</ns>
    <id>2102</id>
      <sha1>jj156uj1wxm5wqh84rkf5qkirbadfg5</sha1>
    <revision>
      <id>4920</id>
      <timestamp>2015-09-20T07:34:05Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* doc */</comment>
      <text xml:space="preserve" bytes="2617">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==gitlab create new project ==
* git global setup 
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url



* create repository
 mkdir test-prj
 cd test-prj
 git init
 touch README 
 git add README
 git commit -m 'first commit'
 git remote add origin git@gitlab.media.int.thomsonreuters.com:yufei-cn/test-prj.git
 git push -u origin master

* Existing Git Repo ?
 cd existing_git_repo
 git remote add origin git@gitlab.media.int.thomsonreuters.com:yufei-cn/test-prj.git
 git push -u origin master

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)== 
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)== 
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)== 
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git tutorials ==
* https://www.atlassian.com/git/tutorials - git tutorials from atlassian

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/</text>
    </revision>
  </page>
  <page>
    <title>Grunt</title>
    <ns>0</ns>
    <id>2121</id>
      <sha1>t6mwk3pol66zh2ftovaiu4rnshvd5fu</sha1>
    <revision>
      <id>4725</id>
      <timestamp>2015-01-17T06:08:00Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* Grunt JS */</comment>
      <text xml:space="preserve" bytes="289">==Grunt JS ==
*  http://gruntjs.com/

前端构建执行环境，类似于 make(C), maven(java), rake(Ruby)

** css 压缩
** 精简打包 js
** 图片压缩合并
** Sass, less 处理
** Coffescript 处理
** 发布前端应用

==GulpJS==
* http://gulpjs.com/
The target is surpass Grunt</text>
    </revision>
  </page>
  <page>
    <title>Http</title>
    <ns>0</ns>
    <id>2087</id>
      <sha1>39qjsqusp2x0o1chnx016xjau7a19bc</sha1>
    <revision>
      <id>4375</id>
      <timestamp>2014-02-06T14:16:36Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* HTTP response code */</comment>
      <text xml:space="preserve" bytes="1707">==http header==
===Increasing Application Performance with HTTP Cache Headers ===
* https://devcenter.heroku.com/articles/increasing-application-performance-with-http-cache-headers

==http message 组成 ==
* start line (起始行)
* header (首部)
* body (主体)

===request message format ===
 &lt;method&gt; &lt;request-URL&gt; &lt;version&gt;
 &lt;headers&gt;
 
 &lt;entity-body&gt;

 GET /test/hi-there.txt HTTP/1.1
 Accept: */*
 Host: www.joes-hardware.com

===response message format ===
 &lt;version&gt; &lt;status&gt; &lt;reason-phrase&gt;
 &lt;headers&gt;
 
 &lt;entity-body&gt;

 HTTP/1.0 200 OK
 Content-type: text/plain
 Content-length: 19
 
 Hi! I'm message!

==HTTP Method==
{| class='wikitable' style='text-align: center;'
! 方法
! 描述
! 是否包含主体
|-
| GET
| 从服务器获取文档
| NO
|-
| HEAD
| 只从服务器获取文档首部
| NO
|-
| POST
| 向服务器发送需要处理的数据
| YES
|-
| PUT
| 将请求的主体部分存在服务器上
| YES
|-
| TRACE
| 对可能经过代理服务器传送到服务器上的报文进行追踪
| NO
|-
| OPTIONS
| 决定可以在服务器上执行哪些方法
| NO
|-
| DELETE
| 删除服务器上的文档
| NO
|}


==HTTP response code ==
* '''状态码分类'''

{| class=&quot;wikitable&quot; style=&quot;text-align: center;&quot;
! 整体范围
! 已定义范围
! 分类
|-
| 100 ~ 199
| 100 ~ 101
| 信息提示
|-
| 200 ~ 299
| 200 ~ 206
| 成功
|-
| 300 ~ 399
| 300 ~ 305
| 重定向
|-
| 400 ~ 499
| 400 ~ 415
| 客户端错误
|-
| 500 ~ 599
| 500 ~ 505
| 服务器端错误
|}

==two Content-Type header for form submission ==
 Content-Type: application/x-www-form-urlencoded  # default for html forms
 Content-Type: multipart/form-data # used when form contains files, non-ascii, binary data</text>
    </revision>
  </page>
  <page>
    <title>Install fedora21</title>
    <ns>0</ns>
    <id>2120</id>
      <sha1>i785vbb0j1j60g7wmt8i6gtotfybg4h</sha1>
    <revision>
      <id>4694</id>
      <timestamp>2014-12-17T15:10:36Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* enable sshd */</comment>
      <text xml:space="preserve" bytes="5194">=install fd21=

==disable SELINUX==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

==add sudo previlege ==
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

or 
 # echo &quot;xxx ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers

==disable firewalld ==
 sudo systemctl stop firewalld.service 
 sudo systemctl disable firewalld.service

==enable sshd ==
* method 1 
 sudo systemctl enable sshd.service

* method 2
 service sshd status
 service sshd start
 service sshd stop
 chkconfig --list sshd 
 chkconfig --level 2345 sshd on

==set static ip address ==

== reboot ==
 sudo reboot

==config yum proxy==
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

or 
 # echo &quot;proxy=http://10.90.7.56:3128/&quot; &gt;&gt; /etc/yum.conf

==edit ~/.bash_profile==
*/etc/bashrc 是全局的环境配置文件
*一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==install synergy==
If you want use same keyboard(mouse) for multi machine, need synergy (suggest use latest version)
*http://synergy-foss.org/

==install Chrome==

==install subversion ==
 sudo yum install subversion
 svn --version

==install git==
 sudo yum install git
 git --version

==install memcached ==
 sudo yum install memcached
 sudo systemctl start memcached.service
 sudo systemctl stop memcached.service

 [yufei@localhost ~]$ ps aux|grep memcached
 memcach+  2408  0.0  0.0 314820  1092 ?        Ssl  23:42   0:00 /usr/bin/memcached -u memcached -p 11211 -m 64 -c 1024

 [yufei@localhost ~]$ sudo systemctl status memcached.service
 memcached.service - Memcached
   Loaded: loaded (/usr/lib/systemd/system/memcached.service; disabled)
   Active: active (running) since Fri 2014-08-01 23:42:19 CST; 19s ago
 Main PID: 2408 (memcached)
   CGroup: /system.slice/memcached.service
           └─2408 /usr/bin/memcached -u memcached -p 11211 -m 64 -c 1024

==install firefox==
*fire fox is a tar ball, download from official site http://www.mozilla.org/en-US/firefox/new/ ,put to:
 ~/dev/firefox
create a launcher for firefox on desktop
===install firebug plugin===
===install foxyproxy plugin===

==install filezilla==
*for ftp client, you need download filezilla from https://filezilla-project.org/

==install jdk==
get jdk for fe13 from media share folder &lt;br&gt;
Download jdk-1_5_0_20-linux-i586.bin from http://10.90.0.160/svn/universal_dependencies/jdk-1_5_0_20-linux-i586.bin

 shell&gt; sudo mkdir -p /usr/java
 shell&gt; cd /usr/java
 shell&gt; sudo cp ~/Downloads/jdk-1_5_0_20-linux-i586.bin .
 shell&gt; sudo chmod 755 jdk-1_5_0_20-linux-i586.bin
 shell&gt; sudo ./jdk-1_5_0_20-linux-i586.bin
 shell&gt; sudo ln -s  /usr/java/jdk1.5.0_20 jdk

*Configure
 shell&gt; sudo rm -rf /usr/bin/java /usr/bin/javac
 shell&gt; sudo ln -s /usr/java/jdk/bin/java  /usr/bin/java
 shell&gt; sudo ln -s /usr/java/jdk/bin/javac  /usr/bin/javac

Similar for JDK 6 , and make softlink /usr/java/jdk point JDK6, since rcom use jdk6.(spotlight use jdk5)

==subclipse==
SVN Configuration:
 configuration file: /home/yufei/.subversion/config
 current password-stores value: gnome-keyring

==start memcached ==
 sudo /bin/systemctl start memcached.service

==install mysql==
#download mysql-5.6.20-linux-glibc2.5-x86_64.tar.gz from http://dev.mysql.com/

 shell&gt; groupadd mysql
 shell&gt; useradd -r -g mysql mysql
 shell&gt; cd /usr/local
 shell&gt; tar zxvf /path/to/mysql-VERSION-OS.tar.gz
 shell&gt; ln -s full-path-to-mysql-VERSION-OS mysql
 shell&gt; cd mysql
 shell&gt; chown -R mysql .
 shell&gt; chgrp -R mysql .
 shell&gt; scripts/mysql_install_db --user=mysql
 shell&gt; chown -R root .
 shell&gt; chown -R mysql data
 # Next command is optional
 shell&gt; cp support-files/my-medium.cnf /etc/my.cnf
 shell&gt; bin/mysqld_safe --user=mysql &amp;
 # Next command is optional
 shell&gt; cp support-files/mysql.server /etc/init.d/mysql.server
 
you may meet an error when scripts/mysql_install_db --user=mysql,like 
 shell&gt;scripts/mysql_install_db --user=mysql
 FATAL ERROR: please install the following Perl modules before executing scripts/mysql_install_db:
 Data::Dumper

need install perl-Data-Dumper
 shell&gt;sudo yum install perl-Data-Dumper

===configure mysql ===

shell&gt; sudo vi /etc/my.cnf
Add following content:
 =====================
   [client]
   port            = 23306
   socket          = /var/lib/mysql/mysql.sock
   [mysqld]
   port            = 23306
   user            = mysql
   socket          = /var/lib/mysql/mysql.sock
   datadir=/var/lib/mysql
   tmpdir=/data01/rt/db/tmp
   default-character-set=utf8
   character_set_server=utf8
 =====================
 shell&gt; sudo vi /etc/profile.d/devnet.sh
 #add
 export PATH=$PATH:/usr/local/mysql/bin
 shell&gt; source /etc/profile.d/devnet.sh

===start mysql ===

 ./bin/mysqladmin -u root password 'new-password'
 ./bin/mysqladmin -u root -h localhost.localdomain password 'new-password'
 
#start mysql service
 shell&gt; sudo /etc/init.d/mysql.service start
 #change root password to r00t
 shell&gt; mysqladmin -u root password r00t
 Enter password: &lt;Enter&gt;

==install apache, php ==
http://php.net/manual/en/install.unix.apache2.php

* install php
 ./configure --prefix=/opt/apache22 --enable-mods-shared=all --enable-so</text>
    </revision>
  </page>
  <page>
    <title>Install fedora22</title>
    <ns>0</ns>
    <id>2135</id>
      <sha1>jt5l7uzqhxtb3mg3fax3zp6a126th6w</sha1>
    <revision>
      <id>4893</id>
      <timestamp>2015-09-01T03:07:21Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* install fd21 */</comment>
      <text xml:space="preserve" bytes="5194">=install fd22=

==disable SELINUX==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

==add sudo previlege ==
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

or 
 # echo &quot;xxx ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers

==disable firewalld ==
 sudo systemctl stop firewalld.service 
 sudo systemctl disable firewalld.service

==enable sshd ==
* method 1 
 sudo systemctl enable sshd.service

* method 2
 service sshd status
 service sshd start
 service sshd stop
 chkconfig --list sshd 
 chkconfig --level 2345 sshd on

==set static ip address ==

== reboot ==
 sudo reboot

==config yum proxy==
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

or 
 # echo &quot;proxy=http://10.90.7.56:3128/&quot; &gt;&gt; /etc/yum.conf

==edit ~/.bash_profile==
*/etc/bashrc 是全局的环境配置文件
*一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==install synergy==
If you want use same keyboard(mouse) for multi machine, need synergy (suggest use latest version)
*http://synergy-foss.org/

==install Chrome==

==install subversion ==
 sudo yum install subversion
 svn --version

==install git==
 sudo yum install git
 git --version

==install memcached ==
 sudo yum install memcached
 sudo systemctl start memcached.service
 sudo systemctl stop memcached.service

 [yufei@localhost ~]$ ps aux|grep memcached
 memcach+  2408  0.0  0.0 314820  1092 ?        Ssl  23:42   0:00 /usr/bin/memcached -u memcached -p 11211 -m 64 -c 1024

 [yufei@localhost ~]$ sudo systemctl status memcached.service
 memcached.service - Memcached
   Loaded: loaded (/usr/lib/systemd/system/memcached.service; disabled)
   Active: active (running) since Fri 2014-08-01 23:42:19 CST; 19s ago
 Main PID: 2408 (memcached)
   CGroup: /system.slice/memcached.service
           └─2408 /usr/bin/memcached -u memcached -p 11211 -m 64 -c 1024

==install firefox==
*fire fox is a tar ball, download from official site http://www.mozilla.org/en-US/firefox/new/ ,put to:
 ~/dev/firefox
create a launcher for firefox on desktop
===install firebug plugin===
===install foxyproxy plugin===

==install filezilla==
*for ftp client, you need download filezilla from https://filezilla-project.org/

==install jdk==
get jdk for fe13 from media share folder &lt;br&gt;
Download jdk-1_5_0_20-linux-i586.bin from http://10.90.0.160/svn/universal_dependencies/jdk-1_5_0_20-linux-i586.bin

 shell&gt; sudo mkdir -p /usr/java
 shell&gt; cd /usr/java
 shell&gt; sudo cp ~/Downloads/jdk-1_5_0_20-linux-i586.bin .
 shell&gt; sudo chmod 755 jdk-1_5_0_20-linux-i586.bin
 shell&gt; sudo ./jdk-1_5_0_20-linux-i586.bin
 shell&gt; sudo ln -s  /usr/java/jdk1.5.0_20 jdk

*Configure
 shell&gt; sudo rm -rf /usr/bin/java /usr/bin/javac
 shell&gt; sudo ln -s /usr/java/jdk/bin/java  /usr/bin/java
 shell&gt; sudo ln -s /usr/java/jdk/bin/javac  /usr/bin/javac

Similar for JDK 6 , and make softlink /usr/java/jdk point JDK6, since rcom use jdk6.(spotlight use jdk5)

==subclipse==
SVN Configuration:
 configuration file: /home/yufei/.subversion/config
 current password-stores value: gnome-keyring

==start memcached ==
 sudo /bin/systemctl start memcached.service

==install mysql==
#download mysql-5.6.20-linux-glibc2.5-x86_64.tar.gz from http://dev.mysql.com/

 shell&gt; groupadd mysql
 shell&gt; useradd -r -g mysql mysql
 shell&gt; cd /usr/local
 shell&gt; tar zxvf /path/to/mysql-VERSION-OS.tar.gz
 shell&gt; ln -s full-path-to-mysql-VERSION-OS mysql
 shell&gt; cd mysql
 shell&gt; chown -R mysql .
 shell&gt; chgrp -R mysql .
 shell&gt; scripts/mysql_install_db --user=mysql
 shell&gt; chown -R root .
 shell&gt; chown -R mysql data
 # Next command is optional
 shell&gt; cp support-files/my-medium.cnf /etc/my.cnf
 shell&gt; bin/mysqld_safe --user=mysql &amp;
 # Next command is optional
 shell&gt; cp support-files/mysql.server /etc/init.d/mysql.server
 
you may meet an error when scripts/mysql_install_db --user=mysql,like 
 shell&gt;scripts/mysql_install_db --user=mysql
 FATAL ERROR: please install the following Perl modules before executing scripts/mysql_install_db:
 Data::Dumper

need install perl-Data-Dumper
 shell&gt;sudo yum install perl-Data-Dumper

===configure mysql ===

shell&gt; sudo vi /etc/my.cnf
Add following content:
 =====================
   [client]
   port            = 23306
   socket          = /var/lib/mysql/mysql.sock
   [mysqld]
   port            = 23306
   user            = mysql
   socket          = /var/lib/mysql/mysql.sock
   datadir=/var/lib/mysql
   tmpdir=/data01/rt/db/tmp
   default-character-set=utf8
   character_set_server=utf8
 =====================
 shell&gt; sudo vi /etc/profile.d/devnet.sh
 #add
 export PATH=$PATH:/usr/local/mysql/bin
 shell&gt; source /etc/profile.d/devnet.sh

===start mysql ===

 ./bin/mysqladmin -u root password 'new-password'
 ./bin/mysqladmin -u root -h localhost.localdomain password 'new-password'
 
#start mysql service
 shell&gt; sudo /etc/init.d/mysql.service start
 #change root password to r00t
 shell&gt; mysqladmin -u root password r00t
 Enter password: &lt;Enter&gt;

==install apache, php ==
http://php.net/manual/en/install.unix.apache2.php

* install php
 ./configure --prefix=/opt/apache22 --enable-mods-shared=all --enable-so</text>
    </revision>
  </page>
  <page>
    <title>Install ubuntu 14.04</title>
    <ns>0</ns>
    <id>2137</id>
      <sha1>oh7c900pt9m2z7p91ia4fziyq44u2yn</sha1>
    <revision>
      <id>4956</id>
      <timestamp>2015-10-15T15:21:28Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* add appdev user */</comment>
      <text xml:space="preserve" bytes="1847">== check ubuntu version ==
 root@cory:~# lsb_release -a
 No LSB modules are available.
 Distributor ID:	Ubuntu
 Description:	Ubuntu 14.04 LTS
 Release:	14.04
 Codename:	trusty

== add appdev user ==
 root@cory:~# useradd -m appdev
 root@cory:~# useradd -m -d /home/appdev appdev
 root@cory:~# passwd appdev
 su appdev

* sudo with no passwd
 shell&gt; su 
 shell&gt; chmod +w /etc/sudoers
 shell&gt; echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 shell&gt; chmod -w /etc/sudoers
 shell&gt; exit

== stop default apache2 ==
  root@cory:~# /etc/init.d/apache2 stop  
  * Stopping web server apache2

== fix /etc/sudoers error ==
* I change /etc/sudoers file cause some error like:
  &gt;&gt;&gt; /etc/sudoers: syntax error near line 30 &lt;&lt;&lt;

* for fix , run as root , then fix the /etc/sudoers file
 &gt;pkexec su
 &gt;vi /etc/sudoers file

== add alias for root ==
* check current user alias
  yufei@yufeidesktop:~$ alias
 alias alert='notify-send --urgency=low -i &quot;$([ $? = 0 ] &amp;&amp; echo terminal || echo error)&quot; &quot;$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&amp;|]\s*alert$//'\'')&quot;'
 alias egrep='egrep --color=auto'
 alias fgrep='fgrep --color=auto'
 alias grep='grep --color=auto'
 alias l='ls -CF'
 alias la='ls -A'
 alias ll='ls -alF'
 alias ls='ls --color=auto'

* pkexec su - change to root
 pkexec su
 vi /root/.bashrc

you can find follow line
 if [ -f ~/.bash_aliases ]; then
    . ~/.bash_aliases
 fi

* create .bash_aliases , add the alias content to it.

==install .deb package ==
*To install a downloaded Debian (Ubuntu) package
 sudo dpkg -i packagename.deb
*To remove a Debian (Ubuntu) package (.deb)
 sudo dpkg -r packagename
*To Reconfigure/Repair an installed Debian (Ubuntu) package
 sudo dpkg-reconfigure packagename

==apt-get ==
 sudo apt-get install -f libavahi-compat-libdnssd1
 sudo dpkg -i synergy-v1.7.4-stable-c734bab-Linux-x86_64.deb</text>
    </revision>
  </page>
  <page>
    <title>Interview questions</title>
    <ns>0</ns>
    <id>2081</id>
      <sha1>g06oiuvz94ckmw62cy476g9bmw8vlcl</sha1>
    <revision>
      <id>4230</id>
      <timestamp>2013-11-17T06:10:58Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* java synchronized */</comment>
      <text xml:space="preserve" bytes="266">==javascript closure ==
*http://lokvin.wikia.com/wiki/Javascript#closure_.28.E9.97.AD.E5.8C.85.29

==java synchronized ==
* http://lokvin.wikia.com/wiki/Java#static_synchronized_method

==java 5 new features ==
* http://lokvin.wikia.com/wiki/Java#Java_5_new_features</text>
    </revision>
  </page>
  <page>
    <title>Ios</title>
    <ns>0</ns>
    <id>2092</id>
      <sha1>5nlqrsnzp2cfv5zkjx49703l0e8sqr3</sha1>
    <revision>
      <id>4412</id>
      <timestamp>2014-02-08T11:52:56Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* MVC Communication */</comment>
      <text xml:space="preserve" bytes="3054">==Xcode change target name==
'''below step works for Xcode 4.6.2'''
# in Xcode click project icon, in TARGETS direct edit target name, such as: change change ipadcn to cn_ipad
# in Build Settings -- Package, change the Product Name, such as: change ipadcn to cn_ipad
# Xcode close project, delete the xcode auto generate files, such as: *.xcscheme, ..., Xcode Re-open the project
# If you meet Simulate error &quot;failed to attach to process id 0&quot;, you need clean Simulator content.
## reset simulator: in menu iOS Simulator --&gt; Reset Content and Settings...
## back to xcode, in menu Window --&gt; Organizer --&gt; Projects --&gt; Delete Derived Data

==find iOS simulator location ==
# Go to ~/Applications, and right-click Xcode.
# Select “Show Package Contents”. A folder opens.
# Browse through the folder structure to “Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/Applications/”
# There you’ll see the “iOS Simulator.app” — it’s best to add it to the dock, so that you do not need to go through these steps again.
# Close all the folders, as you won’t need them to use the iOS Simulator.
# Start iOS Simulator from the Dock.

==What's in ios==
===Core OS===
[[File:ios_coreos.jpg | center | 600px]]

===Core Services ===
[[File:ios_coreservices.jpg | center | 600px]]

===Meida ===
[[File:ios_media.jpg | center | 600px]]

===Cocoa Touch ===
[[File:ios_cocoatouch.jpg | center | 600px]]

==Platform Components==
[[File:ios_platformcomponents.jpg | center | 600px]]

==MVC ==
'''Divide objects in your program into 3 &quot;camps&quot;.'''

* Model = What your application is (but not how it displayed)
* Controller = How your model is presented to the user (UI Logic)
* View = Your Controllers minions
[[File:ios_mvc_model.jpg | center | 600px]]

===MVC Communication ===
* Controllers can always talk directly to their Model.
* Controllers can also talk directly to their View.
* The Model and View should '''never''' speak to each other.
* Can the View speak to it's Controller?
** The Controller can drop a '''target''' on itself.
** Then hand out an action to the View.
** The View sends the '''action''' when things happen in the UI.
* Sometimes the View needs to synchronize with the Controller.
** The Controller set itself as the View's '''delegate'''.
** The '''delegate''' is set via a protocol (i.e. it's &quot;blind&quot; to class)
* '''Views do not own the data they display.'''
** So, if needed, they have a protocol to acquire it.
** Controllers are almost always the '''data source''' ('''not Model''').
* Controllers interpret/format Model information for the View.
* Can the Model talk directly to the Controller?
** '''No.''' The Model is (should be) UI independent.
* So what if the Model has information to update or something?
** It use a &quot;radio station&quot; - like broadcast mechanism.
** Controllers (or other Model) &quot;turn in&quot; to interesting staff.
* A View might &quot;turn in&quot; , but probably not to a Model's &quot;station&quot;.
&lt;br&gt;
[[File:ios_mvc_communications.jpg | center | 800px]]
&lt;br&gt;
[[File:ios_mvc_multi.jpg | center | 800px]]</text>
    </revision>
  </page>
  <page>
    <title>Ios dev</title>
    <ns>0</ns>
    <id>2134</id>
      <sha1>7qu259bfj66p3nmplhzzu3985bb4tck</sha1>
    <revision>
      <id>4861</id>
      <timestamp>2015-07-10T14:29:17Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* running app on device */</comment>
      <text xml:space="preserve" bytes="699">== running app on device ==
* register apple id on https://developer.apple.com/ , buy iOS develop programme
* Genreate CSR from your mac,  keychain Access -&gt; Certificate Assistant -&gt; Request a Certificate from a Certificate Authority ... 
** input 'User Email Address', 'Common Name: Yufei', 'CA Email' leave empty, select Save to disk, then click continue. Save the CSR
* Use the CSR file generate develop certificate
* Use the CSR generate app store certificate
* Create app id for iOS portal
* add your device to iOS portal
* Generate your develop Provisioning file use certificate + app id + device
* Download the provisioning file , add to you Xcode, then the app can build and run your device.</text>
    </revision>
  </page>
  <page>
    <title>Java</title>
    <ns>0</ns>
    <id>2071</id>
      <sha1>gpqvg8z5odqsj0b5ovfx40gahbzllpq</sha1>
    <revision>
      <id>4997</id>
      <timestamp>2015-11-05T09:46:22Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* java performance */</comment>
      <text xml:space="preserve" bytes="6323">==doc &amp; reference ==
*http://howtodoinjava.com/ - how to do in java. A very good guy who share lots of his experience
*http://www.mkyong.com/ - Another site which you can find java dev experience
*http://www.careercup.com/ - career cup. A site you can find interview questions.

==Singleton==
*http://www.infoq.com/cn/articles/double-checked-locking-with-delay-initialization  - singleton double check locking and lazy initialize 
*http://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization

==static synchronized method==
#difference between static synchronized method and non-static synchronized method
* The lock objects are difference between static synchronized method and non-static synchronized method. Static synchronized method lock object is class object (lock object: FooClass.class), non-static synchronized lock object is instance object (lock object: this).
&lt;source lang=&quot;java&quot;&gt;
   public class Foo {
           public static synchronized void methodA() {}

           public synchronized void methodB() {}
   }
&lt;/source&gt;
It's roughly equals 
&lt;source lang=&quot;java&quot;&gt;
public class Foo {
  public static void methodA() {
    synchronized(Foo.class) {
        ...
    }
  }

  public void methodB() {
      synchronized(this){
      
      } 

  }
}
&lt;/source&gt;

==HashMap ==
* http://howtodoinjava.com/2012/10/09/how-hashmap-works-in-java/ - how HashMap work in java
* http://howtodoinjava.com/2012/10/09/working-with-hashcode-and-equals-methods-in-java/ - working with equals(), hashCode() in java

== Java 5 new features ==
=== Generics ===
* Add compile time type safe
* Elimination drudgery class casting

'''old style:'''
&lt;source lang=&quot;java&quot;&gt;
List list = new ArrayList();
...
String s = (String)list.get(0);
&lt;/source&gt;
----------------------------
'''new style:'''
&lt;source lang=&quot;java&quot;&gt;
List&lt;String&gt; list = new ArrayList&lt;String&gt;();
...
String s = list.get(0);
&lt;/source&gt;

=== Enhance for Loop ===
* The new enhanced for loop provides a simple, consistent syntax for iterating over collections and arrays.

'''old style: '''
&lt;source lang=&quot;java&quot;&gt;
String[] arr = new String[]{&quot;alpha&quot;, &quot;beta&quot;};
for (int i=0; i&lt;=arr.length; i++) {
    String t = arr[i];
    System.out.println(t);
}
&lt;/source&gt;

'''new style:'''
&lt;source lang=&quot;java&quot;&gt;
String[] arr = new String[]{&quot;alpha&quot;, &quot;beta&quot;};
for (String s : arr) {
    System.out.println(s);
} 
&lt;/source&gt;

* some limitation of enhance loop, some time we need index and iterator

'''example need index:'''
&lt;source lang=&quot;java&quot;&gt;
for (int i=0; i&lt;numbers.length; i++) {
  if (i !=0 &amp;&amp; i != numbers.length - 1) {
        System.out.println(&quot;,&quot;);
  }
  System.out.println(numbers[i]);
}
&lt;/source&gt;

'''example need iterator: '''

&lt;source lang=&quot;java&quot;&gt;
for (Iterator&lt;String&gt; it = n.iterator(); it.hasNext(); ) {
    if (it.next() &lt; 0) it.remove();

}
&lt;/source&gt;


===Auto Boxing/ Auto un-boxing ===
* auto conversion between primitives and wrappers

===Type safe Enums ===
* Enums are type safe.
* Enums are Serializable and Comparable by default
* Programmers doesn’t require to do extra work of implementing toString(), equals() and hashCode(). Enums provide implementation of these by default.
* Programmers can use Enums in switch-case statements.
* Enums are permitted to implement to interfaces.
'''old style:'''
&lt;source lang=&quot;java&quot;&gt;
public class Dialog {
    public static final int SHORT = 0;
    public static final int LONG = 1;
    public static void show(int duration) {
        if(duration == SHORT) ...
        else if (duration == LONG) ...
    }
    ....
    Dialog.show(Dialog.LONG);
}
&lt;/source&gt;

'''new style:'''
&lt;source lang=&quot;java&quot;&gt;
public class Dialog {
    public enum Duration {LONG, SHORT};
    public static void show(Duration e) {
        if (e == Duration.SHORT) ...
        else if (e == Duration.Long) ...
    }
...
Dialog.show(Duration.Long);

}
&lt;/source&gt;


===Varargs ===
* Variable size argument lists for method

&lt;source lang=&quot;java&quot;&gt;
void orderCar(int modelNo, String... options) {}

orderCar(Benz.E_CLASS, &quot;navigation&quot;, &quot;hi pass&quot;);

&lt;/source&gt;

&lt;source lang=&quot;java&quot;&gt;
public void foo(int i, String... strings) {
    	  String[] someStrings = strings;
    	  // rest of method body
}
&lt;/source&gt;

===Annotation (metadata) ===
* attach extra information about code
**compiler check
**code analysis

&lt;source lang=&quot;java&quot;&gt;
@Override
public boolean equals(Object obj)


@Deprecated
public doSomething() ...


@SuppressWarnings(&quot;deprecation&quot;)
public static void selfDestruct() {
    Thread.currentThread().stop();
}
&lt;/source&gt;

===static import ===
* avoiding qualifying static members

===formated output ===
* printf(), String.format();

&lt;source lang=&quot;java&quot;&gt;
System.out.printf(&quot;Hello %s %s, &quot;world&quot;, &quot;hi&quot;);
String s = String.format(&quot;The meaning of %s&quot;, &quot;right&quot;);
&lt;/source&gt;

==a Iterator with predicate ==
* FilterIterator in commons cllection &lt;br&gt;
https://github.com/yren/java-basic/blob/master/src/main/java/com/lokvin/basic/FilterIterator.java

==java finalize method ==
* http://howtodoinjava.com/2012/10/31/why-not-to-use-finalize-method-in-java/

==java enum ==
* http://javahowto.blogspot.com/2008/04/java-enum-examples.html - a doc about enum
* http://www.mkyong.com/java/java-enum-example/ - an example of enum constructor

==java annotation ==
* http://en.wikipedia.org/wiki/Java_annotation
* http://javapapers.com/core-java/java-annotations/

==java reflection &amp; introspection ==
* http://www.blogjava.net/191499719/archive/2008/07/03/212325.html - a blog about reflection
* http://docs.oracle.com/javase/tutorial/reflect/TOC.html - reflection
* http://web.archive.org/web/20090226224821/http://java.sun.com/docs/books/tutorial/javabeans/introspection/index.html - introspection

==Decorator design pattern ==
* http://javapapers.com/design-patterns/decorator-pattern/

==java anonymous inner class ==
* http://www.beingjavaguys.com/2013/10/what-is-anonymous-class-in-java.html

==apache commons beanutils ==
* http://commons.apache.org/proper/commons-beanutils/apidocs/org/apache/commons/beanutils/package-summary.html#package_description - user manual for beanutils

==apache commons lang==
*http://commons.apache.org/proper/commons-lang/userguide.html - commons lang user guide

==java performance ==
* http://java-performance.com/
== java default char encoding ==
* http://javarevisited.blogspot.com/2012/01/get-set-default-character-encoding.html</text>
    </revision>
  </page>
  <page>
    <title>Java tool box</title>
    <ns>0</ns>
    <id>2113</id>
      <sha1>a4jekdbwtw0raajua9b7guok7y19s2f</sha1>
    <revision>
      <id>4653</id>
      <timestamp>2014-10-17T06:55:55Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>Created page with &quot;==apache commons lang == * apache commons lang - http://commons.apache.org/proper/commons-lang Just read api docs for how to use commons lang, it provide lots of utils&quot;</comment>
      <text xml:space="preserve" bytes="167">==apache commons lang ==
* apache commons lang - http://commons.apache.org/proper/commons-lang
Just read api docs for how to use commons lang, it provide lots of utils</text>
    </revision>
  </page>
  <page>
    <title>Javascript</title>
    <ns>0</ns>
    <id>2080</id>
      <sha1>nqi57xwby9l830e7tvkjv2wr73lol66</sha1>
    <revision>
      <id>4531</id>
      <timestamp>2014-06-19T05:41:17Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* dynamic add  example 2 */</comment>
      <text xml:space="preserve" bytes="5620">==doc &amp; reference==
*https://developer.mozilla.org/en/JavaScript - mozilla javascript ref
*http://ejohn.org/apps/learn/ - John Resig, learn advanced javascript

==closure (闭包) ==
* JavaScript 的闭包 (closure), 内层函数可以引用包含它的外层函数的变量，即使外层函数执行已经返回。

'''first example of closure: '''
&lt;source lang=&quot;javascript&quot;&gt;
var obj = document.getElementById(&quot;main&quot;);
obj.style.border = &quot;1px solid red&quot;;
setTimeout (function () {
  obj.style.border = &quot;none&quot;;
} , 1000);
&lt;/source&gt;

'''second example of closure:'''
&lt;source lang=&quot;javascript&quot;&gt;
function delayAlert(msg, time) {
    setTimeout(function() {
        alert(msg);
    }, time);
}

delayAlert(&quot;Welcome&quot;, 2000);
&lt;/source&gt;

'''another example:'''

&lt;source lang=&quot;javascript&quot;&gt;
function foo()  {
  var n = 9;
  function boo() {
    alert(n);
  }
  return boo;
}

var result = foo();
result();

&lt;/source&gt;

* http://jibbering.com/faq/notes/closures/ - javascript closure doc
* http://www.ruanyifeng.com/blog/2009/08/learning_javascript_closures.html - a document about closure
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures - Mozilla about closure
* http://www.gracecode.com/posts/2385.html - a ppt about closure

==json ==

* http://www.json.org/

* Json 的优点：
** 基于纯文本
** Javascript原生支持
** 轻量级数据格式，占用字符数量极少
** 可读性较强
** 容易编写和解析

==jsonp==
*Jsonp(JSON with Padding)

* http://www.cnblogs.com/dowinning/archive/2012/04/19/json-jsonp-jquery.html
* http://baike.baidu.com/view/2131174.htm

==dynamic add &lt;script&gt; example ==
The GPT ad tag generated via DFP - &lt;br&gt;
HeaderPlace this code into the HEAD element of the web page:

&lt;source lang=&quot;javascript&quot;&gt;
&lt;script type='text/javascript'&gt;
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function(){ 
    var gads = document.createElement('script'); 
    gads.async = true; 
    gads.type = 'text/javascript'; 
    var useSSL = 'https:' == document.location.protocol; 
    gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js'; 
    var node = document.getElementsByTagName('script')[0]; 
    node.parentNode.insertBefore(gads, node); 
})();
&lt;/script&gt;

&lt;script type='text/javascript'&gt;
googletag.cmd.push(function(){ 
googletag.defineSlot('/4735792/qa.mobile.us.reuters', [1, 1], 'div-gpt-ad-1403043993293-0').addService(googletag.pubads()); 
googletag.pubads().enableSingleRequest(); 
googletag.enableServices(); }
);
&lt;/script&gt;

&lt;/source&gt;

Document bodyPlace this code where this unit should show in the page body:

&lt;source lang=&quot;javascript&quot;&gt;
&lt;!-- qa.mobile.us.reuters --&gt;
&lt;div id='div-gpt-ad-1403043993293-0' style='width:1px; height:1px;'&gt;
&lt;script type='text/javascript'&gt;
googletag.cmd.push(function()
{ googletag.display('div-gpt-ad-1403043993293-0'); }
);
&lt;/script&gt;
&lt;/div&gt;
&lt;/source&gt;

==dynamic add &lt;script&gt; example 2==

HTML Header
&lt;source lang=&quot;javascript&quot;&gt;
&lt;!-- Start: GPT Sync --&gt;
&lt;script type='text/javascript'&gt;
  var gptadslots=[];
  (function(){
     var useSSL = 'https:' == document.location.protocol;
     var src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
     document.write('&lt;scr' + 'ipt src=&quot;' + src + '&quot;&gt;&lt;/scr' + 'ipt&gt;');
  })();
&lt;/script&gt;
&lt;/source&gt;


&lt;source lang=&quot;javascript&quot;&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
//Adslot 1 declaration
gptadslots[1]= googletag.defineSlot('/4735792/qa.mobile.us.reuters', [[1,1]],'div-gpt-ad-937844785594529467-1').addService(googletag.pubads());
googletag.pubads().enableSingleRequest();
googletag.pubads().collapseEmptyDivs();
googletag.pubads().enableSyncRendering();
googletag.enableServices();
&lt;/script&gt;
&lt;!-- End: GPT --&gt;
&lt;/source&gt;

HTML Body

&lt;source lang=&quot;javascript&quot;&gt;
&lt;!-- Beginning Sync AdSlot 1 for Ad unit qa.mobile.us.reuters ### size: [[1,1]]  --&gt;
&lt;div id='div-gpt-ad-937844785594529467-1'&gt;
&lt;script type='text/javascript'&gt;
  googletag.display('div-gpt-ad-937844785594529467-1');
&lt;/script&gt;
&lt;/div&gt;
&lt;!-- End AdSlot 1 --&gt;

&lt;/source&gt;

==dynamic add &lt;script&gt; example 3==
HTML Header
&lt;source lang=&quot;javascript&quot;&gt;
&lt;!-- Start: GPT Sync --&gt;
&lt;script type='text/javascript'&gt;
  var gptadslots=[];
  (function(){
     var useSSL = 'https:' == document.location.protocol;
     var src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
     document.write('&lt;scr' + 'ipt src=&quot;' + src + '&quot;&gt;&lt;/scr' + 'ipt&gt;');
   })();
&lt;/script&gt;

&lt;script type=&quot;text/javascript&quot;&gt;                
//Adslot 1 declaration
gptadslots[1]= googletag.defineSlot('/4735792/qa.mobile.us.reuters', [[1,1]],'div-gpt-ad-836668158202160887-1').addService(googletag.pubads());
//Adslot oop declaration
gptadslots[0] = googletag.defineOutOfPageSlot('/4735792/qa.mobile.us.reuters', 'div-gpt-ad-836668158202160887-oop').setTargeting('type',['interstitial']).addService(googletag.pubads());
googletag.pubads().enableSingleRequest();
googletag.pubads().collapseEmptyDivs();
googletag.pubads().enableSyncRendering();
googletag.enableServices();
&lt;/script&gt;
&lt;!-- End: GPT --&gt;
&lt;/source&gt;

HTML Body

&lt;source lang=&quot;javascript&quot;&gt; 
&lt;!-- Beginning Sync AdSlot 1 for Ad unit qa.mobile.us.reuters ### size: [[1,1]]  --&gt;
&lt;div id='div-gpt-ad-836668158202160887-1'&gt;
&lt;script type='text/javascript'&gt;
  googletag.display('div-gpt-ad-836668158202160887-1');
&lt;/script&gt;
&lt;/div&gt;
&lt;!-- End AdSlot 1 --&gt;

&lt;!-- Beginning Sync AdSlot oop for Ad unit qa.mobile.us.reuters ### size:   --&gt;
&lt;div id='div-gpt-ad-836668158202160887-oop'&gt;
&lt;script type='text/javascript'&gt;
  googletag.display('div-gpt-ad-836668158202160887-oop');
&lt;/script&gt;
&lt;/div&gt;
&lt;!-- End AdSlot oop --&gt;
&lt;/source&gt;</text>
    </revision>
  </page>
  <page>
    <title>Jstl</title>
    <ns>0</ns>
    <id>2129</id>
      <sha1>tm5g4cxr46vc6qkjek2v55l0bk8e75k</sha1>
    <revision>
      <id>4804</id>
      <timestamp>2015-04-16T21:12:13Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/*  tag */</comment>
      <text xml:space="preserve" bytes="266">==jstl doc ==
* http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/

== &lt;c:set&gt; tag ==
* http://javarevisited.blogspot.com/2012/02/jstl-tag-examples-in-jsp-java-j2ee.html

== &lt;c:forEach varStatus&gt; ==
* http://blog.csdn.net/shanliangliuxing/article/details/7190078</text>
    </revision>
  </page>
  <page>
    <title>Linux</title>
    <ns>0</ns>
    <id>2067</id>
      <sha1>fj25h3ajkxlthhe5untfd468gex1gcb</sha1>
    <revision>
      <id>5175</id>
      <timestamp>2015-12-02T02:52:36Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* check user belong group */</comment>
      <text xml:space="preserve" bytes="27672">== screen ==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window &lt;br&gt;
  13)ctrl-a + a, move cursor to the line begin

screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==short cut key==
# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# alt + d,   cut 1 word after cursor
# ctrl + y , paste previous cut
# ctrl + f (-&gt; arrow) , move cursor right 1 char
# ctrl + b (&lt;- arrow), move cursor left 1 char
# ctrl + -&gt; arrow (&lt;- arrow) , move cursor right (left) 1 word
# ctrl + d (delete key), delete cursor right 1 char
# alt + u , change to upper case (cursor right 1 word)
# alt + i, change to lower case (cursor right 1 word) 

&lt;br&gt;
# ctrl + shift + t , open new terminal tab
# ctrl + shift + w , close current terminal tab
# ctrl + shift + n , open new terminal window
# ctrl + shift + q , close terminal window
&lt;br&gt;
# ctrl + shift + c, copy in terminal
# ctrl + shift + v, paste in terminal
&lt;br&gt;
# f11 , full screen terminal
# ctrl + , zoom in terminal
# ctrl - , zoom out terminal
# ctrl + 0 (zero), normal size terminal
# ctrl + shift + f , find in terminal
# ctrl + shift + h , find next
# ctrl + shift + g , find previous
# ctrl + page down , next tab
# ctrl + page up, prevous tab
# ctrl + shift + page down, move tab to right
# ctrl + shift + page up, move tab to left


==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003


* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==
 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==
*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:


==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008

==reference doc==
*http://linux.vbird.org/
*认识学习Bash - http://linux.vbird.org/linux_basic/0320bash.php</text>
    </revision>
  </page>
  <page>
    <title>Linux setup cory</title>
    <ns>0</ns>
    <id>2079</id>
      <sha1>r9t2pj3tmmx2smk7hf54tndkqj43iq5</sha1>
    <revision>
      <id>5179</id>
      <timestamp>2015-12-05T08:58:43Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* install apache */</comment>
      <text xml:space="preserve" bytes="2226">==stop default apache ==
 [root@cory ~]# whereis apachectl
 apachectl: /usr/sbin/apachectl /usr/share/man/man8/apachectl.8.gz
 [root@cory ~]# /usr/sbin/apachectl stop

==add user ==
 [root@AY13111514211915241fZ /]# useradd -m appdev

 [root@AY13111514211915241fZ /]# passwd appdev

==add sudo previlege ==
 shell&gt; su 
 shell&gt; chmod +w /etc/sudoers
 shell&gt; echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 shell&gt; chmod -w /etc/sudoers
 shell&gt; exit

== install subversion==
 shell&gt;sudo yum install subversion

== install git ==
 shell&gt;sudo yum install git

== install memcached ==
 shell&gt;sudo yum install memcached

* start memcached
 shell&gt;sudo /etc/init.d/memcached start

* memcached config
 shell&gt;


==install nodejs ==
* find the node tar ball from nodejs site
 shell&gt;wget https://nodejs.org/dist/v4.2.1/node-v4.2.1-linux-x64.tar.gz
 shell&gt;tar -zxvf node-v4.2.1-linux-x64.tar.gz
 shell&gt;cd /usr/local/
 [appdev@server1 local]$ sudo mkdir nodejs
 [appdev@server1 local]$ cd nodejs/
 [appdev@server1 nodejs]$ sudo mv ~/node-v4.2.1-linux-x64 node-v4.2.1
 [appdev@server1 nodejs]$ sudo ln -s node-v4.2.1 nodejs
 shell&gt;/usr/local/bin
 [appdev@server1 bin]$ sudo ln -s /usr/local/nodejs/nodejs/bin/node node
 appdev@server1 bin]$ sudo ln -s /usr/local/nodejs/nodejs/bin/npm npm

== add sudo $PATH ==
 &gt;sudo visudo
 &gt;Defaults    secure_path =+ /usr/local/bin

==install ghost blog==
 $ curl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip
 $ unzip -uo ghost.zip -d ghost
 $ cd /path/to/ghost
 npm install --production
 $ npm start

* You can adjust the IP-address and port in config.js

* Use forever run ghost in background
 通过 npm install forever -g 安装 forever
 NODE_ENV=production forever start index.js
 通过 forever stop index.js 停止 Ghost
 通过 forever list 检查 Ghost 当前是否正在运行

*http://docs.ghost.org/installation/linux/
*http://docs.ghost.org/zh/installation/deploy/

== install new ghost ==
 curl -L https://en.ghost.org/archives/ghost-0.7.1.zip -o gohst-0.7.1.zip

== install jamwiki ==

== install archiva ==

== install apache and php ==
* Download php-5.6.16.tar.gz to ~/Downloads
 tar zxvf php-5.6.16.tar.gz

* http://lokvin.wikia.com/wiki/Mac#install_apache_with_php</text>
    </revision>
  </page>
  <page>
    <title>Linux tidy up</title>
    <ns>0</ns>
    <id>2107</id>
      <sha1>4vtngpwx7h5hk4g70ldpg5foz4fnila</sha1>
    <revision>
      <id>4552</id>
      <timestamp>2014-07-04T05:54:04Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* find */</comment>
      <text xml:space="preserve" bytes="2525">==ref doc==
*http://linux.vbird.org/

==curl ==
* Transfer a url

* curl post method, curl -d (--data)
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 // -D - , dump header to standard output
 // -# , progress bar

 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl -# -o r.htm &quot;http://www.reuters.com&quot;
 //download specify html response to r.html file

==wget ==
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O - &quot;http://www.reuters.com&quot;

 wget -O r.htm &quot;http://www.reuters.com&quot;

==screen==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  n) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window &lt;br&gt;
  13)ctrl-a + a, move cursor to the line begin

screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/

==find ==
* find, walk a file hierarchy

* find by name in specify folder
 shell&gt; find ~/.m2 -name &quot;commons-beanutils-*.jar&quot;

 ## find in two folder ~ and ~/.m2 for name is commons-beanutils-*.jar 
 shell&gt; find ~ ~/.m2 -name &quot;commons-beanutils-*.jar&quot;

 ## find by name and case insensitive
 shell&gt; find ~/.m2 -iname &quot;commons-beanutils-*.jar&quot;

 ## find file modified time less than 1 day, this command very useful for finding prod issue
 shell&gt;find . -mtime -1

 ## find file modified time larger than 1 day
 shell&gt;find . -mtime +1 

 ## find file modified time less than 60 minutes
 shell&gt; find . -mmin -60</text>
    </revision>
  </page>
  <page>
    <title>Linux tips</title>
    <ns>0</ns>
    <id>2109</id>
      <sha1>31oez1hlw26j9z01j05pxzw71jh0rx7</sha1>
    <revision>
      <id>4582</id>
      <timestamp>2014-08-06T09:26:30Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* date, cal, bc */</comment>
      <text xml:space="preserve" bytes="1415">==date, cal, bc ==
* date - print or set the system date and time
 [yufei@localhost ~]$ date
 Wed Aug  6 16:50:35 CST 2014 

 [yufei@localhost ~]$ date &quot;+%F %H:%M %z&quot;
 2014-08-06 16:49 +0800

For check date support parameter use man
 shell&gt;man date

* Common man page part
** NAME   
** SYNOPSIS  概要，语法简介
** DESCRIPTION  较为完整说明 '''需要仔细看'''
** OPTIONS  针对 synopsis 列举可用的选项说明
** COMMANDS
** FILES
** SEE ALSO
** EXAMPLE

* 一般 man page 阅读
#先看NAME，大致看一下这个command 的意思
#再详看一下DESCRIPTION，這個部分會提到很多相關的資料與使用時機，從這個地方可以學到很多小細節；
#如果這個指令其實很熟悉了(例如上面的date)，主要就是查詢關於OPTIONS的部分了！ 可以知道每個選項的意義
#最后看一下 See also ， example 等。

* man page short cut key

{| class=&quot;wikitable&quot;
|-
! short key
! Result
|-
| blank
| 向下翻一頁
|-
|[Page Down]
|向下翻一頁
|-
|[Page Up]
|向上翻一页
|-
|[Home]
|去首页
|-
|[End]
|去末页
|-
|/string
|向『下』搜尋 string 這個字串，如果要搜尋 vbird 的話，就輸入 /vbird
|-
|?string
|向『上』搜尋 string 這個字串
|-
|n, N
|利用 / 或 ? 來搜尋字串時，可以用 n 來繼續下一個搜尋 (不論是 / 或 ?) ，可以利用 N 來進行『反向』搜尋。
|-
|q
|quit man page
|}</text>
    </revision>
  </page>
  <page>
    <title>Log4j</title>
    <ns>0</ns>
    <id>2136</id>
      <sha1>rjvgm8f6peu4kfp0o6hgtrh92d4k438</sha1>
    <revision>
      <id>4897</id>
      <timestamp>2015-09-07T05:16:01Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* log4j.additivity */</comment>
      <text xml:space="preserve" bytes="802">==log4j.additivity ==

* log4j.additivity是 子Logger 是否继承 父Logger 的 输出源（appender） 的标志位。具体说，默认情况下 子Logger 会继承 父Logger 的appender，也就是说 子Logger 会在 父Logger 的appender里输出。若是additivity设为false，则 子Logger 只会在自己的appender里输出

* true if child loggers inherit their parent's appenders. Additivity is set to true by default, that is children inherit the appenders of their ancestors by default. If this variable is set to false then the appenders found in the ancestors of this logger are not used, use his own appender.

== ConversionPattern ==
 log4j.appender.rightnow.layout.ConversionPattern=%d [%t] - %m%n

* https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html</text>
    </revision>
  </page>
  <page>
    <title>Lokvin Wiki</title>
    <ns>0</ns>
    <id>1461</id>
      <sha1>de03ljq2blp0e3hn1tfxb8ntltwvzwa</sha1>
    <revision>
      <id>5181</id>
      <timestamp>2015-12-06T09:02:43Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* Markdown */</comment>
      <text xml:space="preserve" bytes="2831">=Technology=
==tips==
*[[tips]] - tips

==tools==
*[[tools]] - tools

==linux==
*[[linux]] - linux
*[[rcom setup]] - rcom setup
*[[linux setup cory]] - linux setup cory
*[[install fedora21]] - install fedora21
*[[install ubuntu 14.04]] - install ubuntu 14.04

==mac ==
*[[mac]] - mac
*[[mac upgrade ssd]] - mac upgrade ssd
*[[mac setup]] - mac setup dev env

==mysql ==
*[[mysql]] - mysql

==maven ==
*[[maven]] - maven

==java==
*[[java]] - java
*[[java tool box]] - java tool box
*[[jstl]] -JSTL

== tomcat ==
*[[tomcat]] - tomcat

==ruby ==
* [[rubygem]] - rubygem

==log ==
* [[log4j]] - log4j

==ios==
*[[ios]] - iOS

*[[ios dev]] - ios dev

==vim ==
*[[vim]] - vim

==clojure ==
*[[clojure]] - clojure

==eclipse ==
*[[eclipse]] - eclipse

==atom ==
* [[atom]] - atom

==svn==
*[[svn]] - svn

==git ==
*[[git]] - git

==javascript ==
*[[javascript]] - javascript

==python ==
* [[python]] - python

==memcached ==
* [[memcached]] - memcached

==varnish==
* [[varnish]] - varnish

==restful webservice ==
* [[rest]] - RESTful WebServices

==http==
* [[http]] - http

==jetty ==
* http://www.eclipse.org/jetty/ -- official site

==apache shiro ==
* http://shiro.apache.org/ -- official site
* http://www.infoq.com/articles/apache-shiro -- introduce article about shiro
* http://www.infoq.com/cn/articles/apache-shiro -- cn edition about shiro

==make ==
* [[make]] - make

==m4 ==
*[[m4]] - m4

==spring side ==
*[[spring side]] - spring side

==nodejs ==
*[[nodejs]] - nodejs

==chrome ==
*[[chrome]] - chrome

==docker ==
*[[docker]] - docker
*[[dics migration]] - dics migration

==meteor ==
* [[meteor]] - meteor

==Markdown ==
* [[Markdown]] - Markdown

== wiki ==
* [[mediawiki]] - mediawiki
* [[jamwiki]] - jamwiki

==Grunt ==
* [[Grunt]] - GruntJS

==Yeoman ==
*[[Yeoman]] - Yeoman

==Bower ==
* [[Bower]] - Bower
==Angular ==
* [[Angular]] - Angular

==Backbone, Ember, React ==
* [[Backbone]] - Backbone

==React ==

* https://facebook.github.io/react/

==Heroku ==
* https://devcenter.heroku.com/
* http://www.infoq.com/cn/news/2014/09/heroku-http-design-guide

== Octopress ==
write blog use github pages
* [[Octopress]] - Octopress

==vpn ==
* http://www.bestvpn-china.com/blog/12142/5-best-vpns-china-march-2015/

==travis CI ==
* https://travis-ci.org

== drone ==
* http://docs.drone.io/

=Misc=
*[[daily]] - daily
*[[interview questions]] - interview questions
*[[miwifi]] - miwifi

=Projects =
* [[elastic]] - elastic search

=work env=
* [[my macbook pro]]work on my macbook pro

==Algorithm ==
* [[algorithm]] - algorithm

=Reading List=
*[[reading list]] - reading list

=To Do=
*[[todo]] - to do

=help= 
*edit wiki
** http://meta.wikimedia.org/wiki/Help:Wikitext
** http://meta.wikimedia.org/wiki/Help:Contents#For_editors
** http://cheminsilico.blogspot.com/2008/07/display-source-code-in-mediawiki.html</text>
    </revision>
  </page>
  <page>
    <title>M4</title>
    <ns>0</ns>
    <id>2106</id>
      <sha1>mbc7ewopmvrpye6masabywzbzshkryh</sha1>
    <revision>
      <id>4450</id>
      <timestamp>2014-03-10T14:32:55Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>Created page with &quot;==m4 doc == * http://mbreen.com/m4.html * http://www.gnu.org/software/m4/manual/m4.html&quot;</comment>
      <text xml:space="preserve" bytes="87">==m4 doc ==
* http://mbreen.com/m4.html
* http://www.gnu.org/software/m4/manual/m4.html</text>
    </revision>
  </page>
  <page>
    <title>Mac</title>
    <ns>0</ns>
    <id>2110</id>
      <sha1>qdlkybpww1oxg2pg9vtqp6a64rzr75f</sha1>
    <revision>
      <id>5180</id>
      <timestamp>2015-12-05T09:29:51Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* install apache with php */</comment>
      <text xml:space="preserve" bytes="3271">== mac keep env variable when sudo ==
* sudo visudo
 sudo visudo
 ## add you need keep env variable
 Defaults        env_keep += &quot;http_proxy&quot;
 
 &gt;sudo printenv
 # you can find http_proxy avaliable in sudo 

==install iTerm2==
*http://iterm2.com/

==install jdk ==
* install jdk 7 on mac osx 10.9, the jdk location is
http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html

 lokvins-mbp:~ lokvin$ /usr/libexec/java_home -v 1.7
 /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home

* install jdk 6 on mac osx 10.9
https://developer.apple.com/downloads/  &lt;br&gt;
search &quot;java&quot;, download &quot;Java for OS X 2013-004 Developer Package&quot;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

==ls with color ==
 &gt;alias ls='ls -G'

==install command line tools==
 xcode-select --install

==install apache with php ==
* install apache httpd
 $tar zxvf httpd-2.2.25.tar.gz
 $cd httpd-2.2.25
 $./configure \
    --prefix=/opt/apache22 \
    --enable-so \
    --enable-mods-shared=all \ 
    --enable-proxy=shared \
    --enable-cache=shared \
    --enable-file-cache=shared \
    --enable-disk-cache=shared \
    --enable-mem-cache=shared 

 $make
 $sudo make install

* install apache with php http://php.net/manual/en/install.unix.apache2.php
 $tar -zxvf php-5.4.31.tar.gz
 $cd php-5.4.31
 $./configure --with-apxs2=/opt/apache22/bin/apxs --with-mysql
 $make
 $sudo make install
 $cp php.ini-development /usr/local/lib/php.ini

* add to apache httpd.conf

 &lt;FilesMatch \.php$&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;

 &lt;FilesMatch &quot;\.ph(p[2-6]?|tml)$&quot;&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;
*create a info.php file under htdocs like:
 &lt;?php
     phpinfo();
 ?&gt;
* access http://localhost/info.php

== install memcached ==
* http://www.rahuljiresal.com/2014/03/installing-memcached-on-mac-with-homebrew-and-lunchy/

 * You should also make sure your Homebrew is up-to-date. Use update and doctor commands to update and fix any issues it may have.
 brew update
 brew doctor

* install memcached
 brew install memcached
 gem install lunchy
 brew info memcached
 cp /usr/local/Cellar/memcached/$version/homebrew.mxcl.memcached.plist ~/Library/LaunchAgents/
 lunchy start memcached
 lunchy stop memcached

==set terminal tab name ==
* command + shift + i , call the menu, edit the tab name

== set env viriable==
* http://www.dowdandassociates.com/blog/content/howto-set-an-environment-variable-in-mac-os-x-terminal-only/

==brew update m4 ==
 brew install homebrew/dupes/m4

install location
 /usr/local/Cellar/m4/1.4.17

add below to path
 /usr/local/Cellar/m4/1.4.17/bin

==lock screen ==
* System Preferences &gt; Security &amp; Privacy &gt; General. required password &quot;immediately&quot; after sleep
* ctrl + shift + enject

==use Mail app receive email ==
*https://thehub.thomsonreuters.com/docs/DOC-945919?utm_source=results&amp;utm_medium=full&amp;utm_campaign=search#jive_content_id_How_to_setup_your_work_email_in_Apple_mail

==Mail app mark all as read ==
* https://support.apple.com/kb/PH19169?locale=en_US
* Control-click a mailbox, then choose Mark All Messages As Read.

== install tree ==
 &gt;brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8</text>
    </revision>
  </page>
  <page>
    <title>Mac upgrade ssd</title>
    <ns>0</ns>
    <id>2133</id>
      <sha1>p8csbfejdp5wanlulhbppca1u0k0272</sha1>
    <revision>
      <id>4837</id>
      <timestamp>2015-05-15T15:31:08Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* mac upgrade ssd */</comment>
      <text xml:space="preserve" bytes="1204">==mac upgrade ssd==
My macbook pro is 2011 early 13' one. Recently I update 256G ssd disk to it. When use usb reinstall Yosemite (https://support.apple.com/en-us/HT201372) , I meet an error &quot;This copy of the Install OS X Yosemite application can’t be verified. It may have been corrupted or tampered with during downloading.&quot; After some googling, the reason is system date is 2001, change it current date (2015), then install success.
 
 #September 20 2016 at 17:33 
 date 0920173316

* some useful link
** http://v.youku.com/v_show/id_XNDAxODk3MTUy.html?xhttps://www.ifixit.com/Device/MacBook_Pro_13 - WangZiRu update ssd video
** http://bbs.feng.com/read-htm-tid-4978388.html - some one update mc700 ssd
** http://bbs.feng.com/read-htm-tid-4929537.html - some one clean mc700 fun
** http://www.dgtle.com/article-296-1.html - some one update ssd
** http://osxdaily.com/2014/10/16/make-os-x-yosemite-boot-install-drive/ - boot usb yosemite
** http://osxdaily.com/2015/01/19/fix-os-x-install-errors-cant-be-verified-error-occurred-preparing-mac/ - fix usb can't verify issue

==enable trim ==
*http://tadaland.com/macbook-pro-install-optical-ssd.html
*http://www.macupdate.com/app/mac/37852/trim-enabler</text>
    </revision>
  </page>
  <page>
    <title>Main Page</title>
    <ns>0</ns>
    <id>2059</id>
    <redirect title="Lokvin Wiki" />
      <sha1>mu6sxhdsaiqyuu6d1cpzz69huo3ezrb</sha1>
    <revision>
      <id>3990</id>
      <timestamp>2013-09-04T09:54:19Z</timestamp>
      <contributor>
        <username>CreateWiki script</username>
        <id>929702</id>
      </contributor>
      <comment>CreateWiki script moved page [[Main Page]] to [[Lokvin Wiki]]: SEO</comment>
      <text xml:space="preserve" bytes="25">#REDIRECT [[Lokvin Wiki]]</text>
    </revision>
  </page>
  <page>
    <title>Make</title>
    <ns>0</ns>
    <id>2090</id>
      <sha1>km1kx7zkl6gkzqov9uj4fes7bk2qn3h</sha1>
    <revision>
      <id>4485</id>
      <timestamp>2014-03-27T03:14:02Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* &quot;*&quot; &quot;.&quot; &quot;?&quot; [...] 通配符 */</comment>
      <text xml:space="preserve" bytes="6850">==Makefile 组成 ==
 TARGETS: PREREQUESTS
 [Tab]COMMAND
 ...

或者

 TARGETS: PREREQUESTS; COMMAND
 [Tab]COMMAND
 ...

* '\' ，用来分割超长的行
 objects=main.o kid.o really.o \
 insert.o uitls.o
 edit: $(objects)
 [Tab]cc -o edit $(ojbects)
 ...

* $ 是特殊字符，一般表示变量，$(aa) 等同 ${aa}, 如果需要字符 $ ，用 “$$” 表示

* 一个完整的 Makefile 包含了5个东西：显示规则，隐式规则，变量定义，指示符，注释

==.PHONY (伪目标) ==
 .PHONY: clean
 clean: 
 [Tab]-rm edit $(objects)

* 通过 .PHONY 将 clean 声明为 伪target, 防止磁盘上有一个名为 &quot;clean&quot; 的文件时，目标无法执行。
* '''-rm''' 忽略命令 rm 的执行错误。 (如果不忽略，rm 的错误会停止 make 的继续执行)

== # (注释) ==
* # 后的内容会当做注释，如果需要字符 # ，用 (\#) 实现。

==Makefile ==
* make 命令默认需找目录下名为 Makefile 的文件，GNU make 默认文件名寻找顺序：GNUmakefile, makefile, Makefile
* 通过 -f 或 --file 来指定 file name
 &gt;make -f fileName targetName

==include  ==
* &quot;include&quot; 指示符告诉 make 暂停读取当前 Makefile, 转而读取 “include” 指定的一个，多个文件。
 include FILENAMES...
* &quot;-include FILENAME&quot; 当所包含的文件不存在时，忽略错误，不会退出，只有目标规则不存在才会退出。

==ifdef ifndef ==

==ifeq ifneq ==

== &quot;*&quot; &quot;.&quot; &quot;?&quot; [...] 通配符==
* Makefile 中的通配符与 BShell 中的相同，例如， *.c 表示当前工作目录下所有 &quot;.c&quot; 结尾的文件。
* 但是通配符并不可以用在任何地方，Makefile 中通配符可以出现在以下两种场合:
** 可以用在规则的目标，依赖中，此时 make 会自动将其展开
** 可以出现在规则命令中，其展开是在 shell 执行此命令时
* 除以上两种之外其他上下文中，不能直接用通配符，需要用函数 $(wildcard) 来实现。

* ~ 表示当前用户的 home dir, ~john/bin 表示 user john 的 home/bin dir
* 变量定义中的通配符不会自动展开，需要 $(wildcard)
 objects=$(wildcard *.o)

== $(strip) ==
* Removes leading and trailing whitespace from string and replaces each internal sequence of one or more whitespace characters with a single space. Thus, `$(strip a b c )' results in `a b c'.
*http://sunsite.ualberta.ca/Documentation/Gnu/make-3.79/html_chapter/make_8.html#SEC77

==$(subst from,to,text) ==
* Performs a textual replacement on the text text: each occurrence of from is replaced by to. The result is substituted for the function call. For example
 $(subst ee,EE,feet on the street)
 ## result, substitutes the string ‘fEEt on the strEEt’.

==$(if condition,then-part[,else-part]) ==
*The first argument, condition, first has all preceding and trailing whitespace stripped, then is expanded. If it expands to any non-empty string, then the condition is considered to be true. If it expands to an empty string, the condition is considered to be false.

*If the condition is true then the second argument, then-part, is evaluated and this is used as the result of the evaluation of the entire if function.

*If the condition is false then the third argument, else-part, is evaluated and this is the result of the if function. If there is no third argument, the if function evaluates to nothing (the empty string).

*Note that only one of the then-part or the else-part will be evaluated, never both. Thus, either can contain side-effects (such as shell function calls, etc.)

==$(foreach var,list,text) ==
*The first two arguments, var and list, are expanded before anything else is done; note that the last argument, text, is not expanded at the same time. Then for each word of the expanded value of list, the variable named by the expanded value of var is set to that word, and text is expanded. Presumably text contains references to that variable, so its expansion will be different each time.

*The result is that text is expanded as many times as there are whitespace-separated words in list. The multiple expansions of text are concatenated, with spaces between them, to make the result of foreach.

*This simple example sets the variable ‘files’ to the list of all files in the directories in the list ‘dirs’:

     dirs := a b c d
     files := $(foreach dir,$(dirs),$(wildcard $(dir)/*))

==?===
* ?=
 FOO ?= bar
其含义是，如果FOO没有被定义过，那么变量FOO的值就是“bar”，如果FOO先前被定义过，那么这条语将什么也不做

==difference between '=' and ':='==
* In short, variables defined with := are expanded once, but variables defined with = are expanded whenever they are used.

http://www.gnu.org/software/make/manual/html_node/Flavors.html - two flavors of variable

== += （追加符）==
 a+=b

==$(wildcard) ==
*Wildcard expansion happens automatically in rules. But wildcard expansion does not normally take place when a variable is set, or inside the arguments of a function. If you want to do wildcard expansion in such places, you need to use the wildcard function.
 $(wildcard pattern...)

*This string, used anywhere in a makefile, is replaced by a space-separated list of names of existing files that match one of the given file name patterns. If no existing file name matches a pattern, then that pattern is omitted from the output of the wildcard function.

==$(filter) ==
 $(filter pattern...,text)
* Returns all whitespace-separated words in text that do match any of the pattern words, removing any words that do not match. The patterns are written using `%', just like the patterns used in the patsubst function above. The filter function can be used to separate out different types of strings (such as file names) in a variable. For example:

 sources := foo.c bar.c baz.s ugh.h
          foo: $(sources)
                  cc $(filter %.c %.s,$(sources)) -o foo

==$(filter-out)==
 $(filter-out pattern...,text)
* Returns all whitespace-separated words in text that do not match any of the pattern words, removing the words that do match one or more. This is the exact opposite of the filter function.
For example, given:
          objects=main1.o foo.o main2.o bar.o
          mains=main1.o main2.o
the following generates a list which contains all the object files not in ‘mains’:
          $(filter-out $(mains),$(objects))

* https://www.gnu.org/software/make/manual/html_node/Text-Functions.html

==debug make rules ==
*''make -n'' can help show what would be done without actually doing it.
*echo 'print: ; @echo &quot;$(VAR)&quot;' | make -f Makefile -f - print can be handy to examine the expanded value of variables.
*http://www.gnu.org/software/automake/manual/html_node/Debugging-Make-Rules.html
*http://oreilly.com/catalog/make3/book/ch12.pdf
*http://oreilly.com/catalog/make3/book/index.csp</text>
    </revision>
  </page>
  <page>
    <title>Markdown</title>
    <ns>0</ns>
    <id>2119</id>
      <sha1>h9k3ge79n6q41y8oxya1ptmfomi8pqc</sha1>
    <revision>
      <id>4884</id>
      <timestamp>2015-07-16T06:31:14Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* markdown syntax */</comment>
      <text xml:space="preserve" bytes="457">== Markdown ==
* http://daringfireball.net/projects/markdown
* https://guides.github.com/features/mastering-markdown/
* https://help.github.com/articles/writing-on-github/

==markdown syntax==
* http://daringfireball.net/projects/markdown/syntax
* http://www.ituring.com.cn/article/504 - CN version
* https://github.com/xirong/my-markdown

== write book with markdonw==
* useing markdown, github, travis-ci
* http://www.ituring.com.cn/article/828?q=markdown</text>
    </revision>
  </page>
  <page>
    <title>Maven</title>
    <ns>0</ns>
    <id>2104</id>
      <sha1>2edpwdn53zzpzef97f1bjh2cr6mkza0</sha1>
    <revision>
      <id>5171</id>
      <timestamp>2015-11-26T16:02:02Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* opensource repository managers */</comment>
      <text xml:space="preserve" bytes="3403">== mavn force update from remote ==
 #-U means force update of dependencies
 mvn clean install -U


== maven with JDK ==
* maven 3.2 requires jdk 1.6 or above, maven 3.0/3.1 require jdk 1.5 or above

==oschina maven repo ==
* http://maven.oschina.net/help.html - config maven repo use oschina maven repo

==configure maven==
*http://maven.apache.org/guides/mini/guide-configuring-maven.html
*http://maven.apache.org/ref/3.2.3/maven-settings/settings.html
*http://maven.apache.org/settings.html
* http://maven.apache.org/components/ref/ - all version reference

==create a simple java project==
*check your ~/m2/settings.xml
*create project with archetype plugin
 mvn archetype:create -DgroupId=com.lokvin -DartifactId=baseman -DarchetypeArtifactId=maven-archetype-quickstart
 mvn archetype:generate -DgroupId=me.lokvin.example -DartifactId=SpringExample -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false

*create a new github repository

 touch README.md
 git init
 git add .
 git commit -m &quot;first commit&quot;
 git remote add origin https://github.com/xxxx/baseman.git
 git push -u origin master

* make it to eclipse project
 &gt;cd baseman
 &gt;mvn eclipse:eclipse

== mvn archetype ==
* http://maven.apache.org/archetype/maven-archetype-plugin/usage.html

==mvn download source code ==
 mvn dependency:sources

== mvn dependency tree ==
 mvn dependency:tree

== settings.xml ==
&lt;pre&gt;
&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0
￼http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;
      &lt;localRepository/&gt;
      &lt;interactiveMode/&gt;
      &lt;usePluginRegistry/&gt;
      &lt;offline/&gt;
      &lt;pluginGroups/&gt;
      &lt;servers/&gt;
      &lt;mirrors/&gt;
      &lt;proxies/&gt;
      &lt;profiles/&gt;
      &lt;activeProfiles/&gt;
&lt;/settings&gt;
&lt;/pre&gt;

{| class=&quot;wikitable&quot;
|-
! Element Name
! Description
|-
| localRepository
| Maven 用来存储 plugins 和 dependencies 的本地目录。 默认为 ~/.m2/repository. 可以通过这个属性来指定别的目录
|-
| interactiveMode
| Default is true. Maven interact with user for input
|-
| offline
| Default is false. When set true, maven operate in offline mode
|-
| servers
| Maven can interact with a variety of servers, such as: SVN, build server, remote repository server. This element specify security credentials. such as username, passwd which connect to these server
|-
| mirrors
| specify alternative locations for your respositories
|-
| proxies
| http proxy information connect to internet
|-
| profiles
| profiles allow to group certain configuration elements, such as: repositories and pluginRepositories
|-
| activeProfile
| activeProfile allow you specify default profile to be active for maven use
|}

==maven dependency management ==
[[File: enterpriseMavenRepository.png|500px]]

'''Enterprise Maven repository architecture '''

[[File: MavenRepositoryManagement.png]]

'''Maven Dependency Management '''

== opensource repository managers ==
* http://www.sonatype.com/nexus/product-overview
* http://archiva.apache.org/index.cgi
* https://www.jfrog.com/open-source/

== maven create spring example project ==
*http://projects.spring.io/spring-framework/

* create empty project
 mvn archetype:generate -DgroupId=me.lokvin.example -DartifactId=SpringExample -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false</text>
    </revision>
  </page>
  <page>
    <title>Mediawiki</title>
    <ns>0</ns>
    <id>2144</id>
      <sha1>qcs3u4oqn8jum0gyjjokf34dmf85ejc</sha1>
    <revision>
      <id>5183</id>
      <timestamp>2015-12-06T09:15:49Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* media wiki */</comment>
      <text xml:space="preserve" bytes="215">== media wiki==
* https://www.mediawiki.org/wiki/MediaWiki

== export wiki pages ==

=== Special:AllPages (list all pages)===
* use Special:AllPages list all pages , eg:
http://lokvin.wikia.com/wiki/Special:AllPages</text>
    </revision>
  </page>
  <page>
    <title>Memcached</title>
    <ns>0</ns>
    <id>2083</id>
      <sha1>nr4f17lt6mxffajls7ch352z23i73gi</sha1>
    <revision>
      <id>4354</id>
      <timestamp>2014-01-15T09:40:46Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* memcahced command line parameters */</comment>
      <text xml:space="preserve" bytes="779">==memcached ==
* http://memcached.org/ - official site

===check hitreate===
* Hitrate is defined as: get_hits / (get_hits + get_misses) 
 &gt;telnet host port

 &gt;telnet localhost 11211
 &gt;stats

* https://code.google.com/p/memcached/wiki/NewCommands -- memcached telnet command

===memcahced command line parameters ===
 nobody   25723  0.0  0.0  61656  8416 ?        Ssl  Jan14   0:00 memcached_145 -d -p 11211 -u nobody -m 2048 
 -c 1024 -P /var/run/memcached_145/memcached_145-marketdata.pid

 -m &lt;num&gt;
 Use &lt;num&gt; MB memory max to use for object storage; the default is 64 megabytes.

 -c &lt;num&gt;
 Use &lt;num&gt; max simultaneous connections; the default is 1024.

 -P &lt;filename&gt;
 Print pidfile to &lt;filename&gt;, only used under -d option.

*http://linux.die.net/man/1/memcached - man page</text>
    </revision>
  </page>
  <page>
    <title>Meteor</title>
    <ns>0</ns>
    <id>2117</id>
      <sha1>r4n9lqltr3k4knnxav1y0r3wofue6mx</sha1>
    <revision>
      <id>4842</id>
      <timestamp>2015-06-04T15:45:59Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* transleate CN for Discover Meteor */</comment>
      <text xml:space="preserve" bytes="1034">==meteor ==
* https://www.meteor.com

==Discover Meteor ==

* https://www.discovermeteor.com/

=== install bunlder===
  gem install bundler
*http://bundler.io/#getting-started

===transleate CN for Discover Meteor ===
 $git clone git@github.com:DiscoverMeteor/DiscoverMeteorStatic.git
 $cd DiscoverMeteorStatic
 $bundle install
 $git submodule init
 ## for first time
 $git submodule update
 $git submodule foreach git pull origin master
 $export DMLANG=zh
 $bundle exec middleman

  $git clone git@github.com:DiscoverMeteor/DiscoverMeteorStatic.git
  $cd DiscoverMeteorStatic
  $bundle install
  #clone en to source/chapters/en
  $cd source/chapters
  $git clone git@github.com:DiscoverMeteor/DiscoverMeteor_En.git en
  $export DMLANG=en
  $bundle exec middleman


* Access http://0.0.0.0:4567
* Note, each time middle man generate for 1 language, the language config in /configure.rb
 DEFAULTLANG = 'zh'
 LANG = ENV['DMLANG'] || DEFAULTLANG

* You can specify language by export DMLANG=zh , then restart middleman
 $export DMLANG=zh</text>
    </revision>
  </page>
  <page>
    <title>Miwifi</title>
    <ns>0</ns>
    <id>2112</id>
      <sha1>kgdiyx3opjgq6dzl1aly1nknj7bv1dw</sha1>
    <revision>
      <id>4622</id>
      <timestamp>2014-08-22T13:01:29Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* miwifi */</comment>
      <text xml:space="preserve" bytes="53">==miwifi ==
http://miwifi.com/ &lt;br&gt;
192.168.31.1 &lt;br&gt;</text>
    </revision>
  </page>
  <page>
    <title>My macbook pro</title>
    <ns>0</ns>
    <id>2127</id>
      <sha1>21jsklalo5bq9ffsg8jowpz9ibms0j3</sha1>
    <revision>
      <id>4759</id>
      <timestamp>2015-03-06T05:16:17Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* work env */</comment>
      <text xml:space="preserve" bytes="264">==work env ==
* System preference - network - select 'rcom-dev-env' (which have some dns settings)
* maven use rcom settings.xml
  &gt;sudo cp ~/.m2/settings.xml-mediaexpress ~/.m2/settings.xml

==apache ==
 /rt/apache/web
 /rt/apache/web/conf/extra/httpd-vhosts.conf</text>
    </revision>
  </page>
  <page>
    <title>Mysql</title>
    <ns>0</ns>
    <id>2070</id>
      <sha1>05cc771vnro2zgmjtvcabvorvy9hrf9</sha1>
    <revision>
      <id>4990</id>
      <timestamp>2015-10-27T07:18:42Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* mysql add user */</comment>
      <text xml:space="preserve" bytes="16984">== mysql check version ==
 mysql&gt; select version();

== mysql change root passed ==
 SET PASSWORD FOR 'root'@'localhost' = PASSWORD('MyNewPass');

==mysql setup on my macbook pro==
* install use mysql dmg file

* startup from System Preference -&gt; Mysql

* start up from terminal
 sudo /usr/local/mysql/support-files/mysql.server start
 sudo /usr/local/mysql/support-files/mysql.server restart
 sudo /usr/local/mysql/support-files/mysql.server stop
 
*install on 
 /usr/local/mysql

* set root passwd
root/ r00t

* mysql's my.cnf file
 cp /usr/local/mysql/support-files/my-default.cnf /etc/my.cnf

==show procedure ==
 mysql&gt;show procedure status;

==show databases , tables==
 mysql&gt;show databases;
 mysql&gt;use somedb;
 mysql&gt;show tables;

==show create table statement==
* https://dev.mysql.com/doc/refman/5.0/en/show-create-table.html

 SHOW CREATE TABLE tbl_name

 mysql&gt; show create table VIDEOCHANNEL \G;
 *************************** 1. row ***************************
       Table: VIDEOCHANNEL
 Create Table: CREATE TABLE `VIDEOCHANNEL` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CHANNEL_CODE` varchar(50) NOT NULL,
  `NAME` varchar(100) NOT NULL,
  `EDITION` char(2) NOT NULL DEFAULT 'US',
  `TS` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `DESCRIPTION` varchar(256) DEFAULT NULL,

==show index ==
*https://dev.mysql.com/doc/refman/5.0/en/show-index.html
 show index from table_name

 mysql&gt; show index from CATEGORY;
 +----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+-- -------+
 | Table    | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type |  Comment |
 +----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
 | CATEGORY |          0 | PRIMARY  |            1 | ID          | A         |        4303 |     NULL | NULL   |      | BTREE      |

==DESC &amp; show columns ==
* desc table_name = show columns from table_name

 mysql&gt; desc VIDEOCHANNEL;
 +----------------------+-----------------+------+-----+-------------------+-----------------------------+
 | Field                | Type            | Null | Key | Default           | Extra                       |
 +----------------------+-----------------+------+-----+-------------------+-----------------------------+
 | ID                   | bigint(20)      | NO   | PRI | NULL              | auto_increment              | 
 | CHANNEL_CODE         | varchar(50)     | NO   | MUL | NULL              |                             | 
 | NAME                 | varchar(100)    | NO   |     | NULL              |                             | 

 mysql&gt; SHOW COLUMNS FROM VIDEOCHANNEL;
 +----------------------+-----------------+------+-----+-------------------+-----------------------------+
 | Field                | Type            | Null | Key | Default           | Extra                       |
 +----------------------+-----------------+------+-----+-------------------+-----------------------------+
 | ID                   | bigint(20)      | NO   | PRI | NULL              | auto_increment              |

==mysql connect==
 mysql -uroot -p(passowrd) -hlocalhost -P(port) 

* connect mysql with utf8 encode
 mysql -h 10.90.108.154 -u reuters -preuters -P23306 rcommerce --default-character-set=utf8

* mysql connect with socket
 mysql --socket=/rt/db/tmp/mysqld.sock1 -uroot -p

==msyqldump ==
* dump entire db

 mysqldump -u iphone -piphone -h mprodusx-iphoneapp-01 -P 23306 --default-character-set=utf8 --single-transaction 
 --routines --triggers --databases iphone &gt; iphone.sql

** dump db by --socket
 mysqldump -u root -p --socket=/rt/db/tmp/mysqld.sock1 --default-character-set=utf8 --single-transaction --routines --triggers --databases cmsstaging_mobile &gt; cmsstaging_mobile.sql

* dump entire db 2
 mysqldump --opt --lock-tables=false -h $host -P $port 
 -u $user -p$password -R $db &gt; $dumpfile

* dump need tables
  mysqldump -u iphone -piphone -h mprodusx-iphoneapp-01 -P 23306 --default-character-set=utf8 --single-transaction --routines
  --triggers iphone db_changes localized_feeds slideshow_categories spotlight_feeds video_feeds &gt; iphone.sql

* dump need tables 2
 mysqldump --opt --lock-tables=false -h $host -P $port
 -u $user -p$password -R $db --tables $table &gt; $dumpfile

==import to mysql==
 mysql -u root -pr00t -h localhost -P 23306 --default-character-set=utf8 apikeys &lt; ./apikeys.sql

* import by socket
 mysql -u root -p --socket=/rt/db/tmp/mysqld.sock1 --default-character-set=utf8 cmsstaging_mobile &lt; ./cmsstaging_mobile_qa5_20140305.sql

==MySQL confgurations==
* for Development
  log-bin = /usr/local/mysql/data/mysqld/mysqld-bin.log
  log-bin-index = /usr/local/mysql/data/mysqld/mysqld-bin.index
  log=/usr/local/mysql/data/mysqld/query.log
  default_table_type = InnoDB
  log_slow_queries = /usr/local/mysql/data/mysqld/mysqld-slow.log
  long_query_time = 1
  log_error = /usr/local/mysql/data/mysqld/mysqld.err
  log_queries_not_using_indexes &lt;br&gt;
  # *** INNODB Specific options ***
  innodb_data_file_path = ibdata1:10M:autoextend
  innodb_file_per_table
* for SIT (Testing)
  log-bin = /usr/local/mysql/data/mysqld/mysqld-bin.log
  log-bin-index = /usr/local/mysql/data/mysqld/mysqld-bin.index
  log=/usr/local/mysql/data/mysqld/query.log
  default_table_type = InnoDB
  log_slow_queries = /usr/local/mysql/data/mysqld/mysqld-slow.log
  long_query_time = 1
  log_error = /usr/local/mysql/data/mysqld/mysqld.err
  log_queries_not_using_indexes &lt;br&gt;
  # *** INNODB Specific options ***
  innodb_data_file_path = ibdata1:10M:autoextend
  innodb_file_per_table
* for Production
  default_table_type = InnoDB
  log_error = /usr/local/mysql/data/mysqld/mysqld.err&lt;br&gt;
  # *** INNODB Specific options ***
  innodb_data_file_path = ibdata1:10M:autoextend
  innodb_file_per_table
* for Replication
  [mysqld_multi]
  mysqld=/usr/bin/mysqld_safe
  mysqladmin=/usr/bin/mysqladmin
  user=***
  password=***&lt;br&gt;
  [mysqld1]
  server-id=127007
  port        = 23307
  user        = ***
  sync-binlog = 10
  log-bin = /disk2/mysql/data/mysqld_rep1/mysqld-bin.log
  log-bin-index = /disk2/mysql/data/mysqld_rep1/mysqld-bin.index
  binlog-do-db = db1&lt;br&gt;
  [mysqld2]
  server-id=127008
  port=23308
  user=***&lt;br&gt;
  master-host=***
  master-user=***
  master-password=**
  master-port=**&lt;br&gt;
  replicate-do-db=db1
  replicate-ignore-table=db1.table1
  log_error=/disk2/mysql/data/mysqld_rep2/mysqld.err


==MySQL indexes==
2 types of indexes: spatial indexes (created using SPATIAL INDEX) and non-spatial indexes (created with INDEX, UNIQUE, or PRIMARY KEY)
* spatial indexes (created using SPATIAL INDEX)
** Available only for MyISAM tables. Specifying a SPATIAL INDEX for other storage engines results in an error.
** Indexed columns must be NOT NULL.
* Non-spatial indexes (created with INDEX, UNIQUE, or PRIMARY KEY): 
** Allowed for any storage engine that supports spatial columns except ARCHIVE.
** Columns can be NULL unless the index is a primary key.
** The index type for a non-SPATIAL index depends on the storage engine. Currently, B-tree is used.

==Common usage mistakes==
* now() &amp; sysdate()
  NOW() returns a constant time that indicates the time at which the statement began to execute. &lt;br&gt;(Within a stored routine or trigger, NOW() returns the time at which the routine or triggering statement began to execute.) &lt;br&gt;This differs from the behavior for SYSDATE(), which returns the exact time at which it executes as of MySQL 5.0.13.&lt;br&gt;
  SET TIMESTAMP affects the value returned by NOW() but not by SYSDATE().&lt;br&gt;
  With the --sysdate-is-now option to cause SYSDATE() to be an alias for NOW(), in which case SET TIMESTAMP affects both functions.
* date calculation
  1. do not use + - operator&lt;br&gt;
  2. use date functions such as date_diff()&lt;br&gt;
  3. convert to unix timestamp and then use + - opertator&lt;br&gt;

==Common Replication Pitfalls==

'''MySQL performs statement based replication, and certain SQL statements would cause errors in replication.'''

===System Functions===
The following system functions should NEVER be used in statements that INSERT/CHANGE data if MySQL replication is (tobe) used, &lt;br/&gt;
as they would generate different results between master and slave.

:* USER()
:* CURRENT_USER()
:* UUID()
:* VERSION()
:* LOAD_FILE()
:* SYSDATE()
:* FOUND_ROWS() 
:* ROW_COUNT()

Also usage of the following must be very cautious.

:* RAND()

===Floating Point Comparisons===
*Using Floating Points comparisons in INSERT/CHANGE statements may result in different results if running different &lt;br/&gt;
CPU or hardware (due to Floating Points compares are always fuzzy &amp; system dependent).


===replication References===
* http://dev.mysql.com/doc/refman/5.0/en/replication-features.html
* http://dev.mysql.com/doc/refman/5.0/en/replication-features-functions.html
* http://dev.mysql.com/doc/refman/5.0/en/replication-features-floatvalues.html

==Performance tuning==
* sync_binlog
  This is only for datagbase replication scenario&lt;br&gt;
  By default, the binary log is not synchronized to disk at each write. So if the operating system or machine (not only the MySQL &lt;br&gt; server) crashes, there is a chance that the last statements of the binary log are lost. To prevent this, you can make the binary &lt;br&gt; log be synchronized to disk after every N writes to the binary log, with the sync_binlog system variable.&lt;br&gt;&lt;br&gt;
  1 is the safest value for sync_binlog, but also the slowest. Even with sync_binlog set to 1, there is still the chance of an &lt;br&gt; inconsistency between the table content and binary log content in case of a crash.&lt;br&gt;&lt;br&gt;
  10 is a prefer value to improve the database performance, but there is something you need to pay attention:
    1. seperate insert/update sql in a transaction, and place fetch data in another transaction.
    2. the data maybe delay in a interval time.
* monitor slow query
enable log_slow_queries option, and set long_query_time (s)
  log_slow_queries = /usr/local/mysql/data/mysqld/mysqld-slow.log
  long_query_time = 1
* monitor query not using indexes
enable log_queries_not_using_indexes option
  log_queries_not_using_indexes

==mysql tree data model==
* An article - http://mikehillyer.com/articles/managing-hierarchical-data-in-mysql/

==mysql common use==
 mysql&gt;show databases;  // 显示数据库
 mysql&gt;use test;  // 使用 test 数据库
 mysql&gt;show tables;  // 显示表信息
 mysql&gt;describe db;  // 显示 db 表信息
 mysql&gt;create database myinfo;  // 建立名为 myinfo 的数据库
 mysql&gt;create table friends(
      id int not null auto_increment primary key,
      name varchar(20),
      age int(3),
      addr varchar(50));

 mysql&gt;drop table 表名;  // 删除一个表

 mysql&gt;drop databases 数据库名;  //删除一个数据库

 mysql&gt;insert into friends values('','埃菲',22,'moto');
 //自增字段可以使用空字符
 
 mysql&gt;insert into friends(name, age) values('jack', 22);
 
 mysql&gt;update friends set addr='IBM' where name = 'tom';
 
 mysql&gt;LOAD DATA local infile &quot;C:/myfirends.txt&quot; INTO table friends;
 //将文件中的数据导入 friends 表
 
 mysql&gt;DELETE FROM friends WHERE name='埃菲';
 
 mysql&gt;SELECT * FROM friends ORDER BY id ASC(DESC)
 //                                      升序(降序)

 mysql&gt;SELECT * FROM friends LIMIT 5, 10;
 //返回从第 6 条开始的 10 条记录，即 6 到 15 行
 
 mysql&gt;SELECT * FROM friends LIMIT 5;
 //返回 friends 表前 5 条记录
 
 //LIMIT 给定一个或两个参数，如果是两个参数，第一个指定返回第一行的偏移量(从0开始)
 //第二个参数指定返回行数
 //只有一个数字的偏移量为 0
 
 
 mysql&gt;SELECT * FROM friends INTO OUTFILE 'c:/filename';
 //将选择数据保存到文件

 mysql&gt;ALTER TABLE friends rename myfriends;
 //更改表明

 mysql&gt;ALTER TABLE friends CHANGE name myname varchar(30);
 //将列 name 改为 myname varchar(30) 类型

 mysql&gt;ALTER TABLE friends add time date default '0000-00-00';
 //增加一列 time 类型为 date, 默认值为 '0000-00-00'

 mysql&gt;ALTER TABLE friends drop COLUMN age;
 // 删除表friends 中的 age 列


 &gt;mysqldump -uroot -p -t myinfo &gt; myinfo.txt
 // '-t' 表示不导出表结构信息

 &gt;mysqldump -uroot -p -d myinfo &gt; myinfo.sql
 // '-d' 表示不导出表内容信息

 &gt;mysqldump -uroot -p myinfo &gt; myinfo.dat
 // 导出数据库 myinfo 的所有内容包括，表结构，表内容

 mysqldump 常用选项
 --add-drop-table
 在 create 之间增加一个 drop table

==mysql add user ==
 mysql&gt;GRANT ALL PRIVILEGES ON *.* TO monty@localhost IDENTIFY BY
      'something' WITH GRANT OPTION;
 
 mysql&gt;GRANT ALL PRIVILEGES ON *.* TO monty@&quot;%&quot; IDENTIFIED BY 
      'something' WITH GRANT OPTION;

 或者
 mysql&gt;CREATE DATABASE `roller` CHARACTER SET utf8 COLLATE utf8_general_ci;
 mysql&gt;grant all on roller.* to scott@'%' identified by 'tiger';
 mysql&gt;grant all on roller.* to scott@'localhost' identified by 'tiger';
 mysql&gt;use roller;
 mysql&gt;source roller.sql;
 mysql&gt;exit;

==mysql change pwd ==
 修改用户密码
 set password for root@'localhost' = password('mysql');

==mysql5.0 forget root pwd ==

*mysql 的root 密码忘了，又不能重装一下，还好google 到一个修改root 密码的方法，在 
mysql5.0 下测试好用。 如下： 

# 在service 中停掉 mysql 的 service 
# 进入 %mysql_home%\bin 目录，执行 mysqld-nt --skip-grant-tables 
# 开一个新的命令窗口执行  mysql 
# 直接就可以登录了，然后执行以下 
 &gt;use mysql 
 &gt;update user set password=password(&quot;new_pass&quot;) where user=&quot;root&quot;; 
 &gt;flush privileges; 
 &gt;exit 
# 在Task Manager 中关掉 my sql 进程。 
# 启动 mysql service ，就可以用新的 root 密码访问了。

==slow query log==
 datadir=/usr/local/mysql/data/mysqld1
 log_slow_queries    = mysqld-slow.log
 ## the relative path to mysql data folder, /usr/local/mysql/data/mysqd1/mysqld-slow.log
 long_query_time = 1
 ## query time &gt; 1 seconds will be record slow query log

 mysqldumpslow /var/log/mysql/mysql-slow.log

* Following will show top 5 query which returned maximum rows. It can find queries where you missed LIMIT clause.
 mysqldumpslow -a -s r -t 5 /var/log/mysql/mysql-slow.log

* Following will sort output by count i.e. number of times query found in slow-log.
 mysqldumpslow -a -s c -t 5 /var/log/mysql/mysql-slow.log

* https://rtcamp.com/tutorials/mysql/slow-query-log/ -- a doc about slow query log

* just use less check slow log
 less mysqld-slow.log
 //query time 2013-12-16 10:26:42
 # Time: 131216 10:26:42
 # User@Host: news[news] @  [10.90.108.109]
 # Query_time: 85.056482  Lock_time: 0.000693 Rows_sent: 1538  Rows_examined: 36204
 SET timestamp=1387189602;
 select distinct UID, NAME, REVISION_DATE, HEADLINE, EDITION, SLUG_LINE from SEARCHVIEW where EDITION = 'UK'...

==check master/slave db==
 mysql&gt; show master status \G;
 mysql&gt; show slave status \G;

==mysql show pages==
 mysql&gt;pager more;
 mysql&gt;show tables;

or 
 mysql&gt;pager less;
 mysql&gt;show tables;

exit show pages
 mysql&gt;nopager;

==mysql data time function ==
*http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_timestamp

==mysql 36==
* http://liuxin1982.blog.chinaunix.net/uid-22163222-id-3478568.html

==mysql read only==
* check mysql read only status 

 mysql&gt; select @@global.read_only;
 +--------------------+
 | @@global.read_only |
 +--------------------+
 |                  0 |
 +--------------------+
 1 row in set (0.00 sec)

* set read only runtime
 SET GLOBAL read_only=1;

==generate mysql ER diagram ==
* use mysqlworkbench reverse enginering
https://www.youtube.com/watch?v=v5Q0lz5FkW0

==copy existing mysql table to new table==
 CREATE TABLE recipes_new LIKE production.recipes;
 INSERT INTO recipes_new SELECT * FROM production.recipes;

==mysql optimize select ==
* http://dev.mysql.com/doc/refman/5.5/en/select-optimization.html
*http://20bits.com/article/10-tips-for-optimizing-mysql-queries-that-dont-suck

==mysql load test query no cache ==
 SELECT SQL_NO_CACHE id, name FROM customer; 

* http://dev.mysql.com/doc/refman/5.0/en/query-cache-in-select.html

==difference for inner jion, left join, right join, full jion ==
* http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins
* http://stackoverflow.com/questions/5706437/whats-the-difference-between-inner-join-left-join-right-join-and-full-join

==uninstall mysql from mac ==

 Open a terminal window
 Use mysqldump to backup your databases to text files!
 Stop the database server
 sudo rm /usr/local/mysql
 sudo rm -rf /usr/local/mysql*
 sudo rm -rf /Library/StartupItems/MySQLCOM
 sudo rm -rf /Library/PreferencePanes/My*
 edit /etc/hostconfig and remove the line MYSQLCOM=-YES-
 rm -rf ~/Library/PreferencePanes/My*
 sudo rm -rf /Library/Receipts/mysql*
 sudo rm -rf /Library/Receipts/MySQL*
 sudo rm -rf /private/var/db/receipts/*mysql*</text>
    </revision>
  </page>
  <page>
    <title>Nodejs</title>
    <ns>0</ns>
    <id>2103</id>
      <sha1>2owxxfh3skn8wyz43vsc3s5wimkwib3</sha1>
    <revision>
      <id>4962</id>
      <timestamp>2015-10-16T06:43:54Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* sudo nvm */</comment>
      <text xml:space="preserve" bytes="1842">== nodejs ==
* http://nodejs.org/
* http://www.nodeclipse.org/ - nodeclipse , eclipse plugin for node
* https://c9.io/lokvin - cloud9 ide

=== Reding Book ===
* Node.js Recipes - Cory Gackenheimer

==npm ==
* update npm version
 &gt;sudo npm update -g npm

==npm init==
* use npm init wizard for generate package.json
 &gt;mkdir node_test
 &gt;npm init

== nvm ==
* nvm is node version management tool
* https://github.com/creationix/nvm

=== install nvm ===
* manual install
 git clone https://github.com/creationix/nvm.git ~/.nvm &amp;&amp; cd ~/.nvm &amp;&amp; git checkout `git describe --abbrev=0 --tags`

** you need to source it from your shell, I always add this line to my ~/.bashrc 
  . ~/.nvm/nvm.sh

* shell install 
 curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash

 wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash

=== sudo nvm ===
* For CentOS 6
* add nvm.sh to current user .bashrc
 vi ~/.bashrc
 ## add below
 . /home/appdev/.nvm/nvm.sh

* add nvm.sh to root .basrc
 vi /root/.bashrc
 ## add below
 . /home/appdev/.nvm/nvm.sh

* sudo visudo 
 ## add
 Defaults    secure_path = + /usr/local/nodejs/nodejs/bin:/usr/local/bin

* edit current user ~/.bash_profile
 vi ~/.bash_profile
 #add
 PATH=$PATH:/usr/local/nodejs/nodejs/bin:$HOME/bin
 alias sudo='sudo env PATH=$PATH:$NVM_BIN'

=== nvm help ===
* nvm usage
 nvm help

=== nvm list-remote ,  nvm list===
* list all node version available for download
 nvm ls-remote

* list local version
 nvm ls

=== nvm common command ==
* install version
 nvm install 4.1.0

 nvm uninstall 4.1.0

 nvm alias dev 4.1.0

 nvm unalias dev

 nvm run 4.1.0 app.js

 nvm run dev app.js

 nvm use 4.1.0

== nave , n ==
* nave is another node version management tool
 &gt;npm install -g nave

* n is another node version management
 &gt;npm install -g n</text>
    </revision>
  </page>
  <page>
    <title>Octopress</title>
    <ns>0</ns>
    <id>2128</id>
      <sha1>m5txup8n3chglu6s9huplki3uva9uwq</sha1>
    <revision>
      <id>4877</id>
      <timestamp>2015-07-12T14:46:46Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* write use existing octopress */</comment>
      <text xml:space="preserve" bytes="850">==Octopress 2.0 ==
* http://octopress.org/docs/ - docs

== write use existing octopress ==
* http://blog.zerosharp.com/clone-your-octopress-to-blog-from-two-places/

* clone source branch to octopress folder
 $ git clone -b source git@github.com:username/username.github.com.git octopress

* cd /octopress folder, clone master to _deploy folder
 $ cd octopress
 $ git clone git@github.com:username/username.github.com.git _deploy 
 
* run the rake installation to configure everything
 $ gem install bundler
 $ bundle install
 
==write blog ==
* rake new_post
 rake new_post[&quot;post name&quot;]

* edit the content with markdown

* rake generate, rake preview
 rake generate
 rake preview

* git commit , push source
 git commit -m &quot;minor change&quot; .
 git push origin source

* rake deploy
 rake deploy

* view change on yren.github.io
 http://yren.github.io/</text>
    </revision>
  </page>
  <page>
    <title>Python</title>
    <ns>0</ns>
    <id>2089</id>
      <sha1>6i5smttzcou3chcm95x8w3jl9cbnl9c</sha1>
    <revision>
      <id>4311</id>
      <timestamp>2013-12-10T03:28:03Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>Created page with &quot;==ref &amp; docs == * http://www.python.org/ - official site * http://docs.python-guide.org/en/latest/ - python menu&quot;</comment>
      <text xml:space="preserve" bytes="112">==ref &amp; docs ==
* http://www.python.org/ - official site
* http://docs.python-guide.org/en/latest/ - python menu</text>
    </revision>
  </page>
  <page>
    <title>Rcom setup</title>
    <ns>0</ns>
    <id>2077</id>
      <sha1>g1ws4kj5vs8rilz86wcit09tayfram1</sha1>
    <revision>
      <id>4235</id>
      <timestamp>2013-11-18T08:56:54Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* install maven */</comment>
      <text xml:space="preserve" bytes="25509">==How to set up development environment (Desktop Linux Fedora18 x64)==

===1. Before Start===

RCOM environment is really complicated, here we only set up a minimal version which helps you get started, the guide is not meant to help you learn any details. After you learn the very details of RCOM env you can throw away this guide, choose what ever linux distribution you like, install applications to where ever you want, set it up as you like, as long as you know how it works and what you are doing ... 

You probably will encounter errors if you try to apply this guide to other Linux distribution. In that case, you need to make necessary modifications or ask help from RCOM team.


This guide has been updated (but not tested) and you can choose newer version of Fedora.

===2. System Setup===
'''CAUTION: These steps should be run as root.'''

====1) OS Installation====
Use network install os, restart pc and press F12, select fedora 18 x86
Set the default root password is 'wearethebest'.

====enable sudo to your account ====
 shell&gt; su
 shell&gt; chmod +w /etc/sudoers
 shell&gt; echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 shell&gt; chmod -w /etc/sudoers
 shell&gt; exit

====disable SELINUX ====
 sudo vi /etc/selinux/config
 SELINUX=disabled

====set yum proxy ====
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3130/

====install synergy ====
#use synergy share your keyboard, and mouse between machine
 shell&gt;sudo yum install synergy

 shell&gt;mkdir ~/synergy
 ##put synergy.conf and synergy server and client shell under this folder
 ##you may need synergy official site to write the shell and conf

#you may need stop firewall to use synergy, you can add below to your ~/.bash_profile
 sudo systemctl stop firewalld.service

====install m4 ====
 shell&gt;sudo yum install m4

====install subversion ====
 shell&gt;sudo yum install subversion

====install git ====
 shell&gt;sudo yum install git

*Todo: add config git proxy

====ssh keygen ====
 [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa

====install memcached ====
 shell&gt;sudo yum install memcached
*start memcached
 shell&gt;sudo systemctl start memcached.service

====install chrome ====
http://www.if-not-true-then-false.com/2010/install-google-chrome-with-yum-on-fedora-red-hat-rhel/

====install jdk ====
http://10.90.22.6/reutersmediawiki/index.php/BjMediaDev/Projects/2010/03/IPhone_App/Startup_installguide#JDK

====install eclipse ====
 shell&gt;mkdir -p ~/dev
 #put eclipse to ~/dev/, such as ~/dev/eclipse-kepler

You probably want to increase the min/max memory for eclipse, 
I use &quot;-Xms768m&quot; and &quot;-Xmx1024m&quot;
 $ vi ~/eclipse/eclipse.ini

Config eclipse proxy 10.90.7.56:3130 &lt;br&gt;
Preferences --&gt; General --&gt; Network Connect 

Install subclipse from Eclipse Marketplace&lt;br&gt;
Help --&gt; Eclipse Marketplace , then search your plugin and install

====install maven ====
maven install on 
 /usr/local/maven-2.2.1
 /usr/local/maven-3.0.5

and create softlink
 [yufei@localhost bin]$ sudo ln -s /usr/local/maven-2.2.1/bin/mvn mvn
 [yufei@localhost bin]$ sudo ln -s /usr/local/maven-3.0.5/bin/mvn mvn3
====add custon alias ====
* add custom alias to fe18, add shell file to /etc/profile.d/ , such as : yufei_alias.sh
 [yufei@localhost profile.d]$ pwd
 /etc/profile.d
 [yufei@localhost profile.d]$ cat yufei_alias.sh 
 alias jumprcom='ssh jump@10.90.7.23'
 alias jumpagency='ssh appdev@10.90.7.23'

====install mysql ====
http://10.90.22.6/reutersmediawiki/index.php/BjMediaDev/Projects/2010/03/IPhone_App/Startup_installguide#MYSQL

====2) DHCP====
 We need dhclient, not NetworkManager
 shell&gt;sudo systemctl stop NetworkManager.service
 shell&gt;sudo systemctl disable NetworkManager.service
 shell&gt;sudo systemctl enable network.service
 shell&gt;sudo systemctl start network.service
 
 ######sudo ifdown network_card
 shell&gt;sudo ifdown em1

====3) DNS====
 ##if no /etc/dhclient-em1.conf
 shell&gt;touch /etc/dhclient-em1.conf

 # echo 'prepend domain-name &quot;g3.reuters.com &quot; ;' &gt;&gt; /etc/dhclient-em1.conf
 # echo &quot;prepend domain-name-servers 10.35.59.232 ;&quot; &gt;&gt; /etc/dhclient-em1.conf
 # /etc/init.d/network restart
 
 Now you should be able to lookup our SIT boxes:
 # nslookup idevbj-stage-repo

====4) Proxy (for yum)====
 # echo &quot;proxy=&lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;&quot; &gt;&gt; /etc/yum.conf
 
 Now yum should be able to access internet through the proxy
 # yum list mysql

====5) Change root password====
 # passwd
====6) Add a user for daily use====
 Replace xxx with your user name
 # useradd -m -s /bin/bash xxx
 
 Set password for this user
 # passwd xxx
====7) Disable selinux====
 If the output is not &quot;SELINUX=disabled&quot;, edit /etc/selinux/config and change the line to &quot;SELINUX=disabled&quot;. If there's no such a line, add it.
 # cat /etc/selinux/config | grep &quot;^SELINUX=&quot;
====8) Grant sudo privilege to the daily user you add ====
 Replace xxx with your username
 # echo &quot;xxx   ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers

====9) Reboot system and login with your user====
 # reboot

===3. RCOM Environment Setup===
'''CAUTION: All the following steps should be running as the user you add for daily usage.'''

====1) Create directory structures, set permission, add rcom users.====

Save the following content as a file, say /tmp/bootstrap.sh
 #!/bin/sh
 
 if [ &quot;`id -u`&quot; != &quot;0&quot; ]; then
   echo &quot;Must run as root!&quot;
   exit 1
 fi
   
 echo &quot;Creating directories ... &quot;
 mkdir -p /data01/home
 mkdir -p /data01/opt/apache22
 mkdir -p /data01/opt/tomcat
 mkdir -p /data01/rt/apache/admin/htdocs
 mkdir -p /data01/rt/apps
 mkdir -p /data01/rt/properties
 mkdir -p /data01/rt/tomcat
 mkdir -p /data02/usr/local/mysql/data
 mkdir -p /data02/rt/apache
 mkdir -p /data02/rt/logs/apache22
 mkdir -p /data02/rt/logs/tomcat/cms
 mkdir -p /usr/java
 
 echo &quot;Creating symbolic links ... &quot;
 rm -rf /rt &amp;&amp; ln -sfn /data01/rt /rt
 rm -rf /data01/rt/logs &amp;&amp; ln -sfn /data02/rt/logs /data01/rt/logs
 rm -rf /usr/local/mysql &amp;&amp; ln -sfn /data02/usr/local/mysql /usr/local/mysql
 rm -rf /opt/apache22 &amp;&amp; ln -sfn /data01/opt/apache22 /opt/apache22
   
 echo &quot;Creating user &amp; group ... &quot;
 [ &quot;`cat /etc/group | grep ^rcom: | wc -l`&quot; == &quot;0&quot; ] &amp;&amp; /usr/sbin/groupadd rcom
 id rcomcms 1&gt;/dev/null 2&gt;&amp;1 || /usr/sbin/useradd -d /data01/home/rcomcms -m -s /bin/bash -g rcom rcomcms
 id mysql 1&gt;/dev/null 2&gt;&amp;1 || /usr/sbin/useradd -d /data01/home/mysql -m -s /bin/bash -g rcom mysql
   
 echo &quot;Setting directories owner &amp; permission ... &quot;
 chown root.root /usr/java
 chown root.root /data01 /data01/home /data01/opt /data01/opt/tomcat /data01/rt /data01/rt/apps
 chown root.root /data02 /data02/usr /data02/usr/local /data02/rt /data02/rt/logs
 chown root.rcom /data01/rt/properties /data02/rt/logs/tomcat
 chown daemon.rcom /data01/opt/apache22 /data01/rt/apache /data02/rt/apache /data02/rt/logs/apache22
 chown rcomcms.rcom /data01/rt/tomcat  /data02/rt/logs/tomcat/cms
 chmod 775 /data01/rt/properties

Then make it executable, and run it
 $ chmod a+x /tmp/bootstrap.sh
 $ sudo /tmp/bootstrap.sh

====2) Set environment variables====
 $ sudo touch /etc/profile.d/g3profile.sh
 $ sudo chmod 755 /etc/profile.d/g3profile.sh
   
 $ sudo su -
 # echo &quot;export BASE_RT_DIR=/rt&quot; &gt;&gt; /etc/profile.d/g3profile.sh
 # echo &quot;export JAVA_HOME=/usr/java/jdk&quot; &gt;&gt; /etc/profile.d/g3profile.sh
 # echo &quot;export proxy_http=10.90.7.56:3128&quot; &gt;&gt; /etc/profile.d/g3profile.sh
 $ exit
   
 $ echo &quot;export PATH=$PATH:/sbin:/usr/sbin:$JAVA_HOME/bin&quot; &gt;&gt; ~/.bash_profile

 Then logout and login to make the new env var take effect, 
 or source it (you need to source it in every terminal, so you'd better logout, login)
 $ source /etc/profile.d/g3profile.sh
 $ source ~/.bash_profile

====3) Install daily tools by yum (subversion, firefox, vnc)====
 First check whether they are already installed
 $ sudo yum list | grep installed | grep -i xxx

 Usually they are already installed, so there's nothing to install. 
 If not, use yum to install firefox and vnc
 $ sudo yum install xxx

 But for subversion, the official subversion for fedora9 is too old (1.4.x), 
 we need a version which matches the subclipse version, which is 1.6.5.
 Or, you should use subclipse 1.4.x which matches the official fc9 subversion 1.4.x). 
 You can find latest subversion and subclipse on http://subversion.tigris.org/
 
 Follow the below steps to install subversion 1.6.5 or you can install
 the latest version yourself if you know how to do.
 
 Now remove the 1.4.x subversion if there is
 $ sudo yum erase subversion
   
 Now get the 1.6.5 subversion source
 $ cd ~/Download 
 $ wget &lt;nowiki&gt;http://idevbj-stage-repo/subversion-1.6.5.tar.gz&lt;/nowiki&gt;
 $ tar xzvf subversion-1.6.5.tar.gz
   
 Install apr/apr-util/neon devel packages if they are not installed, we need them to build subversion
 $ sudo yum install apr-util-devel neon-devel
   
 Or you can use subversion-deps-1.6.5.tar.gz which provides all necessary dependencies
 $ cd ~/Download
 $ wget &lt;nowiki&gt;http://idevbj-stage-repo/subversion-deps-1.6.5.tar.gz&lt;/nowiki&gt;
 $ tar xzvf subversion-deps-1.6.5.tar.gz
   
 Now make &amp; install subversion 1.6.5
 $ cd subversion-1.6.5
 $ ./configure
 $ make
 $ sudo make install
  
 When you execute ./configure step, and find missing the sqlite3.c file. Then
 $ wget http://absa.googlecode.com/files/sqlite-amalgamation-3.6.13.tar.gz  
 $ tar xzvf sqlite-amalgamation-3.6.13.tar.gz
 $ cd subversion-1.6.5
 $ mkdir sqlite-amalgamation
 $ cp ~/Downloads/sqlite-3.6.13/sqlite3.c sqlite-amalgamation/
 then you can install subversion 1.6.5.

 Now check the subversion we installed, it should print version 1.6.5
 $ cd ~ &amp;&amp; svn --version
   
 And check if svn works with http scheme
 $ svn list &lt;nowiki&gt;http://10.90.0.160/svn&lt;/nowiki&gt;
   
 And of course, you can install newer version of firefox and vnc too, it's up to you. 
 Remember to add some handy firefox plugins, at lease we need firebug and foxyproxy 
 and we use this dynamic proxy &quot;&lt;nowiki&gt;http://wtd.apac.ime.reuters.com/proxy.pac&lt;/nowiki&gt;&quot;.

====4) Install jdk====
 First we need to remove any existing gcj java
 $ sudo rpm -qa | grep java
 Replace the name with the one from above query command
 $ sudo rpm -e --nodeps xxx
   
 Now install our own jdk
 $ cd /usr/java
 $ sudo wget &lt;nowiki&gt;http://idevbj-stage-repo/jdk-6u22-linux-i586.bin&lt;/nowiki&gt;
 $ sudo chmod 755 jdk-6u22-linux-i586.bin
 $ sudo ./jdk-6u22-linux-i586.bin
 $ sudo ln -s jdk1.6.0_22 jdk
 $ sudo rm -f jdk-6u22-linux-i586.bin

 Now check it, it should give your 1.6.0_22
 $ java -version

====5) Install Eclipse and subclipse====
 Remember the version of subclipse you install should match the subversion you installed in above steps.
 $ cd ~/Download
 $ wget &lt;nowiki&gt;http://idevbj-stage-repo/eclipse-java-galileo-linux-gtk.tar.gz&lt;/nowiki&gt;
 $ wget &lt;nowiki&gt;http://www.tigris.org/files/documents/906/48441/site-1.6.15.zip&lt;/nowiki&gt;
 $ tar xzvf eclipse-java-galileo-linux-gtk.tar.gz -C ~/
 $ unzip site-1.6.15.zip -d ~/eclipse
   
 Now you should be able to start eclipse (You should create a launcher for it on your desktop)
 $ ~/eclipse/eclipse
   
 You probably want to increase the min/max memory for eclipse, 
 I use &quot;-Xms768m&quot; and &quot;-Xmx1024m&quot;
 $ vi ~/eclipse/eclipse.ini

====6) Install maven====
 First you should try install with yum, it probably will install a lot of dependencies
 $ sudo yum install maven2
   
 After it is successfully installed, remove java-gcj manually without checking dependencies 
 as described in &quot;Install jdk&quot; (because it could get installed again as dependency with maven
 installation).

 Configure maven to use RCOM maven repositry by editing /opt/maven2/conf/settings.xml or ~/.m2/settings.xml
 1). Add the below proxy setting to the part of proxies
  &lt;proxy&gt;
    &lt;id&gt;ime proxy&lt;/id&gt;
    &lt;active&gt;true&lt;/active&gt;
    &lt;protocol&gt;http&lt;/protocol&gt;
      &lt;host&gt;10.90.7.56&lt;/host&gt;
      &lt;port&gt;3128&lt;/port&gt;
      &lt;nonProxyHosts&gt;10.90.0.160&lt;/nonProxyHosts&gt;
    &lt;/proxy&gt;

 2). Add server &quot;repo&quot; definition to servers part:
   &lt;server&gt;
     &lt;id&gt;repo&lt;/id&gt;
     &lt;username&gt;${your svn username}&lt;/username&gt;
     &lt;password&gt;${your svn password}&lt;/password&gt;
   &lt;/server&gt;

 3). Define profile &quot;repositoryDefs&quot; in profiles part:
     &lt;profile&gt;
       &lt;id&gt;repositoryDefs&lt;/id&gt;
       &lt;repositories&gt;
         &lt;repository&gt;
           &lt;id&gt;proxycache&lt;/id&gt;
           &lt;name&gt;Proxy of external maven repos&lt;/name&gt;
           &lt;!-- this may be better off with a name --&gt;
           &lt;url&gt;&lt;nowiki&gt;http://dev1.reuters.com:9999/repository&lt;/nowiki&gt;&lt;/url&gt;
           &lt;!--url&gt;&lt;nowiki&gt;http://dev1.reuters.com:8081/artifactory/repo&lt;/nowiki&gt;&lt;/url--&gt;
           &lt;releases&gt;
             &lt;enabled&gt;true&lt;/enabled&gt;
           &lt;/releases&gt;
           &lt;snapshots&gt;
             &lt;enabled&gt;true&lt;/enabled&gt;
             &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;
             &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;
           &lt;/snapshots&gt;
         &lt;/repository&gt;
       &lt;/repositories&gt;
       &lt;pluginRepositories&gt;
          &lt;pluginRepository&gt;
           &lt;id&gt;proxycache&lt;/id&gt;
           &lt;name&gt;Proxy of external maven repos&lt;/name&gt;
           &lt;!-- this may be better off with a name --&gt;
           &lt;url&gt;&lt;nowiki&gt;http://dev1.reuters.com:9999/repository&lt;/nowiki&gt;&lt;/url&gt;
           &lt;releases&gt;
             &lt;enabled&gt;false&lt;/enabled&gt;
           &lt;/releases&gt;
           &lt;snapshots&gt;
             &lt;enabled&gt;true&lt;/enabled&gt;
             &lt;updatePolicy&gt;daily&lt;/updatePolicy&gt;
             &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;
           &lt;/snapshots&gt;
         &lt;/pluginRepository&gt;
     &lt;/pluginRepositories&gt;
 &lt;/profile&gt;

 4). Active the above defined profile &quot;repositoryDefs&quot; through putting the follow code into &lt;settings&gt;:
   &lt;activeProfiles&gt;
     &lt;activeProfile&gt;repositoryDefs&lt;/activeProfile&gt;
   &lt;/activeProfiles&gt;

====7) Install MySQL (Optional)====
 Use the mysql server with your Linux distribution (version &gt;= 5.1.31).

 &lt;strike&gt;First we need to remove any existing mysql packages, but usually we only need to remove mysql-libs
   
 Use this command to check mysql
 $ sudo rpm -qa | grep -i mysql
   
 Remove it without dependency checks
 $ sudo rpm -e --nodeps mysql-libs-5.0.51a-1.fc9.i386
   
 Now install our mysql packages
 $ cd ~/Download
 $ wget &lt;nowiki&gt;http://idevbj-stage-repo/MySQL-shared-advanced-gpl-5.1.31sp1-0.rhel4.i386.rpm&lt;/nowiki&gt;
 $ wget &lt;nowiki&gt;http://idevbj-stage-repo/MySQL-client-advanced-gpl-5.1.31sp1-0.rhel4.i386.rpm&lt;/nowiki&gt;
 $ wget &lt;nowiki&gt;http://idevbj-stage-repo/MySQL-server-advanced-gpl-5.1.31sp1-0.rhel4.i386.rpm&lt;/nowiki&gt;
   
 $ sudo rpm -Uvh MySQL-shared-advanced-gpl-5.1.31sp1-0.rhel4.i386.rpm
 $ sudo rpm -Uvh MySQL-client-advanced-gpl-5.1.31sp1-0.rhel4.i386.rpm
 $ sudo rpm -Uvh MySQL-server-advanced-gpl-5.1.31sp1-0.rhel4.i386.rpm
   
 We don't want mysql server to run all the time, 
 we will start it manually when we need it. So stop it and set it not to auto-start
 $ sudo /etc/init.d/mysql stop
 $ sudo /sbin/chkconfig --level 2345 mysql off&lt;/strike&gt;

==== 8) Install httpd and php  ====

 
 Install httpd
 $sudo yum install zlib-devel
 $cd ~/Downloads
 $wget http://10.35.59.233/httpd-2.2.25.tar.gz
 $tar zxvf httpd-2.2.25.tar.gz
 $cd httpd-2.2.25
 $./configure --prefix=/opt/apache22 --enable-mods-shared=all
 $make
 $sudo make install

==== 9) Setup admin httpd ====

Save the following content as a file, say /tmp/setup-httpd-admin.sh 

 #!/bin/sh
 
 if [ &quot;`id -u`&quot;&amp;nbsp;!= &quot;0&quot; ]; then
 echo &quot;Must run as root!&quot;
 exit 1
 fi
 
 IP=`/sbin/ifconfig eth0 | grep -oe &quot;inet [^ ]*&quot;  | cut -d&quot;:&quot; -f2`
 if [ &quot;$IP&quot; == &quot;&quot; ]; then
 echo &quot;No IP Address detected, exit!&quot;
 exit 1
 else
 echo &quot;Using IP address: $IP&quot;
 fi
 
 
 echo &quot;Installing httpd-admin configuration files ... &quot;
 cd /tmp
 rm -f /tmp/httpd-admin-conf-dev.tgz
 wget http://10.35.59.233/httpd-admin-conf-dev.tgz
 tar xzf /tmp/httpd-admin-conf-dev.tgz -C /data01/opt/apache22
 wget http://10.35.59.233/httpd-admin-modules.tgz
 tar xzf /tmp/httpd-admin-modules.tgz -C /data01/opt/apache22
 
 cd /data01/opt/apache22/conf/conf.d 
 m4 -D__IP__=$IP 10-rcom-admin-vhost.m4 &amp;gt; 10-rcom-admin-vhost.conf
 m4 -D__IP__=$IP admin.m4 &amp;gt; admin.conf
 STATIC_IP=`nslookup idevbj-static-01 | grep ^Address: | grep -v \# | cut -d' ' -f2`
 sed -i &quot;/Include conf\/extra\/rcom-keepalives.conf/ a \  RewriteRule ^/resources/(.*) &lt;nowiki&gt;http://&lt;/nowiki&gt;$STATIC_IP:23880/resources/\$1&quot; 10-rcom-admin-vhost.conf
 
 echo &quot;Resetting directory permission ... &quot;
 sudo chown -R daemon.rcom /data01/opt/apache22
 
 echo &quot;Cleaning ... &quot;
 sudo rm -rf /tmp/httpd-admin-conf-dev.tgz
 sudo rm -rf /tmp/httpd-admin-modules.tgz
 
 

Now make it executable and run it 

 $ sudo chmod a+x /tmp/setup-httpd-admin.sh
 $ sudo /tmp/setup-httpd-admin.sh
 

Now you should be able to start and stop httpd withour error 

  sudo /opt/apache22/bin/apachectl -k start
 sudo /opt/apache22/bin/apachectl -k stop&lt;strike&gt;
 &lt;/strike&gt;

==== 10) Install tomcat  ====

 $ wget -O ~/Downloads/apache-tomcat-5.5.23-1.i386.rpm http://10.35.59.233/apache-tomcat-5.5.23-1.i386.rpm
 $ cd ~/Downloads &amp;amp;&amp;amp; sudo rpm -Uvh apache-tomcat-5.5.23-1.i386.rpm

==== 11) Setup admin tomcat  ====

Save the following content as a file, say /tmp/setup-tomcat-cms.sh 

 #!/bin/sh
 
 if [ &quot;`id -u`&quot;&amp;nbsp;!= &quot;0&quot; ]; then
 echo &quot;Must run as root!&quot;
 exit 1
 fi
 &lt;strike&gt;
 &lt;/strike&gt;IP=`/sbin/ifconfig eth0 | grep -oe &quot;inet [^ ]*&quot;  | cut -d&quot;:&quot; -f2`
 if [ &quot;$IP&quot; == &quot;&quot; ]; then
 echo &quot;No IP Address detected, exit!&quot;
 exit 1
 else
 echo &quot;Using IP address: $IP&quot;
 fi
 
 echo &quot;Preparing directory structure ... &quot;
 rm -rf /rt/tomcat/cms 1&amp;gt;/dev/null 2&amp;gt;&amp;amp;1
 rm -rf /rt/logs/tomcat/cms/* 1&amp;gt;/dev/null 2&amp;gt;&amp;amp;1
 rm -f /etc/init.d/tomcat-cms 1&amp;gt;/dev/null 2&amp;gt;&amp;amp;1
 mkdir -p /rt/tomcat/cms
 
 echo &quot;Setting up tomcat-cms ... &quot;
 cd /tmp
 rm -f /tmp/tomcat-cms-dev.tgz
 wget http://10.35.59.233/tomcat-cms-dev.tgz
 tar xzf /tmp/tomcat-cms-dev.tgz -C /rt/tomcat
 
 cd /rt/tomcat/cms 
 m4 -D__IP__=$IP tomcatctl.m4 &amp;gt; tomcatctl
 m4 -D__IP__=$IP tomcat-cms.initd.m4 &amp;gt; tomcat-cms.initd
 
 mv /rt/tomcat/cms/tomcat-cms.initd /etc/init.d/tomcat-cms
 chown root.root /etc/init.d/tomcat-cms
 chmod 755 /etc/init.d/tomcat-cms
 
 echo &quot;Reset permission ... &quot;
 chown -R rcomcms.rcom /rt/tomcat/cms
 chown -R rcomcms.rcom /rt/logs/tomcat/cms
 
 echo &quot;Clean up ... &quot;

Now make it executable and run it 

 $ sudo chmod a+x /tmp/setup-tomcat-cms.sh
 $ sudo /tmp/setup-tomcat-cms.sh

Now you should be able to start/stop tomcat-cms 

 $ sudo /etc/init.d/tomcat-cms hardstart
 $ sudo /etc/init.d/tomcat-cms hardstop
 
 Check /rt/tomcat/cms/logs/catalina.out, make sure there is no error/exception in it. 
 create a test project in tomcat
 $ sudo mkdir /rt/tomcat/cms/webapps/test
 $ sudo vi /rt/tomcat/cms/webapps/test/index.html
 If so, you should be able to see the hello page from your local box: http://your_ip:23863/test/

====12) Checkout svn modules====

 '''DO NOT check our modules from svn directly, it will take a long time and consume the network resource. '''
   
 You should copy the tar ball which contains almost all modules from our staging box (trunk, r591328), 
 and then switch all modules to the current branch, update with your own account. It's about 700MB, and extends
 to 2.2GB after extract, so please make enough room for it.
   
 First let's download it
 $ cd ~/Download &amp;&amp; wget &lt;nowiki&gt;http://10.35.59.233/rcom-svn-modules.tgz&lt;/nowiki&gt;
 
 if the download is still time consuming. you can scp it from staging box
 $ cd ~/Download &amp;&amp; scp distuser@10.35.59.233:/rt/staging/env-bootstrap/rcom-svn-modules.tgz . (passwd:2comdeployer)
   
 Now extract it where you like, here we extract it to ~/work/rcom
 $ mkdir -p ~/workspace/rcom
 $ tar xzvf ~/workspace/rcom-svn-modules.tgz -C ~/workspace/rcom

 First update with your svn account, enter the password when prompted
 $ cd ~/workspace/rcom
 $ svn upgrade rcom-all
 $ svn up --username xxx rcom-all
   
   
 And sub modules of rcom-all
 $ cd ~/workspace/rcom/rcom-all
 $ ALL_MODULES=&quot;`grep ^coremodules dev.mk | cut -d&quot;=&quot; -f2` `grep ^warmodules dev.mk | cut -d&quot;=&quot; -f2`&quot;
 $ for module in $ALL_MODULES; do svn upgrade $module; done
   
 You can use the same technique to sync modules with svn repository
 $ cd ~/workspace/rcom
 $ svn up *
 $ cd ~/workspace/rcom/rcom-all
 $ ALL_MODULES=&quot;`grep ^coremodules dev.mk | cut -d&quot;=&quot; -f2` `grep ^warmodules dev.mk | cut -d&quot;=&quot; -f2`&quot;
 $ for module in $ALL_MODULES; do svn up $module; done

==== 13) Build rcom modules ====

 Since we have rcom-all and all its sub modules ready, it is pretty simple to build rcom sub modules.
 Here we build the most common two modules: rcom-admin and rcom-us.
 $ cd ~/workspace/rcom/rcom-all
 &lt;font color=&quot;red&quot;&gt;TODO: the rcom-mobile-core has some problem . Delete the rcom-mobile-core in &quot;coremodules=&quot; list in dev.mk&lt;/font&gt; 
 $ make clean &amp;amp;&amp;amp; make package warmodules=&quot;rcom-admin rcom-betaus&quot;
  
 After build finishes, you should have the following files
 ~/workspace/rcom/rcom-all/rcom-admin/rcom-admin-dist.tgz
 ~/workspace/rcom/rcom-all/rcom-betaus/rcom-betaus-dist.tgz

====14) Deploy rcom-admin to tomcat-cms - &lt;font color='red'&gt;'''TODO'''&lt;/font&gt;====
&lt;font color='red'&gt;
* Deploy properties files
* Deploy rcom-admin app (war) 
&lt;/font&gt;

First let's stop tomcat-cms and do some cleaning
 $ sudo /etc/init.d/tomcat-cms stop
 $ sudo rm -rf /rt/tomcat/cms/webapps/rcom-admin*
   
 Since we cannot auto generate properties files on our desktop, 
 I have pre-built the necessary properties files which works in our env.
 $ cd ~/Download
 $ wget &lt;nowiki&gt;http://10.35.59.233/tomcat-cms-props-dev.tgz&lt;/nowiki&gt;
 $ sudo tar xzf tomcat-cms-props-dev.tgz -C /rt/properties
 $ sudo chown root.rcom /rt/properties/*
 $ sudo chmod 644 /rt/properties/*
   
 Now copy the war file to tomcat-cms
 $ sudo cp ~/workspace/rcom/rcom-all/rcom-admin/rcom-admin.war /rt/tomcat/cms/webapps/
 $ sudo chown rcomcms.rcom /rt/tomcat/cms/webapps/rcom-admin.war
   
 Prepare the log directory for rcom-admin
 $ sudo mkdir -p /rt/logs/cmsadmin
 $ sudo chown -R rcomcms.rcom /rt/logs/cmsadmin
   
 Now we can start tomcat-cms, it will extract rcom-admin.war automatically
 $ sudo /etc/init.d/tomcat-cms start
   
 Check log files, see if there's any error in them. If there is, ask help from others
 $ vi /rt/tomcat/cms/logs/catalina.out
 $ vi /rt/logs/cmsadmin/rcom-admin.log
 $ vi /rt/logs/cmsadmin/root.log
   
 Now make sure httpd is running and start it if not
 $ sudo /etc/init.d/httpd status
 $ sudo /etc/init.d/httpd start
   
 If everything is ok, you should be able to access http://your_ip:23900/rcom-admin
 See the login page, right? wait, you don't have an account? Try this: fliu-cn/fl1u

===4. How to set up RCOM projects in Eclipse===
 This is a pretty simple way to set up the RCOM projects in Eclipse, and you can switch to different edition easily.
 Let's take the i24 as an example:


'''Since you have copied all svn modules from our staging box and updated it, you don't really have to check it out again from svn, so usually you can start from step 4.'''
  {| border=&quot;1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;5&quot; align=&quot;center&quot;
! No
! Steps
! Command in terminal
|- 
| 1
| Go to /home/${username}/workspace, ${username} is your current linux user.
| cd  /home/${username}/workspace
|- 
| 2
| check out module rcom-all to your workspace directory. 
| svn co http://10.90.0.160/svn/rcom-all/branches/i38 rcom-all-i38
|- 
| 3
| Navigate to  /home/${username}/workspace/rcom-all-i38
| cd  /home/${username}/workspace/rcom-all-i38
|- 
| 4
| Install initial project environment, it will check out all the related modules from SVN, actually it will not take so much time, and it will only run one time in each iteration.
| make bootstrap
|- 
| 5
| Switch application to rcom-us, following jobs will be done automatically: &lt;br/&gt;1) Checkout or update the latest revision from SVN for module. &lt;br/&gt;2) Make rcom-us as the primary edition which can be debugged in eclipse. &lt;br/&gt;3) Generate the .classpath file for the project.
| sudo make switch app=rcom-${edition}&lt;br/&gt; ''(such as us, uk, jp, cn, admin, etc.)''
|- 
| 6
| Stop tomcat-cms
| sudo /etc/init.d/tomcat-cms hardstop
|- 
| 7
| Create context file /rt/tomcat/cms/conf/Catalina/localhost/rcom-${edition}.xml
| sudo make context app=rcom-${edition} CATALINA_BASE=/rt/tomcat/cms
|- 
| 8
| Grant privileges on rcom-all to ${username}
| sudo chown -R ${username}:${username}  /home/${username}/workspace/rcom-all-i24
|- 
| 9
| Start eclipse and use /home/${username}/workspace as the default workspace
| 
|- 
| 10
| Compile rcom-{edition} by eclipse
| (''This step is not doing in terminal, but in eclipse IDE.''). &lt;br/&gt;If there is one compile error, something like &quot;the directory of /WEB-INF/classes is not exists&quot;, then just create this folder.
File--&gt;Import--&gt;General--&gt;Existing Projects into Workspace             --&gt;(select rcom-all)
|- 
| 11
| Eclipse will compile and package resources for rcom-${edition} into /home/${username}/workspace/
rcom-all/target/rcom-${edition}. 
We must make it mapped to the &quot;docBase&quot; specified  in the file /rt/tomcat/cms/conf/Catalina/localhost/rcom-${edition}.xml
| sudo rm -rf /target&lt;br/&gt;ln -s /home/${username}/workspace/rcom-all-24/target /target
|- 
| 12
| Start tomcat-cms
| sudo /etc/init.d/tomcat-cms hardstart
|- 
| 13
| Check whether rcom-${edition} is available.&lt;br/&gt; Open a web browser, input http://localhost:23863/rcom-${edition}, and make sure what you get is not an error page.&lt;br/&gt; You need to modify the port to your 
| 
|- 
| 14
| '''If you need to work with other editions like rcom-uk, rcom-jp or rcom-admin application, just repeat steps from No 5) to No 8)'''.
| 
|- 
| 15
| '''CAUTION: There is no static content when you access tomcat directly.'''.
| 
|}</text>
    </revision>
  </page>
  <page>
    <title>Rcom tips</title>
    <ns>0</ns>
    <id>2108</id>
      <sha1>gaoi898r14cj3v2mvvolonqykmhfrqi</sha1>
    <revision>
      <id>5169</id>
      <timestamp>2015-11-26T08:49:51Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* check article contain video */</comment>
      <text xml:space="preserve" bytes="14831">==search xml output ==
*http://us.qa3search.g3.reuters.com/rsearch/xmlOutput.do?q=apple&amp;start=0&amp;site=JP&amp;sort=date:D:S:d1

== check article contain video ==
* article/2015/11/05/us-usa-fed-yellen-idUSKCN0ST22V20151105
* find article in NEWSGROUP table
 mysql&gt; select PACKAGE_ID FROM NEWSGROUP WHERE UID='USKCN0ST22V20151105' \G;
 *************************** 1. row ***************************
 PACKAGE_ID: 940151762

* find in PACKAGENEWS table
 mysql&gt; SELECT * FROM PACKAGENEWS WHERE ID=940151762 \G;
 *************************** 1. row ***************************
           ID: 940151762
     DUID: tag:reuters.com,2015:newsml_KCN0ST22U:20

* use duid get xml from agency webservice
** http://10.90.39.223/mc-tools/mc.html
** tag:reuters.com,2015:newsml_KCN0ST22U:20

* find &quot;video&quot; like below
 &lt;itemRef contenttype=&quot;application/rss+xml&quot; residref=&quot;tag:yospace.com,0000:rss_113294656&quot; version=&quot;1&quot;&gt;
 &lt;itemClass qcode=&quot;icls:video&quot;/&gt;
 &lt;signal qcode=&quot;pmt:video&quot;/&gt;
 &lt;provider literal=&quot;yospace.com&quot;/&gt;
 &lt;pubStatus qcode=&quot;stat:usable&quot;/&gt;
 &lt;role qcode=&quot;itemRole:N&quot;/&gt;
 &lt;altId rtr:isOriginal=&quot;1&quot; type=&quot;idType:SID&quot;&gt;113294656&lt;/altId&gt;

* the &lt;altId rtr:isOriginal=&quot;1&quot; type=&quot;idType:SID&quot;&gt;'''113294656'''&lt;/altId&gt;, and last part of tag:yospace.com,0000:rss_'''113294656''' , is yospace id

* find in FEEDVIDEO table
 mysql&gt; SELECT * FROM FEEDVIDEO WHERE FEED_STORY_ID=113294656 \G;

== admin tomcat cluster ==
* admin tomcat config cluster info, meet a problem tomcat can't start. The cluster should config point to self ip
&lt;pre&gt;
 &lt;Receiver
                className=&quot;org.apache.catalina.tribes.transport.nio.NioReceiver&quot;
                address=&quot;10.90.45.104&quot;
                port=&quot;4000&quot;
                selectorTimeout=&quot;100&quot;
                maxThreads=&quot;6&quot;/&gt;
&lt;/pre&gt;

==clear apache disk cache==
* clear apache disk cache, you may find apache cache in folder like:
 /rt/apache/cache

== akamai staging env ==

How to test using Akamai's Staging Network

Applies To

Description

How do I test using Akamai's Staging Network?

Akamai's Staging Network allows Akamai's customers to test configuration changes prior to going live on the Production Network. How exactly does one test from Staging?

Testing involves two steps: first, find a Staging IP, and second, spoof your domain to this IP and test whether or not your site or application behaves as expected.

1) Here is how you find an Akamai Staging IP. Say, Akamai is serving your digital property www.foo.com. Typically, this digital property would be cnamed to an Edge Hostname such as www.foo.com.edgesuite.net or www.foo.com.edgekey.net.

(Note, if this is a new property that has not been Akamaized yet, this cname may not be in place yet. In this case, you will have to create an Edge Hostname to which you will be cnaming prior to running this test.)

 $ dig www.foo.com
 ;; ANSWER SECTION:
 www.foo.com. 7200 IN CNAME www.foo.com.edgesuite.net.
 www.foo.com.edgesuite.net. 1359 IN CNAME a1234.g.akamai.net.

To find a Staging IP, add &quot;-staging&quot; to your Edge Hostname as follows:

www.foo.com.edgesuite-staging.net or www.foo.com.edgekey-staging.net

Resolve the newly obtained hostname to find a Staging IP.

 $ dig www.foo.com.edgesuite-staging.net
 ;; ANSWER SECTION:
 www.foo.com.edgesuite-staging.net. 1264 IN CNAME a1234.g.akamai-staging.net.
 a1234.g.akamai-staging.net. 20 IN A 165.254.92.146 a1234.g.akamai-staging.net. 20 IN A 165.254.92.138

The &quot;-staging&quot; Edge Hostnames are created automatically when the Production Edge Hostnames &quot;www.foo.com.edgesuite.net&quot; or &quot;www.foo.com.edgekey.net&quot; are created. As with production Edge Hostname, the &quot;-staging&quot; Edge Hostnames resolve to optimal Staging IPs.

2) Once you have found a Staging IP, spoof www.foo.com to this IP and test your site or application as you would in Production. You can spoof by entering this domain and IP in your hosts file, or use testing tools such as curl, wfetch, or Akamai's homegrown tool EdgeSuite Booster available to download under Tools on the Luna Control Center.

Testing on Staging is strongly recommended when you make your own changes to your configuration. It is required when a change is implemented by Akamai.

You may also want to make sure that once you have correctly spoofed to the staging network, that your test requests are in fact going through it. KB Article 4856 explains these validation steps in further detail.

If you are trying to perform functional or A/B testing for users in China on a property subscribed to China CDN Service, KB 4651 describes special considerations for that testing scenario.

==build rcom==
 &gt;sudo make switch app=rcom-betaus
 &gt;sudo make context app=rcom-${edition} CATALINA_BASE=/rt/tomcat/cms

==rcom add new edition ==
* http://10.90.22.6/reutersmediawiki/index.php/BjMediaDev/Staff/Liang_Zhang/Tips/CreateRcomModule
* https://thehub.thomsonreuters.com/docs/DOC-904393

===add page===
 Name: Home
 Page Type: Landing
 Edition: Win-US
 Page Shell: Standard Shell
 Content Template: Standard Page

* 2. Page Type, SELECT * FROM cmsstaging_mobile.page_type;
 mysql&gt; select * from page_type;
 +----+---------------+
 | id | name          | 
 +----+---------------+
 |  1 | Landing       | 
 |  2 | Article       | 
 |  3 | Pre-built     | 
 |  4 | Shared Module | 
 |  5 | Symlink       |  
 +----+---------------+

* 3. Edition, SELECT * FROM cmsstaging_mobile.edition;
 *************************** 16. row ***************************
               id: 40
             name: Win-US
        domain_id: 31
     context_path: /rcom-win-us
        time_zone: US/Eastern
      newsedition: US
        mdcountry: NULL
        is_global: 0
         is_local: 0
    template_base: /WEB-INF/jsp/template-win-v3/
 parent_edition_id: NULL

* SELECT * FROM cmsstaging_mobile.template_type;
 mysql&gt; select * from template_type;
 +----+------------------+
 | id | name             |
 +----+------------------+
 |  1 | Module           | 
 |  2 | Section          | 
 |  3 | Page Shell       | 
 |  4 | Content template | 
 +----+------------------+

* 4. Page Shell, SELECT * FROM cmsstaging_mobile.template where edition_id=40 and type_id=3;
 *************************** 2. row ***************************
         id: 404
       name: Standard Shell
       path: /WEB-INF/jsp/template-win-v3/pageShells/mobilePageShell.jsp
 description: Page Shell for Mobile, includes header/footer
    type_id: 3
 edition_id: 40
 
* 5. Content Template, SELECT * FROM cmsstaging_mobile.template where edition_id=40 and type_id=4; 

 *************************** 2. row ***************************
         id: 405
       name: Standard Page
       path: /WEB-INF/jsp/template-win-v3/pageTemplates/mobileContentTemplate.jsp
 description: Mobile Page Contents
    type_id: 4
 edition_id: 40

* Section: Standard Section, SELECT * FROM cmsstaging_mobile.template where edition_id=40 and type_id=2 \G;
  *************************** 1. row ***************************
         id: 407
       name: Standard Section
       path: /WEB-INF/jsp/template-win-v3/sections/mobilePageContent.jsp
 description: Section
    type_id: 2
 edition_id: 40

===add module ===
* Category, SELECT * FROM cmsstaging_mobile.module_category;
 mysql&gt; select * from module_category;
 +----+--------+
 | id | name   |
 +----+--------+
 |  5 | Mobile | 
 +----+--------+

* Module Type, SELECT * FROM cmsstaging_mobile.module_type;
 mysql&gt; show create table module_type \G;
 *************************** 1. row ***************************
       Table: module_type
 Create Table: CREATE TABLE `module_type` (
  `id` int(11) NOT NULL,
  `name` varchar(32) NOT NULL,
  `loader_class` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_module_type_name` (`name`)
 ) ENGINE=InnoDB DEFAULT CHARSET=utf8

==check article main text in newsdb ==
* find uid in url http://www.reuters.com/article/2014/07/15/us-usa-immigration-idUSKBN0FK29N20140715 , the uid is &quot;USKBN0FK29N20140715&quot;
* use uid search NEWSGROUP table
 mysql&gt; SELECT * FROM NEWSGROUP WHERE UID='USKBN0FL07220140716' \G;
                   UID: USKBN0FL07220140716
            PACKAGE_ID: 833067408
             ...
          MAIN_TEXT_ID: 935512347
       MAIN_PICTURE_ID: 935512348
* use main_text_id search BASICPUBLICATION table
 mysql&gt; SELECT * FROM BASICPUBLICATION WHERE ID=&quot;935512347&quot; \G;
                 ID: 935512347
          FILE_NAME: tag:reuters.com,2014:newsml_KBN0FL072:1
      REVISION_DATE: 2014-07-16 03:11:43
           HEADLINE: Exclusive: U.N. monitors allege 'conspiracy' to divert Somali assets
           ...

==get dns info dnsinfo_ ==
spotlight/install-cron.sh
 source /rt/baselayout/all.sh
 evalalltxtrecords
 echo $dnsinfo_g3mds_service_host

==activemq config in app box==
* find mdsloader-01 , /rt/properties
 less /rt/properties/quoteserver-static.properties
 #produsx-app-01
 jms.queue.mdqueue-8.serverUrls=tcp://1

 telent host port
 ^]
 &gt;telnet quit

==find page from url ==
* https://thehub.thomsonreuters.com/docs/DOC-831648 - cms page render workflow
* find url /search, in cms db, '''site_map_url''' table
 select * from site_map_url where domain_id=7 and url='/search' \G;

== find no cache parameter ==

* http://10.90.22.6/reutersmediawiki/index.php/Apache_caching_query_string_params
web box
  /rt/apache/betaus/qs.txt

* restart webbox apache will update qs.txt from db, and it's need cache server start
  [distuser@qa3us-cache-01 cache-server]$ sudo /etc/init.d/rcomcsd start

==qa env proxy info (ftp box)==
 [distuser@qa7-ftp-01 conf.d]$ pwd
 /opt/apache22/conf/conf.d/proxy.conf
 [distuser@qa7-ftp-01 proxy]$ pwd
 /opt/apache22/conf/conf.d/proxy
 [distuser@qa7-ftp-01 proxy]$ grep -ir 23375 *
 rcom-vhosts.conf:&lt;VirtualHost 10.35.59.71:23375&gt;
 rcom-vhosts.conf: ProxyRemote * http://10.90.108.116:23375

==catch up==
 
http://10.90.1.7/cgi-bin/trac.cgi/wiki/NtransCatchup
* on bdnloader box

  /rt/apps/ntrans-reader-server/server/catchup_script.sh
  shell&gt;./catchup_script.sh MM/DD/YY channleId [ channleId2 ...]
  shell&gt;./catchup_script.sh 11/17/14 40050030

 telnet localhost 23012
 LSREQ 1.0 SETMISSINGRANGE 40050030 1415836800000 1416212395000
 ctrl + ]
 quit

==add slideshow to qa6 env ==
* copy slide show tar file from qa2, on qa2-ftp-01 box
 /rt/shared/rmpd/reuters_rps/archives/

such as, /rt/shared/rmpd/reuters_rps/archives/2015-04-03/2015-04-03-qa.tar

* copy this file to qa6-ftp-01 box, on folder
 /rt/shared/nas01/reuters_rps
untar the file
 sudo tar xopf 2015-04-03-qa.tar

* then the slideshow file will be dealwith by cron job shell, be sure ntrans will read this slideshow channel
* find slideshow channle id by name
 SELECT * FROM news.CATEGORY where edition='us' and name='rcomus_all'

== video channel type ==
* for slideshow there is only one channel in category table
MrssFeedVideo

  SELECT * FROM news.CATEGORY where edition='US' and package_type='MrssFeedVideo'

==find related article ==
* in PACKAGEMAP table find ROLE='Sidebar' package
 SELECT package_id, count(package_id) from PACKAGEMAP where role='sidebar' group by package_id order by package_id desc limit 1000;

* find packageid which have more sidebar contents, use package_id find in PACKAGENEWS
 SELECT * FROM news.PACKAGENEWS where id = 894653316

==article image location==
* image location , the &quot;view&quot; folder is large image
** the &quot;thumb&quot; is small image, but seldom use.
  /rt/shared/nas02/view/2015/03/30/106156436-1.JPG

* the admin box has write permission to /rt/shared/nas02 , other box can't

* the video image url like: http://10.35.60.120/resources/r/?d=20150330&amp;i=106156436&amp;w=161x90&amp;r=106156436-1&amp;t=2
   the param , i=106156436 , or r=106156436-1 is image name
   the d=20150330 , is image folder

==clear qa activemq content==
* Activemq size too large, use entire /data02 disk
&lt;br&gt;clear 
 sudo /etc/init.d/activemq stop
 sudo rm -rf /data02/rt/store/activemq/kahadb/*
 sudo /etc/init.d/activemq start

==check marketdata company description with upstream==
* com.reuters.rcom.dataloaders.marketdata.CompanyOverviewDataLoader
* find repo number with ric (on mdsbulkmaster-01, marketdaba db)
 SELECT q.repno, q.ric, q.issue_PI, em.mdna_exchange, q.issuerid, q.companyname, q.country,
 q.primaryflag, q.type, q.category, q.tickersymbol, em.exchangename, eex.favored, q.issuer_PI FROM
 quoteview q JOIN exchangemap em ON em.mdna_exchange = q.exchange JOIN exchange_edition_xref
   eex ON eex.exchangeid = em.id JOIN edition ed ON eex.editionid = ed.id WHERE (q.ric = 'YUUZ.SI' and q.ric
   collate utf8_bin = 'YUUZ.SI') AND ed.id = 21 ORDER BY eex.favored DESC, eex.ordering ASC, q.primaryflag DESC;

* another sql for find repono, may only use quoteview table;
 mysql&gt; select * from quoteview where ric='yuuz.si';

* find companygeninfo
 mysql&gt; select repno,   productionDate, numEmployees, numEmployeesLastUpdated, totalSharesOut, commonShareholders,   incorporatedState,  incorporatedYear, publicSince, streetLine1, streetLine2, streetLine3, streetLine4,   streetLine5, city, stateRegion, postalCode, country, contactPersonName, contactPersonTitle, email,   mainPhone, mainFax, contactPhone, businessSummary, equityComposition, analystFootnotes,   financialSummary from companygeninfo where repno = 'ABAA6' \G;

* on mdsrt-01 find which job update table companygeninfo (rtmdb.bulk_job_name_value)
 appdev@produsx-mdsrt-01
 mysql&gt; select * from bulk_job_name_value where value='companygeninfo';
 +----------------+----------------+
 | name           | value          |
 +----------------+----------------+
 | tables_geninfo | companygeninfo |
 +----------------+----------------+

* find the job on mdsbulkmaster-01 , 
 [appdev@produsx-mdsbulkmaster-01 geninfo]$ pwd
 /rt/shared/nasmds/marketdata/sqlarchive/full/geninfo
 or 
 /rt/shared/nasmds/marketdata/sqlarchive/incremental/geninfo
 grep -ir &quot;ABAA6&quot; *

==qa2 mysql vip can't access ==
* when meet qa2 mysql vip can't access 
 [distuser@qa2-admin-01 ~]$ host 10.90.108.50
 50.108.90.10.in-addr.arpa domain name pointer qa2-admindb-vip.g3.reuters.com

* start vip shell
 [distuser@qa2-trtaupdb-01 ~]$ sudo /etc/init.d/vip_QA2ADMIN_up

==stage apache rewrite ==
* on staging box
 svn co http://10.90.0.160/svn/webstack/releases/CKB-9521/httpd-webrail/ httpd-webrail 
 cd httpd-webrail/rewrites 
 make clean stage-kanban env=all remoteuser=qastage kanban_branch=releases

qatage/qastage

* on staging box
 sudo chown -R distuser:rcom /rt/staging/qa/apache-rewrites/Release-1.0-287
 cd /rt/staging/qa/apache-rewrites/Release-1.0-287
 tar xzvf apache-rewrites-1.0-287.tgz

* deploy apache rewrie
 export env=qa2
 cd /rt/staging/qa/apache-rewrites/Release-1.0-287
 make dist env=${env} remoteuser=distuser servers=&quot;${env}-web-01 ${env}-web-02&quot;
 make install env=${env} remoteuser=distuser servers=&quot;${env}-web-01 ${env}-web-02&quot;
 make restart-apache env=${env} remoteuser=distuser servers=&quot;${env}-web-01 ${env}-web-02&quot;

* detail reference CKB-9521</text>
    </revision>
  </page>
  <page>
    <title>Reading list</title>
    <ns>0</ns>
    <id>2078</id>
      <sha1>cuh2h0xh63x9zflxy13rd9kyqjhcv41</sha1>
    <revision>
      <id>4753</id>
      <timestamp>2015-02-03T15:41:38Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* 2015.02 */</comment>
      <text xml:space="preserve" bytes="159">http://book.douban.com/mine?icn=index-nav

==Book List==

===2015.02===
* introducing ios8 [oreilly]
* 三体
* discover meteor (http://zh.discovermeteor.com/)</text>
    </revision>
  </page>
  <page>
    <title>Rest</title>
    <ns>0</ns>
    <id>2085</id>
      <sha1>q2i76tud4hxuptwux9so1g079rhtuoj</sha1>
    <revision>
      <id>4274</id>
      <timestamp>2013-11-22T14:35:08Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>Created page with &quot;==RESTful Webservices == * https://zh.wikipedia.org/wiki/REST&quot;</comment>
      <text xml:space="preserve" bytes="61">==RESTful Webservices ==
* https://zh.wikipedia.org/wiki/REST</text>
    </revision>
  </page>
  <page>
    <title>Rubygem</title>
    <ns>0</ns>
    <id>2139</id>
      <sha1>hka6hfe08757a34olclsb4yvfm72y21</sha1>
    <revision>
      <id>4946</id>
      <timestamp>2015-09-24T08:00:22Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>Created page with &quot;== Ruby Gem== *&quot;</comment>
      <text xml:space="preserve" bytes="15">== Ruby Gem==
*</text>
    </revision>
  </page>
  <page>
    <title>Spring side</title>
    <ns>0</ns>
    <id>2091</id>
      <sha1>t1vjczpcw5ghnrcb54yed1q0rhmoe17</sha1>
    <revision>
      <id>4495</id>
      <timestamp>2014-04-16T14:33:13Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* spring side site */</comment>
      <text xml:space="preserve" bytes="166">==spring side site ==
* https://github.com/springside/springside4

==build ss4 ==
 cd springside4
 git pull
 mvn clean package
 mvn clean install
 mvn eclipse:eclipse</text>
    </revision>
  </page>
  <page>
    <title>Todo</title>
    <ns>0</ns>
    <id>2105</id>
      <sha1>4tcy2dhbkea2ol77eo4i1g70n9pxacv</sha1>
    <revision>
      <id>4583</id>
      <timestamp>2014-08-06T09:29:27Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* ToDo */</comment>
      <text xml:space="preserve" bytes="442">=ToDo=
* http://www.raywenderlich.com/56107/make-first-android-app-part-1 - make you first android app
* http://code.tutsplus.com/tutorials/testing-in-node-js--net-35018 - tdd in nodejs
* http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000 - python tutorial

==todo wiki ==
* fix up wiki linux tips http://lokvin.wikia.com/wiki/Linux_tips , by read http://linux.vbird.org/
I hope this can finished by 2014.11.30</text>
    </revision>
  </page>
  <page>
    <title>Tomcat</title>
    <ns>0</ns>
    <id>2142</id>
      <sha1>1n27vsyll0gg0mcn2euqync08399l1d</sha1>
    <revision>
      <id>5006</id>
      <timestamp>2015-11-12T13:58:54Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* tomcat6 cluster */</comment>
      <text xml:space="preserve" bytes="137">==check tomcat version==
 /opt/tomcat/bin/version.sh

== tomcat6 cluster ==
* https://tomcat.apache.org/tomcat-6.0-doc/cluster-howto.html</text>
    </revision>
  </page>
  <page>
    <title>Tools</title>
    <ns>0</ns>
    <id>2082</id>
      <sha1>01n85wj740l2c0hp6f8ad8mgio9w5j1</sha1>
    <revision>
      <id>5003</id>
      <timestamp>2015-11-12T13:54:37Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* bookmarks */</comment>
      <text xml:space="preserve" bytes="3035">==http debug==
===fiddler===
* a http debug tools, it can use as a proxy to trace http request
* http://fiddler2.com/ - official site
* http://en.wikipedia.org/wiki/Fiddler_(software) - in wiki

*set fiddler 
** Tools -&gt; Fiddler Options -&gt; Connections -- Fiddler listen on port (change listen port, default 8888, often change to 80)
** Tools -&gt; Fillder Options -&gt; Gateway (change fiddler proxy, default use system proxy)

==load test ==
=== jmeter ===
* http://jmeter.apache.org/

==chrome==
===Secure Shell  ===
* An ssh terminal in your chrome browser
* https://chrome.google.com/webstore/detail/secure-shell/pnhechapfaindjhompbnflcldabbghjo

===user agent  switcher===
* switch user agent
* https://chrome.google.com/webstore/detail/user-agent-switcher-for-c/djflhoibgkdhkhhcedjiklpkjnoahfmg

===default chrome bookmark ===
* default can synchronize your bookmarks between deferent chrome browsers

===cookie manager ===
* An Chrome Extension let you find your cookies, and change cookie value in browser easily
* https://chrome.google.com/webstore/detail/cookie-manager/kbnfbcpkiaganjpcanopcgeoehkleeck

===Visual Event  ===
* A scriptlet add to bookmark, which can track events which subscribe to DOM.
* http://www.sprymedia.co.uk/article/Visual+Event+2
* https://github.com/DataTables/VisualEvent

===ModHeader===
* ModHeader you can header content to chrome browser
* https://chrome.google.com/webstore/detail/modheader/idgpnmonknjnojddfkpgkljpfnnfcklj

===Proxy SwitchySharp ===
* proxy switchysharp addon, you can use it set multi proxy to Chrome browser
* https://chrome.google.com/webstore/detail/proxy-switchysharp/dpplabbmogkhghncfbfdeeokoefdjegm

===json view ===
* validate and view json document on Chrome
* https://chrome.google.com/webstore/detail/jsonview/chklaanhfefbnpoihckbnefhakgolnmc

==firefox ==
===foxyproxy ===

==editor ==
===nodepad++ ===
* good and free editor on windows, support many plugin (such as compare)
* http://notepad-plus-plus.org/

===atom ===
* super cool
https://github.com/atom/atom

==zip &amp;&amp; unzip ==
===7zip ===
* free zip software on windows, good
* http://www.7-zip.org/

==putty ==
* free ssh client on windows
* http://www.putty.org/

==youdao Dictionary ==
* free dictionary for win , Mac
* http://cidian.youdao.com/index-mac.html

==cygwin ==
* Linux simulator on Windows
* http://www.cygwin.com/

==svn ==
===TortoiseSVN ===
* SVN client on Windows
* http://tortoisesvn.tigris.org/

==synergy ==
*Convient tool to share keyboard/mouse between desktop/laptop
* http://synergy-foss.org/

== VNC==
===TightVNC ===
* Free VNC client
* http://www.tightvnc.com/

==ftp ==
===filezilla ===
* free ftp server and client
* https://filezilla-project.org/

==drawing graphics==
===draw io===
* https://www.draw.io - an online drawing tools

=== lucidchart ===
* https://www.lucidchart.com - another online drawing tools. Very cool, need pay

==bookmarks ==
* http://searchengineland.com/10-alternatives-to-delicious-com-bookmarking-59058

== vpn ==
* https://www.expressvpn.com/ - expressvpn</text>
    </revision>
  </page>
  <page>
    <title>Varnish</title>
    <ns>0</ns>
    <id>2084</id>
      <sha1>f8463oidt0u81hh9jr85ql9m5azvnlh</sha1>
    <revision>
      <id>4272</id>
      <timestamp>2013-11-22T06:57:54Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* varnish cache */</comment>
      <text xml:space="preserve" bytes="193">==varnish cache ==
* https://www.varnish-cache.org/ - official site
* http://en.wikipedia.org/wiki/Varnish_(software) - wikipedia
* http://www.c50k.com/varnish-cache.html - introduce to varnish</text>
    </revision>
  </page>
  <page>
    <title>Vim</title>
    <ns>0</ns>
    <id>2111</id>
      <sha1>c4ogay0ycswv4sdfvtefhkvp64hmy1a</sha1>
    <revision>
      <id>4616</id>
      <timestamp>2014-08-22T03:44:12Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>/* add vim format xml */</comment>
      <text xml:space="preserve" bytes="2675">==install vim ==
 yum install vim

==create ~/.vimrc ==
 touch ~/.vimrc

==add vim format xml==
* http://vim.wikia.com/wiki/Pretty-formatting_XML
* add below content to ~/.vimrc, use :FormatXML  to format xml

 function! DoPrettyXML()
  &quot; save the filetype so we can restore it later
  let l:origft = &amp;ft
  set ft=
  &quot; delete the xml header if it exists. This will
  &quot; permit us to surround the document with fake tags
  &quot; without creating invalid xml.
  1s/&lt;?xml .*?&gt;//e
  &quot; insert fake tags around the entire document.
  &quot; This will permit us to pretty-format excerpts of
  &quot; XML that may contain multiple top-level elements.
  0put ='&lt;PrettyXML&gt;'
  $put ='&lt;/PrettyXML&gt;'
  silent %!xmllint --format -
  &quot; xmllint will insert an &lt;?xml?&gt; header. it's easy enough to delete
  &quot; if you don't want it.
  &quot; delete the fake tags
  2d
  $d
  &quot; restore the 'normal' indentation, which is one extra level
  &quot; too deep due to the extra tags we wrapped around the document.
  silent %&lt;
  &quot; back to home
  1
  &quot; restore the filetype
  exe &quot;set ft=&quot; . l:origft
 endfunction
 command! PrettyXML call DoPrettyXML()

 &quot; XML formatter
 function! DoFormatXML() range
 	&quot; Save the file type
 	let l:origft = &amp;ft
 
 	&quot; Clean the file type
 	set ft=
 
 	&quot; Add fake initial tag (so we can process multiple top-level elements)
 	exe &quot;:let l:beforeFirstLine=&quot; . a:firstline . &quot;-1&quot;
 	if l:beforeFirstLine &lt; 0
 		let l:beforeFirstLine=0
 	endif
 	exe a:lastline . &quot;put ='&lt;/PrettyXML&gt;'&quot;
 	exe l:beforeFirstLine . &quot;put ='&lt;PrettyXML&gt;'&quot;
 	exe &quot;:let l:newLastLine=&quot; . a:lastline . &quot;+2&quot;
 	if l:newLastLine &gt; line('$')
 		let l:newLastLine=line('$')
 	endif
 
 	&quot; Remove XML header
 	exe &quot;:&quot; . a:firstline . &quot;,&quot; . a:lastline . &quot;s/&lt;\?xml\\_.*\?&gt;\\_s*//e&quot;
 
 	&quot; Recalculate last line of the edited code
 	let l:newLastLine=search('&lt;/PrettyXML&gt;')
 
 	&quot; Execute external formatter
 	exe &quot;:silent &quot; . a:firstline . &quot;,&quot; . l:newLastLine . &quot;!xmllint --noblanks --format --recover -&quot;
 
 	&quot; Recalculate first and last lines of the edited code
 	let l:newFirstLine=search('&lt;PrettyXML&gt;')
 	let l:newLastLine=search('&lt;/PrettyXML&gt;')
 	
 	&quot; Get inner range
 	let l:innerFirstLine=l:newFirstLine+1
 	let l:innerLastLine=l:newLastLine-1
 
 	&quot; Remove extra unnecessary indentation
 	exe &quot;:silent &quot; . l:innerFirstLine . &quot;,&quot; . l:innerLastLine &quot;s/^  //e&quot;
 
 	&quot; Remove fake tag
 	exe l:newLastLine . &quot;d&quot;
 	exe l:newFirstLine . &quot;d&quot;
 
 	&quot; Put the cursor at the first line of the edited code
 	exe &quot;:&quot; . l:newFirstLine
 
 	&quot; Restore the file type
 	exe &quot;set ft=&quot; . l:origft
 endfunction
 command! -range=% FormatXML &lt;line1&gt;,&lt;line2&gt;call DoFormatXML()
 
 nmap &lt;silent&gt; &lt;leader&gt;x :%FormatXML&lt;CR&gt;
 vmap &lt;silent&gt; &lt;leader&gt;x :FormatXML&lt;CR&gt;</text>
    </revision>
  </page>
  <page>
    <title>Yeoman</title>
    <ns>0</ns>
    <id>2122</id>
      <sha1>limseiwdkqs15boqrc6w3vlrt1m2dpv</sha1>
    <revision>
      <id>4727</id>
      <timestamp>2015-01-17T06:11:11Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>17700452</id>
      </contributor>
      <comment>Created page with &quot;==Yeoman == * http://yeoman.io/ 前端工作流程事实标准&quot;</comment>
      <text xml:space="preserve" bytes="62">==Yeoman ==
* http://yeoman.io/
前端工作流程事实标准</text>
    </revision>
  </page>
</mediawiki>
