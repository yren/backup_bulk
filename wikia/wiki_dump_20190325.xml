<mediawiki xmlns="http://www.mediawiki.org/xml/export-0.10/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mediawiki.org/xml/export-0.10/ http://www.mediawiki.org/xml/export-0.10.xsd" version="0.10" xml:lang="en">
  <siteinfo>
    <sitename>nuts and bolts</sitename>
    <dbname>my_wiki</dbname>
    <base>http://wiki.lokvin.me/index.php/Main_Page</base>
    <generator>MediaWiki 1.30.0</generator>
    <case>first-letter</case>
    <namespaces>
      <namespace key="-2" case="first-letter">Media</namespace>
      <namespace key="-1" case="first-letter">Special</namespace>
      <namespace key="0" case="first-letter" />
      <namespace key="1" case="first-letter">Talk</namespace>
      <namespace key="2" case="first-letter">User</namespace>
      <namespace key="3" case="first-letter">User talk</namespace>
      <namespace key="4" case="first-letter">Nuts and bolts</namespace>
      <namespace key="5" case="first-letter">Nuts and bolts talk</namespace>
      <namespace key="6" case="first-letter">File</namespace>
      <namespace key="7" case="first-letter">File talk</namespace>
      <namespace key="8" case="first-letter">MediaWiki</namespace>
      <namespace key="9" case="first-letter">MediaWiki talk</namespace>
      <namespace key="10" case="first-letter">Template</namespace>
      <namespace key="11" case="first-letter">Template talk</namespace>
      <namespace key="12" case="first-letter">Help</namespace>
      <namespace key="13" case="first-letter">Help talk</namespace>
      <namespace key="14" case="first-letter">Category</namespace>
      <namespace key="15" case="first-letter">Category talk</namespace>
    </namespaces>
  </siteinfo>
  <page>
    <title>Main Page</title>
    <ns>0</ns>
    <id>1</id>
    <revision>
      <id>1</id>
      <timestamp>2018-05-26T04:49:17Z</timestamp>
      <contributor>
        <username>MediaWiki default</username>
        <id>0</id>
      </contributor>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="735">&lt;strong&gt;MediaWiki has been installed.&lt;/strong&gt;

Consult the [https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents User's Guide] for information on using the wiki software.

== Getting started ==
* [https://www.mediawiki.org/wiki/Special:MyLanguage/Manual:Configuration_settings Configuration settings list]
* [https://www.mediawiki.org/wiki/Special:MyLanguage/Manual:FAQ MediaWiki FAQ]
* [https://lists.wikimedia.org/mailman/listinfo/mediawiki-announce MediaWiki release mailing list]
* [https://www.mediawiki.org/wiki/Special:MyLanguage/Localisation#Translation_resources Localise MediaWiki for your language]
* [https://www.mediawiki.org/wiki/Special:MyLanguage/Manual:Combating_spam Learn how to combat spam on your wiki]</text>
      <sha1>a5wehuldd0go2uniagwvx66n6c80irq</sha1>
    </revision>
    <revision>
      <id>2</id>
      <parentid>1</parentid>
      <timestamp>2018-05-26T04:53:34Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Blanked the page</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="0" />
      <sha1>phoiac9h4m842xq45sp7s6u21eteeq1</sha1>
    </revision>
    <revision>
      <id>3</id>
      <parentid>2</parentid>
      <timestamp>2018-05-26T04:55:15Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="27">= technology =

== Linux ==</text>
      <sha1>ny9rrd83iak7gxsrem4wrdlymrarfx8</sha1>
    </revision>
    <revision>
      <id>4</id>
      <parentid>3</parentid>
      <timestamp>2018-05-26T04:55:34Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* technology */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="27">= Technology =

== Linux ==</text>
      <sha1>1ilnd3c5olb6wya45rr763bsvqtkg33</sha1>
    </revision>
    <revision>
      <id>5</id>
      <parentid>4</parentid>
      <timestamp>2018-05-26T04:57:13Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Linux */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="45">= Technology =

== Linux ==
[[linux]] - linux</text>
      <sha1>o8xgxv16vlc79u8i52l6522eoy30zea</sha1>
    </revision>
    <revision>
      <id>7</id>
      <parentid>5</parentid>
      <timestamp>2018-05-26T05:00:24Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Linux */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="73">= Technology =

== Linux ==
[[linux]] - linux

== Java ==
[[java]] - java</text>
      <sha1>7pdg75purrn4ouiktr5998srn7e0krn</sha1>
    </revision>
    <revision>
      <id>9</id>
      <parentid>7</parentid>
      <timestamp>2018-05-26T05:04:11Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Java */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="119">= Technology =

== Linux ==
[[linux]] - linux

== Java ==
[[java]] - java

== JavaScript ==
[[javascript]] - javascript</text>
      <sha1>r8sz6w8o9kfshudostcx09jb8x9sqk1</sha1>
    </revision>
    <revision>
      <id>11</id>
      <parentid>9</parentid>
      <timestamp>2018-05-26T05:05:49Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="119">= Technology =

== Linux ==
[[Linux]] - Linux

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript</text>
      <sha1>md0ws70lxv043ux7cit4nk4pl3fvmuz</sha1>
    </revision>
    <revision>
      <id>12</id>
      <parentid>11</parentid>
      <timestamp>2018-05-26T05:07:12Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* JavaScript */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="153">= Technology =

== Linux ==
[[Linux]] - Linux

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs</text>
      <sha1>5btimfj44o2mfz2o1ean4bptft2vty7</sha1>
    </revision>
    <revision>
      <id>14</id>
      <parentid>12</parentid>
      <timestamp>2018-05-26T05:09:08Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Nodejs */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="187">= Technology =

== Linux ==
[[Linux]] - Linux

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python</text>
      <sha1>57vcy6lb7fno2hknqxg1aketcusp4y2</sha1>
    </revision>
    <revision>
      <id>16</id>
      <parentid>14</parentid>
      <timestamp>2018-05-26T05:12:11Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Linux */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="212">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python</text>
      <sha1>bmz6fh5uu4dtbdy0ymifq21in4ecs1p</sha1>
    </revision>
    <revision>
      <id>18</id>
      <parentid>16</parentid>
      <timestamp>2018-05-26T05:13:43Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Mac */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="236">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python</text>
      <sha1>4q1derwaqis1lrg53x7os3lbxu2vpmu</sha1>
    </revision>
    <revision>
      <id>19</id>
      <parentid>18</parentid>
      <timestamp>2018-05-26T05:13:52Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Mac */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="237">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac

[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python</text>
      <sha1>4n33q2ihnvd6hmuzybd4fgk33bpuvdj</sha1>
    </revision>
    <revision>
      <id>20</id>
      <parentid>19</parentid>
      <timestamp>2018-05-26T05:14:45Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Mac */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="238">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac  
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python</text>
      <sha1>bnd21yic68cf8t2gi89v0p7ms84qlsw</sha1>
    </revision>
    <revision>
      <id>21</id>
      <parentid>20</parentid>
      <timestamp>2018-05-26T05:14:59Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Mac */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="246">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac          
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python</text>
      <sha1>h081hyc81bme8euttcuubhsrxn3j5fw</sha1>
    </revision>
    <revision>
      <id>22</id>
      <parentid>21</parentid>
      <timestamp>2018-05-26T05:15:10Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Mac */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="248">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python</text>
      <sha1>ejo70w389ne3liqkciyw7zqfpji10rs</sha1>
    </revision>
    <revision>
      <id>24</id>
      <parentid>22</parentid>
      <timestamp>2018-05-26T05:17:11Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Python */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="279">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python

== Mysql ==
[[Mysql]] - Mysql</text>
      <sha1>4chriif8ebunwjmepunyjldjajmogr3</sha1>
    </revision>
    <revision>
      <id>26</id>
      <parentid>24</parentid>
      <timestamp>2018-05-26T05:18:22Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Mysql */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="310">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python

== Mysql ==
[[Mysql]] - Mysql

== Maven ==
[[Maven]] - Maven</text>
      <sha1>clxjedagrsepmf9vlkw2g8pfx5j3n57</sha1>
    </revision>
    <revision>
      <id>28</id>
      <parentid>26</parentid>
      <timestamp>2018-05-26T05:19:45Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Maven */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="344">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python

== Mysql ==
[[Mysql]] - Mysql

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat</text>
      <sha1>n1gbcynfisaulocvqgkoclkmo76hg2e</sha1>
    </revision>
    <revision>
      <id>30</id>
      <parentid>28</parentid>
      <timestamp>2018-05-26T05:21:54Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Mysql */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="382">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat</text>
      <sha1>7w2g9tytdnxtik4tng5eguqi7i2e4kg</sha1>
    </revision>
    <revision>
      <id>32</id>
      <parentid>30</parentid>
      <timestamp>2018-05-26T05:23:53Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Tomcat */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="419">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse</text>
      <sha1>2abzenqckcgz61pqvfv3tn7jycjufol</sha1>
    </revision>
    <revision>
      <id>34</id>
      <parentid>32</parentid>
      <timestamp>2018-05-26T05:26:37Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Eclipse */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="444">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn</text>
      <sha1>fsolubeqdzobu1opsolzni0vtdo2hgg</sha1>
    </revision>
    <revision>
      <id>36</id>
      <parentid>34</parentid>
      <timestamp>2018-05-26T05:27:40Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Svn */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="469">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git</text>
      <sha1>pqpans9d3cja982x8yl8sk9mlnmmpay</sha1>
    </revision>
    <revision>
      <id>38</id>
      <parentid>36</parentid>
      <timestamp>2018-05-26T05:30:12Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Git */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="549">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes</text>
      <sha1>0k2c6sl0n1cpi451u8du26uj9ydserp</sha1>
    </revision>
    <revision>
      <id>39</id>
      <parentid>38</parentid>
      <timestamp>2018-05-26T05:31:11Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Python */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="577">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Python ==
[[Python]] - Python

== Yaml ==
[[Yaml]] - Yaml

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes</text>
      <sha1>minm34dol2ownlc8ibz88m5q5ozm7e8</sha1>
    </revision>
    <revision>
      <id>41</id>
      <parentid>39</parentid>
      <timestamp>2018-05-26T05:33:28Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Nodejs */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="611">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python

== Yaml ==
[[Yaml]] - Yaml

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes</text>
      <sha1>hjnh3yx78trtva5o13swrbyorzphdt2</sha1>
    </revision>
    <revision>
      <id>43</id>
      <parentid>41</parentid>
      <timestamp>2018-05-26T05:34:53Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Yaml */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="651">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python

== Yaml ==
[[Yaml]] - Yaml

== Markdown ==
[[Markdown]] - Markdown

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes</text>
      <sha1>93ciohz4gw0wrp3cc8i9u3u6gfzwdh2</sha1>
    </revision>
    <revision>
      <id>68</id>
      <parentid>43</parentid>
      <timestamp>2018-06-08T15:46:42Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Technology */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="824">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python

== Yaml ==
[[Yaml]] - Yaml

== Markdown ==
[[Markdown]] - Markdown

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes

= wiki edit help =
* https://www.mediawiki.org/wiki/Help:Contents
* http://meta.wikimedia.org/wiki/Help:Wikitext
* http://meta.wikimedia.org/wiki/Help:Contents#For_editors</text>
      <sha1>gr447tozfab36hou3ucm26hzajfl9gj</sha1>
    </revision>
    <revision>
      <id>72</id>
      <parentid>68</parentid>
      <timestamp>2018-06-13T03:36:20Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Java */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="858">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== Kotlin ==
[[Kotlin]] - Kotlin

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python

== Yaml ==
[[Yaml]] - Yaml

== Markdown ==
[[Markdown]] - Markdown

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes

= wiki edit help =
* https://www.mediawiki.org/wiki/Help:Contents
* http://meta.wikimedia.org/wiki/Help:Wikitext
* http://meta.wikimedia.org/wiki/Help:Contents#For_editors</text>
      <sha1>a2eabncaj6561s6ml7xb60m07lgb1by</sha1>
    </revision>
    <revision>
      <id>79</id>
      <parentid>72</parentid>
      <timestamp>2018-06-22T07:19:16Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Maven */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="892">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== Kotlin ==
[[Kotlin]] - Kotlin

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python

== Yaml ==
[[Yaml]] - Yaml

== Markdown ==
[[Markdown]] - Markdown

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Gradle ==
[[Gradle]] - Gradle

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes

= wiki edit help =
* https://www.mediawiki.org/wiki/Help:Contents
* http://meta.wikimedia.org/wiki/Help:Wikitext
* http://meta.wikimedia.org/wiki/Help:Contents#For_editors</text>
      <sha1>59l5k0aaxpro9vvakb667a2nx8p5r5p</sha1>
    </revision>
    <revision>
      <id>91</id>
      <parentid>79</parentid>
      <timestamp>2018-07-24T10:04:39Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Python */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="937">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== Kotlin ==
[[Kotlin]] - Kotlin

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python
[[click]] - python command line tool package

== Yaml ==
[[Yaml]] - Yaml

== Markdown ==
[[Markdown]] - Markdown

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Gradle ==
[[Gradle]] - Gradle

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes

= wiki edit help =
* https://www.mediawiki.org/wiki/Help:Contents
* http://meta.wikimedia.org/wiki/Help:Wikitext
* http://meta.wikimedia.org/wiki/Help:Contents#For_editors</text>
      <sha1>otjre6v6usfhkcj4byo4vrkf08ydx36</sha1>
    </revision>
    <revision>
      <id>92</id>
      <parentid>91</parentid>
      <timestamp>2018-07-24T10:04:54Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Python */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="942">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== Kotlin ==
[[Kotlin]] - Kotlin

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python &lt;br&gt;
[[click]] - python command line tool package

== Yaml ==
[[Yaml]] - Yaml

== Markdown ==
[[Markdown]] - Markdown

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Gradle ==
[[Gradle]] - Gradle

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes

= wiki edit help =
* https://www.mediawiki.org/wiki/Help:Contents
* http://meta.wikimedia.org/wiki/Help:Wikitext
* http://meta.wikimedia.org/wiki/Help:Contents#For_editors</text>
      <sha1>2esjq80qkqxbtk3kgfj725n12tq94ke</sha1>
    </revision>
    <revision>
      <id>94</id>
      <parentid>92</parentid>
      <timestamp>2018-08-15T05:17:41Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Mysql */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="995">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== Kotlin ==
[[Kotlin]] - Kotlin

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python &lt;br&gt;
[[click]] - python command line tool package

== Yaml ==
[[Yaml]] - Yaml

== Markdown ==
[[Markdown]] - Markdown

== SQL &amp; Relational db ==
* [[sql join]] - sql join

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Gradle ==
[[Gradle]] - Gradle

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes

= wiki edit help =
* https://www.mediawiki.org/wiki/Help:Contents
* http://meta.wikimedia.org/wiki/Help:Wikitext
* http://meta.wikimedia.org/wiki/Help:Contents#For_editors</text>
      <sha1>pe5xl8x18gyi0axep7k6duouyzxlwxz</sha1>
    </revision>
    <revision>
      <id>95</id>
      <parentid>94</parentid>
      <timestamp>2018-08-15T05:18:09Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* SQL &amp; Relational db */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="1060">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== Kotlin ==
[[Kotlin]] - Kotlin

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python &lt;br&gt;
[[click]] - python command line tool package

== Yaml ==
[[Yaml]] - Yaml

== Markdown ==
[[Markdown]] - Markdown

== SQL &amp; Relational db ==
* sql join - https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Gradle ==
[[Gradle]] - Gradle

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes

= wiki edit help =
* https://www.mediawiki.org/wiki/Help:Contents
* http://meta.wikimedia.org/wiki/Help:Wikitext
* http://meta.wikimedia.org/wiki/Help:Contents#For_editors</text>
      <sha1>oauzvmd9dl7ti0g0sfaw93hcaqu4tpe</sha1>
    </revision>
    <revision>
      <id>96</id>
      <parentid>95</parentid>
      <timestamp>2018-08-15T05:18:34Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* SQL &amp; Relational db */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="985">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== Kotlin ==
[[Kotlin]] - Kotlin

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python &lt;br&gt;
[[click]] - python command line tool package

== Yaml ==
[[Yaml]] - Yaml

== Markdown ==
[[Markdown]] - Markdown

== SQL &amp; Relational db ==
* [[sql]] - sql

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Gradle ==
[[Gradle]] - Gradle

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes

= wiki edit help =
* https://www.mediawiki.org/wiki/Help:Contents
* http://meta.wikimedia.org/wiki/Help:Wikitext
* http://meta.wikimedia.org/wiki/Help:Contents#For_editors</text>
      <sha1>ecxw7fvogo21ufg1wpqsmvf4t8r2o05</sha1>
    </revision>
    <revision>
      <id>99</id>
      <parentid>96</parentid>
      <timestamp>2018-11-12T15:47:14Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Kubernetes */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="1025">= Technology =

== Linux ==
[[Linux]] - Linux

== Mac ==
[[Mac]] - Mac &lt;br&gt;       
[[Mac_Init]] - Mac Init

== Java ==
[[Java]] - Java

== Kotlin ==
[[Kotlin]] - Kotlin

== JavaScript ==
[[Javascript]] - Javascript

== Nodejs ==
[[Nodejs]] - Nodejs

== Meteor ==
[[Meteor]] - Meteor

== Python ==
[[Python]] - Python &lt;br&gt;
[[click]] - python command line tool package

== Yaml ==
[[Yaml]] - Yaml

== Markdown ==
[[Markdown]] - Markdown

== SQL &amp; Relational db ==
* [[sql]] - sql

== Mysql ==
[[Mysql]] - Mysql

== Mongodb ==
[[Mongodb]] -  Mongodb

== Maven ==
[[Maven]] - Maven

== Gradle ==
[[Gradle]] - Gradle

== Tomcat ==
[[Tomcat]] - Tomcat

== Eclipse ==
[[Eclipse]] - Eclipse

== Svn ==
[[Svn]] - Svn

== Git ==
[[Git]] - Git

== Docker ==
[[Docker]] - Docker

== Kubernetes ==
[[Kubernetes]] - Kubernetes

== homebrew ==
[[homebrew]] - homebrew

= wiki edit help =
* https://www.mediawiki.org/wiki/Help:Contents
* http://meta.wikimedia.org/wiki/Help:Wikitext
* http://meta.wikimedia.org/wiki/Help:Contents#For_editors</text>
      <sha1>1w3p6bi157ahp8g6k5krr8cxbn7xzf6</sha1>
    </revision>
  </page>
  <page>
    <title>Linux</title>
    <ns>0</ns>
    <id>2</id>
    <revision>
      <id>6</id>
      <timestamp>2018-05-26T04:57:21Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;== docs == * http://linuxcommand.org/index.php * http://man.linuxde.net/  == echo color text  == * https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4) * http://misc.flogis...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29444">== docs ==
* http://linuxcommand.org/index.php
* http://man.linuxde.net/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== check file change time ==
 stat filename

== mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及所下的参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==short cut key==
# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left / right arrow , move about one word 
# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>nk4dy6uhudok4s6v85nsz5mih4nsefl</sha1>
    </revision>
    <revision>
      <id>45</id>
      <parentid>6</parentid>
      <timestamp>2018-05-29T09:14:14Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* docs */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29476">== docs ==
* http://linuxcommand.org/index.php
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== check file change time ==
 stat filename

== mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及所下的参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==short cut key==
# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left / right arrow , move about one word 
# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>ltnjgvlf26pzolzm2le9rqny6x0ztz4</sha1>
    </revision>
    <revision>
      <id>82</id>
      <parentid>45</parentid>
      <timestamp>2018-06-25T09:37:51Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* short cut key */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29486">== docs ==
* http://linuxcommand.org/index.php
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== check file change time ==
 stat filename

== mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及所下的参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==short cut key==
* on mac

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left / right arrow , move about one word 
# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>8z6d89oorzqds0hsquadjislf71mtll</sha1>
    </revision>
    <revision>
      <id>83</id>
      <parentid>82</parentid>
      <timestamp>2018-06-25T09:50:03Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* short cut key */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29783">== docs ==
* http://linuxcommand.org/index.php
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== check file change time ==
 stat filename

== mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及所下的参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.

# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history

# opt + left / right arrow , move about one word 
# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>r46iht2unymuaes40bfi7fhjd7rvy4p</sha1>
    </revision>
    <revision>
      <id>84</id>
      <parentid>83</parentid>
      <timestamp>2018-06-25T09:56:38Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* bash shortcut key */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29786">== docs ==
* http://linuxcommand.org/index.php
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== check file change time ==
 stat filename

== mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及所下的参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.

# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>nqtlug886zymbatf3iis7200g42riv3</sha1>
    </revision>
    <revision>
      <id>85</id>
      <parentid>84</parentid>
      <timestamp>2018-06-25T09:56:51Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* bash shortcut key */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29790">== docs ==
* http://linuxcommand.org/index.php
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== check file change time ==
 stat filename

== mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及所下的参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>41aoe0yffkyjuhmvnzy6rwea9rexgzl</sha1>
    </revision>
    <revision>
      <id>86</id>
      <parentid>85</parentid>
      <timestamp>2018-07-03T19:05:57Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* check file change time */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29893">== docs ==
* http://linuxcommand.org/index.php
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== 'stat' check file change time ==
 # on linux
 stat filename
 # on mac, you can add alias stat='stat -x' in mac's bash_profile
 stat -x filename

== mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及所下的参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>s7f96kcwnldbkbxq81u3fb8k1aa118v</sha1>
    </revision>
    <revision>
      <id>87</id>
      <parentid>86</parentid>
      <timestamp>2018-07-03T19:06:42Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* mac list listen port */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29900">== docs ==
* http://linuxcommand.org/index.php
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== 'stat' check file change time ==
 # on linux
 stat filename
 # on mac, you can add alias stat='stat -x' in mac's bash_profile
 stat -x filename

== 'lsof' mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及所下的参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>64d8reravxhmb3y62a10dz4k8gbj3kx</sha1>
    </revision>
    <revision>
      <id>88</id>
      <parentid>87</parentid>
      <timestamp>2018-07-03T19:41:34Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* set */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29891">== docs ==
* http://linuxcommand.org/index.php
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== 'stat' check file change time ==
 # on linux
 stat filename
 # on mac, you can add alias stat='stat -x' in mac's bash_profile
 stat -x filename

== 'lsof' mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -L -d -RR -S buildmaster;  -&gt; Start a screen as the buildmaster user;
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>2s9o2wh1qlk1kf4ffop86itrrf34yxy</sha1>
    </revision>
    <revision>
      <id>89</id>
      <parentid>88</parentid>
      <timestamp>2018-07-03T19:45:25Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* screen */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29809">== docs ==
* http://linuxcommand.org/index.php
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== 'stat' check file change time ==
 # on linux
 stat filename
 # on mac, you can add alias stat='stat -x' in mac's bash_profile
 stat -x filename

== 'lsof' mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>pzpyoieevy9n1nzdytp0tn0oc5pk0n5</sha1>
    </revision>
    <revision>
      <id>90</id>
      <parentid>89</parentid>
      <timestamp>2018-07-18T10:47:16Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* docs */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29773">== docs ==
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== 'stat' check file change time ==
 # on linux
 stat filename
 # on mac, you can add alias stat='stat -x' in mac's bash_profile
 stat -x filename

== 'lsof' mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>kxh8msojx7js4zfzwxrqlcthxgtwv2j</sha1>
    </revision>
    <revision>
      <id>98</id>
      <parentid>90</parentid>
      <timestamp>2018-11-05T18:07:11Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* docs */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29799">== docs ==
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/
* http://linux.vbird.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== 'stat' check file change time ==
 # on linux
 stat filename
 # on mac, you can add alias stat='stat -x' in mac's bash_profile
 stat -x filename

== 'lsof' mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==
===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>4jkivxg5cvmpy01ojhli3jsntaxa0q7</sha1>
    </revision>
    <revision>
      <id>101</id>
      <parentid>98</parentid>
      <timestamp>2018-11-29T07:07:01Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* uname */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29946">== docs ==
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/
* http://linux.vbird.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== 'stat' check file change time ==
 # on linux
 stat filename
 # on mac, you can add alias stat='stat -x' in mac's bash_profile
 stat -x filename

== 'lsof' mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==

===check machine type===
 sudo dmidecode -t system
```
System Information
	Manufacturer: Red Hat
	Product Name: KVM
	Version: RHEL 6.6.0 PC
```


===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>f015m1my5s3hf77rlx2h59a7s2qqvum</sha1>
    </revision>
    <revision>
      <id>102</id>
      <parentid>101</parentid>
      <timestamp>2018-11-29T07:12:56Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* check machine type */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29970">== docs ==
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/
* http://linux.vbird.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== 'stat' check file change time ==
 # on linux
 stat filename
 # on mac, you can add alias stat='stat -x' in mac's bash_profile
 stat -x filename

== 'lsof' mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==

===check machine type===
 sudo dmidecode -t system
&lt;source lang=&quot;csharp&quot;&gt;
System Information
	Manufacturer: Red Hat
	Product Name: KVM
	Version: RHEL 6.6.0 PC
&lt;/source&gt;

===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>4wv30x7izo4vlog2y13wbtg8chvjne4</sha1>
    </revision>
    <revision>
      <id>103</id>
      <parentid>102</parentid>
      <timestamp>2018-11-29T07:14:30Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* check machine type */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29957">== docs ==
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/
* http://linux.vbird.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== 'stat' check file change time ==
 # on linux
 stat filename
 # on mac, you can add alias stat='stat -x' in mac's bash_profile
 stat -x filename

== 'lsof' mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==

===check system information ===
 sudo dmidecode -t system
&lt;pre&gt;
System Information
	Manufacturer: Red Hat
	Product Name: KVM
	Version: RHEL 6.6.0 PC
&lt;/pre&gt;

===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>nqtglbsuw6jm57gcg0xl0ivkx2j7fyh</sha1>
    </revision>
    <revision>
      <id>104</id>
      <parentid>103</parentid>
      <timestamp>2018-11-29T07:14:48Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* check system information */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="29958">== docs ==
* http://man.linuxde.net/
* http://wiki.bash-hackers.org/
* http://linux.vbird.org/

== echo color text  ==
* https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)
* http://misc.flogisoft.com/bash/tip_colors_and_formatting

== 'stat' check file change time ==
 # on linux
 stat filename
 # on mac, you can add alias stat='stat -x' in mac's bash_profile
 stat -x filename

== 'lsof' mac list listen port ==
 lsof -PiTCP -sTCP:LISTEN | grep 8080

== bash convert string to lower case, upper case ==
 x=&quot;HELLO&quot;
 echo $x  # HELLO
 
 y=${x,,}
 echo $y  # hello
 
 z=${y^^} 
 echo $z  # HELLO

* Use only one , or ^ to make the first letter lowercase or uppercase

==awk ==
* http://coolshell.cn/articles/9070.html
 # -F是指定分隔符
 $ awk  -F: '{print $1,$3,$6}' /etc/passwd
 # 指定多个分隔符
 awk -F '[;:]'
 awk  -F: '{print $1,$3,$6}' OFS=&quot;\t&quot; /etc/passwd

==diff 2 dirs ==
 diff -bur folder1/ folder2/
 ## -b：不检查空格字符的不同；
 ## -u：以合并的方式来显示文件内容的不同
 ## -r或——recursive：比较子目录中的文件

== nc ==
* http://blog.csdn.net/xifeijian/article/details/9348277
* nc access memcached.

== set ==
* http://man.linuxde.net/set
 -x：执行指令后，会先显示该指令及参数。
 -e：若指令传回值不等于0，则立即退出shell。

== screen ==
  1) screen -S buildmaster -&gt; also start new screen
  2) screen -x;  -&gt; resume to last screen;
  2) screen -list -&gt; show available screen list
  3) ctrl-a d;   -&gt; quit current screen, Detached;
  4) ctrl-a 1/2/3/4...;   -&gt; switch in different window;
  5) ctrl-a c;   -&gt; Create a new window in the screen;
  6) ctrl-a shift-A;  -&gt; Change the window name in the screen;
  7) ctrl-a &quot;  -&gt; list all window
  8) ctrl-a [ + arrow key -&gt; copy mode, can roll screen, press &quot;Esc&quot; exit from copy mode
  10)ctrl-a + K -&gt; kill current window
  11)ctrl-a + ctrl-n -&gt; move to next window
  12)ctrl-a + ctrl-Backspace -&gt; move to previous window
  13)ctrl-a + a, move cursor to the line begin
  14)ctrl-a + F, resize screen size.

* screen guide : http://magazine.redhat.com/2007/09/27/a-guide-to-gnu-screen/
* https://www.gnu.org/software/screen/manual/screen.html - screen manul page
* https://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/ 

===screen config ===
* specify screen config on file ~/.screenrc
 #set this up for convenience
 defscrollback 8000
 hardstatus alwayslastline &quot;%Lw&quot;
 hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %d/%m %{W}%c %{g}]'

== vi ==
* vi tips
{| border=1 width=90% cellpadding=3 cellspacing=0
!colspan=&quot;2&quot; | common mode : move cursor 
|-
|Ctrl + f
|equals '''page down''', cursor move down 1 page
|-
|Ctrl + b
|equals '''page up''', cursor move up 1 page
|-
|Ctrl + d
|move down half page
|-
|ctrl + u
|move up half page
|-
|0
|cursor move to first char of current line
|-
|$
|cursor move to last char of current line
|-
|G
|cursor move to last line of current file
|-
|nG
|cursor move to No. n line of current file,such as 2G, move to second line
|-
|gg
|cursor move to first line, equals 1G
|-
|n&lt;Enter&gt;
|cursor move down n lines
|-
!colspan=&quot;2&quot;|common mode : search &amp; replace
|-
|:n1,n2s/word1/word2/g
|eplace &quot;word1&quot; with &quot;word2&quot;, between n1 line and n2 line
|-
|:1,$s/word1/word2/gc
|replace &quot;word1&quot; with &quot;word2&quot;, with all content, with confirm whether need replace
|-
|/word
|from current cursor, forward search &quot;word&quot; string.
|-
|?word
|from current cursor, upward search &quot;word&quot; string.
|-
|n
|search next, for /word search forward next , for ?word search upward next
|-
|N
|search reverse next, for /word search upward next, for ?word search forward next
|-
|x, X
|&quot;x&quot; delete behind 1 character, X delete front 1 character
|-
|dd
|delete current cursor line
|-
|ndd
|delete n lines from cursor position
|-
|d1G
|delete content from current cursor to first line
|-
|dG
|delete content from current cursor to last line
|-
|d$
|delete characters from cursor to current line last character
|-
|d0
|delete characters from cursor to current line first character
|-
|yy
|copy cursor line
|-
|nyy
|copy n lines from cursor line
|-
|y1G
|copy from cursor to first line
|-
|yG
|copy form cursor to last line
|-
|y0
|copy from cursor to first character, current line
|-
|y$
|copy from cursor to last character, current line
|-
|p, P
|&quot;p&quot; paste copy content after cursor line, &quot;P&quot; paste before cursor line
|-
|:set number
|show line number
|-
|:set nonumber
|hide line number
|-
|u
|Undo the latest change
|-
|U
|Undo all changes on a line, while not having
|-
|ctrl + r
|Redo last change
|-
|:e!
|Re-edit a messed-up file.
|}

===vi highlight syntax ===
 :syntax on
 :syntax off

* add file ~/.vimrc with current line for default hight light
 syntax on

* add set number to ~/.vimrc for default number
 set number

==zip &amp; unzip ==
* unzip file *.tar.xz 
 &gt;tar Jxvf filename.tar.xz

* 解压 .tar.gz 
 shell&gt;tar -zxvf file.tar.gz

* unzip to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp

* unzip part contents (abc/mm/*) to specify folder (/tmp)
 shell&gt;tar -zxvf file.tar.gz -C /tmp abc/mm/* 

* 解压 .tar.bz2
 shell&gt;tar -jxvf file.tar.bz2

* 打包 tar , 不压缩
 shell&gt;tar -cvf /tmp/file.tar /tmp/folder1

* uppack .tar file
 shell&gt;tar xopf foo.tar

* 压缩 .tar.gz
 shell&gt;tar -zcvf /tmp/file.tar.gz /tmp/folder2

* 压缩 .tar.bz2
 shell&gt;tar -jcvf /tmp/file.tar.bz2 /tmp/folder3

* http://coolszy.iteye.com/blog/564459 - tar ref

==find ==

* find by name
 shell&gt;find .m2 -name &quot;*.jar&quot;

*find in multi folders
 shell&gt;find /home .m2 -name &quot;*.jar&quot;

* find case insensitive
 shell&gt;find . -iname &quot;hello*&quot;
===run last find command ===
* &quot;!find&quot; repeat last find command. In fact &quot;!&quot; can use to any command to invoke previous run of that command
 shell&gt;!find

===find file modified less than 1 day ===
 ## find file modified time less than 1 day, this very useful for finding some production issue
 ## to check which files have been modified recently
 shell&gt;find . -mtime -1

 ## last modified time larger than 1 day
 shell&gt;find . -mtime +1

 ## last modified time less than 60 mintues
 shell&gt;find . -mmin -60

 ## find size &gt; 1000 bytes , &lt; 5000 bytes
 shell&gt;find . -size +1000c -size -5000c

 ## find file size &gt; 50 M , &lt; 100M
 shell&gt;find / -size +50M -size -100M

===find file with specify permission ===
 shell&gt;find . -perm 644

===find temp file and delete ===
 shell&gt;find . -name &quot;*.tmp&quot; | xargs rm -f

 shell&gt;find . -name &quot;*.tmp&quot; -exec rm -rf {} \

 ## delete all mp3 files which size &gt; 100M
 shell&gt;find . -size +100M -type f -name &quot;*.mp3&quot; -exec rm -rf {} \

===find directory or file ===
 ## find directory name &quot;test&quot;
 shell&gt;find . -type d -name &quot;test&quot;

 ## find all php files
 shell&gt;find . -type f -name &quot;*.php&quot;

 ## find all empty file
 shell&gt;find /tmp -type f -empty

 ## find all empty dir
 shell&gt;find /tmp -type d -empty

===find by user and group ===

 ## find all files under /home which belong to user yufei
 shell&gt;find /home -user yufei

 ## find all files under / belong to root and name is &quot;*.java&quot;
 shell&gt;find / -user root -name &quot;*.java&quot;

 ## find all files under /tmp which belong to rcom group
 shell&gt;find /tmp -group rcom

==bash shortcut key==
* on mac bash

# ctrl + a , move cursor to begin of line
# ctrl + e , move cursor to end of line
# opt + left/right arrow , move one word left/right
# ctrl + k , delete chars from current to end
# ctrl + u , delete chars from current to begin
# ctrl + d , delete one character backward, or log out current session, similar to exit.
&lt;br&gt;
# ctrl + l , clean screen
 
# ctrl + c , halts current command

# ctrl + r , search command in history


# ctrl + u , cut from begin to the cursor
# ctrl + k , cut from curson to the end
# ctrl + w , cut 1 word before cursor
# ctrl + y , paste previous cut

* mac terminal short cut
# cmd  + t , open new terminal tab
# cmd + w, close current tab
# cmd + n , open new terminal window
# cmd + q , close window
&lt;br&gt;
# cmd + c, copy in terminal
# cmd + v, paste in terminal
&lt;br&gt;
# cmd + , zoom in terminal
# cmd - , zoom out terminal
# cmd + 0 (zero), normal size terminal
# ctrl  + shift + arrow , switch between tab

=== Atom short cut ===
# platformio-ide-terminal,  ctrl + ` ,  show terminal (show)

==file privilege==
-rwxrwxrwx &lt;br&gt;
user/group/others  &lt;br&gt;

r:4, w:2, x:1 &lt;br&gt; 
r + w + x = 7 &lt;br&gt;
r + w = 6 &lt;br&gt;
r + x = 5 &lt;br&gt;

=== chgrp ===
* 修改用户所属 group , chgrp
 shell&gt;chgrp -R users dirnmae/filename 

=== chown ===
* 修改文件拥有者 chown 
 shell&gt; chown -R 用户 dirname/filename 
 shell&gt; chown -R 用户:组 install.log

=== chmod ===
* 修改文件的权限 chmod 
 //-R 是递归 recursive

*数字权限法 
 shell&gt; chmod -R 777 dirname/filename

*u,g,o,a 权限法， + (加入)， - (减去)， = (设置)
 shell&gt; chmod u=rwx,go=rx filename 
 shell&gt; chmod a+w filename
 shell&gt; chmod a-w filename

==rpm ==

* http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html
* http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html


 //check install rpm name
 shell&gt;rpm -qa|grep -i tib

===check rpm architecture ===
rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat

 [distuser@qa2-app-01 ~]$ rpm -qa --qf &quot;%{n}-%{version}-%{release}-%{arch}\n&quot; | grep tomcat
 rcom-tomcat-mobile-CKB4266-KANBAN-i386
 rcom-tomcat-trta-CKB4266-KANBAN-i386

 

 //查看rpm 包的 info 信息
 shell&gt; rpm -pqi mysql.rpm

 //查看rpm 包的 目标安装路径
 shell&gt; rpm -pql mysql.rpm

 //查询 rpm 包的安装位置
 shell&gt; sudo rpm -ql libevent

 //安装rpm 包
 shell&gt; rpm -ivh mysql.rpm
 //安装/升级 rpm 包 
 shell&gt;rpm -Uvh foo.rpm

 //删除 rpm 包
 shell&gt; rpm -e rpm-package-name
 
 //打开 rpm 包，查看内容 
 shell&gt; rpm2cpio some.rpm | cpio -div

== check system info ==

===check system information === 
&lt;pre&gt;
sudo dmidecode -t system

System Information
	Manufacturer: Red Hat
	Product Name: KVM
	Version: RHEL 6.6.0 PC
&lt;/pre&gt;

===uname ===
*uname - print system information

 shell&gt;uname -a
 [iphone@bjsit1iphonedev01 ~]$ uname -a
 Linux bjsit1iphonedev01 2.6.33.3-85.fc13.i686.PAE #1 SMP Thu May 6 18:27:11 UTC 2010 i686 i686 i386 GNU/Linux

* check linux release version
shell&gt;cat /etc/redhat-release
 [iphone@bjsit1iphonedev01 ~]$ cat /etc/redhat-release 
 Fedora release 13 (Goddard)

* show first line of /etc/issue file
 [yufei@localhost ~]$ head -n 1 /etc/issue
 Fedora release 18 (Spherical Cow)

===check cup info ===
 shell&gt;cat /proc/cpuinfo

===check memory info ===
 shell&gt;cat /proc/meminfo
 shell&gt;grep MemTotal /proc/meminfo
===free ===
*free - Display amount of free and used memory in the system
 [yufei@localhost ~]$ free -h
             total       used       free     shared    buffers     cached
 Mem:          3.7G       3.5G       228M         0B       239M       1.6G
 -/+ buffers/cache:       1.7G       2.0G
 Swap:         3.7G        75M       3.6G

===top ===
* top - display Linux processes

===uptime ===
* uptime - Tell how long the system has been running.
 [yufei@localhost ~]$ uptime
 13:22:39 up 12 days,  3:08,  6 users,  load average: 0.24, 0.16, 0.14

===netstat ===
*netstat - Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships
** http://www.binarytides.com/linux-netstat-command-examples/ (zh translate http://linux.cn/forum.php?mod=viewthread&amp;tid=12158) 

* netstat -el | grep 23723
 [distuser@qa5-trtaupdbmaster-01 ~]$ netstat -el | grep 23723
 tcp        0      0 *:23723                     *:*                         LISTEN      activemq   2811678  

* '''sudo netstat -lptn'''  --- List listening tcp process and port 
 #  -l : listen process , -p: process, -t: TCP, -n: not use name resolved
 $ sudo netstat -lptn
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
 tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      6283/java           
 tcp        0      0 0.0.0.0:24800           0.0.0.0:*               LISTEN      2483/synergys       
 tcp        0      0 0.0.0.0:23306           0.0.0.0:*               LISTEN      2094/mysqld         
 tcp        0      0 0.0.0.0:11211           0.0.0.0:*               LISTEN      2164/memcached      
 tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      2218/rpcbind

* find which process listen port 80 --- '''sudo netstat -lptn | grep 80'''
 [yufei@us ~]$ sudo netstat -lptn | grep 80
 tcp6       0      0 :::80                   :::*                    LISTEN      2378/httpd  
 
* '''sudo netstat -lpte''' --- List listening tcp process and user
 [yufei@us ~]$ sudo netstat -lpte
 Active Internet connections (only servers)
 Proto Recv-Q Send-Q Local Address           Foreign Address         State       User       Inode      PID/Program name    
 tcp        0      0 *:irdmi                 *:*                     LISTEN      root       1407395    6283/java           
 tcp        0      0 *:24800                 *:*                     LISTEN      root       25483      2483/synergys       
 tcp        0      0 *:23306                 *:*                     LISTEN      mysql      24100      2094/mysqld         
 tcp        0      0 *:memcache              *:*                     LISTEN      nobody     24636      2164/memcached      
 tcp        0      0 *:sunrpc                *:*                     LISTEN      root       25644      2218/rpcbind        
 tcp        0      0 *:ssh                   *:*                     LISTEN      root       25715      2212/sshd           
 tcp        0      0 localhost:ipp           *:*                     LISTEN      root       22127      1573/cupsd          
 tcp        0      0 localhost:smtp          *:*                     LISTEN      root       25723      2223/sendmail: acce

===route ===
*route - show / manipulate the IP routing table

===w ===
*  w - Show who is logged on and what they are doing.
 [yufei@localhost ~]$ w
 13:30:48 up 12 days,  3:16,  6 users,  load average: 0.08, 0.11, 0.13
 USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
 yufei    :0        12Dec13 ?xdm?   3:49m  0.13s gdm-session-worker [pam/gdm-password]
 yufei    pts/0     Thu13    2:20m  2.77s  2.71s ssh distuser@10.90.39.170

===last ===
* show listing of last logged in users
 yufei    pts/2        :0               Mon Dec 23 17:03 - 19:03  (02:00)    
 yufei    pts/1        :0               Mon Dec 23 15:22 - 19:03  (03:41)

===evn ===
*env - run a program in a modified environment
 shell&gt;env

*print all or part of environment
 &gt;printenv
 &gt;sudo printenv

===show all user name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/passwd
 root
 bin
 ...

===show all group name ===
 [yufei@localhost ~]$ cut -d: -f1 /etc/group
 root
 bin
 ...

=== hostname ===
* hostname - show or set the system's host name
 [yufei@localhost ~]$ hostname
 localhost.localdomain

 # -s , show short hostname
 [yufei@localhost ~]$ hostname -s
 localhost

=== change linux hostname ===
 vi /etc/sysconfig/network
 vi /etc/hosts
 reboot system

=== check dns ===
 host -t TXT qa2-iphoneapp-info
 host -i qa2-admindb-vip

=== check disk usage ===
*df - report file system disk space usage
 # -h, human readable
 # -T, print file system type
 [iphone@bjsit1iphonedev01 ~]$ df -h
 Filesystem            Size  Used Avail Use% Mounted on
 /dev/sda2             107G   17G   85G  17% /
 tmpfs                 974M  4.7M  969M   1% /dev/shm

 [yufei@localhost ~]$ df -Th
 Filesystem              Type      Size  Used Avail Use% Mounted on
 devtmpfs                devtmpfs  1.9G     0  1.9G   0% /dev
 tmpfs                   tmpfs     1.9G  1.4M  1.9G   1% /dev/shm
 tmpfs                   tmpfs     1.9G   20M  1.9G   2% /run

*du - estimate file space usage
 [iphone@bjsit1iphonedev01 ~]$ du -sh *
 192K    Desktop
 40K     Documents
 810M    Downloads
 57M     jmeter-2.3.4
 12K     memcached
 4.0K    Music

 #current folder diskusage
 [yufei@localhost ~]$ du -sh
 1.8G	.

==check your shell==
 shell&gt; echo $SHELL
 /bin/bash

== check dns ==
 [hudson@HPGQA2AGENCY01 ~]$ cat /etc/resolv.conf 
 search g3agency.reuters.com
 #nameserver 10.90.106.52
 nameserver 10.90.22.14
 nameserver 10.90.26.14

 [hudson@HPGQA2AGENCY01 ~]$ host gitlab.media.reuters.com
 ;; connection timed out; no servers could be reached

 [hudson@HPGQA2AGENCY01 ~]$ nslookup gitlab.media.reuters.com
 Server:		10.90.26.14
 Address:	10.90.26.14#53
 Non-authoritative answer:
 Name:	gitlab.media.reuters.com
 Address: 10.90.106.3

== network related command ==
 
=== nslookup ===
* query Internet name servers interactively
 &gt;nslookup www.reuters.com
 www.reuters.com	canonical name = www.reutersmedia.net.
 ...

=== curl ===
* Transfer a url
 # -d, --data &lt;data&gt;
 # (HTTP) Sends the specified data in a POST request to the HTTP server
 curl -d 'hi, the content' http://localhost:3003

* curl get method
 curl http://localhost:3003

* curl -i , get header info
 curl -i http://localhost:9200

* curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot;  &quot;http://www.reuters.com/article/2014/03/26/idUSnMKW40mwTa+1c2+MKW20140326&quot;
 
 # -D - , dump header to standard output
 # -# , progress bar
 # -o, --output &lt;file&gt; , Write output to &lt;file&gt; instead of stdout. 
 lokvins-MacBook-Pro:yufei lokvin$ curl -# -D - -o /dev/null -H &quot;User-Agent:iphone&quot; &quot;http://www.reuters.com&quot; 
 HTTP/1.1 302 Moved Temporarily
 Server: AkamaiGHost
 Content-Length: 0
 Location: http://mobile.reuters.com/do/urlRedirect?URL=http%3A%2F%2Fwww.reuters.com/
 Date: Wed, 02 Jul 2014 14:26:32 GMT
 Connection: keep-alive
 Vary: User-Agent

* curl with multi Header
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Signature: ..&quot;   -d &quot;hi, this is test&quot; &quot;http://somedomain.com/push&quot;

* curl use PUT method
 curl -H &quot;Content-Type: application/json&quot; -H &quot;X-TR-Timestamp: &quot;  -X PUT -d &quot;apple&quot;  &quot;http://somedomain.com/registration&quot;

* curl get response time
 time curl http://www.sina.com.cn &gt; /dev/null 2&gt;&amp;1

=== wget ===
* non-interactive network downloader, supports http, https, ftp

 # -O file, if - used as file, documents will be printed to standard output
 wget -O- &quot;http://172.16.3.10/ric?symbol=GOOG.O&quot;

 # wget use proxy
 wget -O- -e use_proxy=yes -e http_proxy=10.90.108.136:23375 http://widerimage.reuters.com/utils/getdata-rts0001

=== wget with response time===
 time wget http://www.aip.im -q --output-document=/dev/null

=== dig ===
* use dig command to find the domain ip
 dig preview.cn.mobile.reuters.com
 ;; ANSWER SECTION:
 preview.cn.mobile.reuters.com. 30 IN	A	167.206.188.34

== ctrl + r ==
* search history command
 shell&gt; ctrl + r

==ps aux | grep ==
*查找类似名称的 process 
 #bsd style
 shell&gt; ps aux | grep firefox
 #unix/linux stype
 shell&gt; ps -ef | grep firefox

* '''ps aux --sort=-pcpu,+pmem''' , sort by cpu , memory, - is desc order, + is asc order
  ## find memory consumed top 5 process
  ps aux --sort=-pmem | head -6

==grep==
* grep content from file name
 [distuser@qa6-ftp-01 apache22]$ grep -H 23381 conf/**/**/**
 conf/conf.d/proxy/rcom-vhosts.conf:&lt;VirtualHost 10.35.59.141:23381&gt;

*  -v , grep invert-match
 cat /etc/passwd | grep -v &quot;^#&quot;

==/etc/bashrc ==
* /etc/bashrc 是全局的环境配置文件 
一般引用顺序 /etc/basrc --&gt; ~/.basrc --&gt; ~/.bash_profile

==lsof==

* list port on mac
 sudo lsof -PiTCP -sTCP:LISTEN


 //Check specify process open files count
 shell&gt;sudo /usr/sbin/lsof -p 16508 |wc -l

 //查找监听 3306 port 的 process
 shell&gt;lsof -i:3306

== commons use command ==

=== cat ===
*cat 将文件输出到标准输出
 shell&gt;cat .bash_profile

*将 file1 , file2 的内容合并放入 file3
 shell&gt; cat file1 file2 &gt; file3

*将 foo.txt 内容追加到 love.txt 之后 
 shell&gt; cat foo.txt &gt;&gt; love.txt

* &gt; write to a file

* &gt;&gt; append to a file

=== ls ===
* ls 列出的文件类型

[ d ]是目录 &lt;br&gt;
[ - ]是文件 &lt;br&gt;
[ l ]表示link file(软链接) &lt;br&gt; 
[ b ]表示随机读取的存储设备；&lt;br&gt; 
[ c ]表示顺序读取设备，如键盘、鼠标 &lt;br&gt;

=== pwd ===
 shell&gt; pwd  //显示当前目录
 shell&gt; pwd -P //显示当前目录，将 soft link 转为真实目录

=== mkdir ===
 shell&gt; mkdir -m 711 dir1 //建立目录，并指定目录的 r,w,x 权限
 shell&gt; mkdir -p dir2/child //建立多级目录

=== more ===
* more 分页显示
 shell&gt;ls -al | more
 shell&gt; cat foo.txt  | more

==shell==
=== set variable ===
 # no empty before/after =, 
 # var name should character and number, can NOT start with number
 # 可以使用 &quot;&quot;, '' 将空格内容组合起来。 &quot;$var&quot; is variable value, '$var' 是字面量
 # `command`, 可以执行 command
 # export var, 使成为环境变量，可以在 child process 中使用 var
 # unset var, 取消变量设置
 # 一般环境变量upper case, 自定义变量 lower case
  
 shell&gt;myname=yufei
 shell&gt;echo $myname
 shell&gt;echo ${myname}

 # 显示环境变量 env
 shell&gt;env

 # set 显示其他所有环境变量
 shell&gt;set
 # 重要的几个 PS1, 提示符设置
 PS1='\h:\W \u\$ '
 # '''$''' 当前shell pid
 ldev:example renyufei$ echo $$
 25224

 # '''?'''上条命令的 return code
 shell&gt;echo $?
 shell&gt;0

=== manul of set ===
* http://linuxcommand.org/lc3_man_pages/seth.html

=== ; &amp;&amp; || ===
* run multi shell command in one line use ';' separate
 shell&gt;sync; sync; shutdonw -h now


== tee ==
* tee - read from standard input and write to standard output and files

== ssh ==

* http://linuxcommand.org/man_pages/ssh1.html - ssh manual
* https://www.cyberciti.biz/faq/unix-linux-execute-command-using-ssh/ - ssh example

=== ssh with config file ===
*http://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/

=== ssh no password login ===
* enter the ~/.ssh directory
 [iphone@bjsit1iphonedev01 .ssh]$ ll
 total 24
 -rw------- 1 iphone iphone   406 Jun 29  2010 authorized_keys
 -rw------- 1 iphone iphone  1679 Jun 29  2010 id_rsa
 -rw-r--r-- 1 iphone iphone   406 Jun 29  2010 id_rsa.pub
 -rw-r--r-- 1 iphone iphone 11773 Dec 14 17:00 known_hosts

* id_rsa and id_rsa.pub were create by command ssh-keygen -t rsa. 
id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys&lt;br&gt;
then you can ssh without password.
  [iphone@bjsit1iphonedev01 .ssh]$ssh-keygen -t rsa -C &quot;your_email@example.com&quot;


* know_hosts is the machine list, you ssh connect from.
* http://hi.baidu.com/zengzhaonong/blog/item/1b444eda858bc3dab6fd48a6.html - a doc from baidu
* https://help.github.com/articles/generating-ssh-keys

==less ==
* -N &quot;show line number&quot;
* -n &quot;hide line number&quot;
* :GG &quot;to last line&quot;
* :1G &quot;to first line&quot;
* :100G &quot;to no. 100 line&quot;
* /searchString &quot;search string&quot; 
* n &quot;find next&quot;
* N &quot;find reverse netxt&quot;

==which ==
* locate a program file in the user's path
 Rens-MacBook-Pro:~ renyufei$ which node
 /usr/local/bin/node

==whereis==
* find a command path
 ldev:mex-webdistribution-common renyufei$ whereis mvn
 /usr/bin/mvn

==telnet tips==
 telent telnet 10.33.133.62 port
 Connected to produsx-iphoneapp-02.g3.reuters.com (10.33.133.62).
 Escape character is '^]'.
 ctrl + ] // 结束http 消息
 ^]
 telnet&gt; quit

==cron tab ==

=== crontab doc===
* https://en.wikipedia.org/wiki/Cron#Configuration_file

*http://www.adminschoice.com/crontab-quick-reference - crontab ref &lt;br&gt;

cron file in folder, use user name as file name &lt;br&gt;
 /var/spool/cron
 [distuser@qa2-admin-01 ~]$ sudo ls -l /var/spool/cron/
 total 16
 -rw------- 1 root      root  477 Sep 12 20:53 lisa
 -rw------- 1 root      root  217 Sep 24 08:45 rmg
 -rw------- 1 root      root  300 Oct  5 10:08 root
 -rw------- 1 runnerman root 1134 Jan  8  2014 runnerman

 [distuser@qa2-admin-01 ~]$ sudo cat /var/spool/cron/root
 00 23 * * * /root/scripts/cmsbackfill.sh
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld/mysqld-slow.log
 0 * * * * cat /dev/null &gt; /usr/local/mysql/data/mysqld2/mysqld-slow.log
 00 17 * * * mysql -u root -pr00t --port=23308 --socket=/rt/db/tmp/mysqld.sock3 -e 'purge binary logs before now();'
 
 crontab -u user -l
 [distuser@qa2-admin-01 ~]$ sudo crontab -u root -l
 00 23 * * * /root/scripts/cmsbackfill.sh

 ##remove cron job
 crontab -r

== chkconfig ==
* chkconfig - updates and queries runlevel information for system services
 ## list chkconfig
 shell&gt;sudo /sbin/chkconfig --list
 
 ## del chkconfig
 shell&gt;/sbin/chkconfig --del memcached_145-trta

==killall==
kill a batch of process with same name pattern.
 [distuser@qa2-iphoneweb-01 ~]$ sudo killall cronInvoker.sh

* kill all process for specify user
 &gt;sudo killall -u runnerman

==alias==
alias 设置别名，可以设置在文件 ~/.bash_profile 中 &lt;br&gt;
直接输入 alias ，查询当前可用别名
 alias ll='ls -al'
* some time you need add shell file under /etc/profile.d , such as: yufei_alias.sh
 [yufei@localhost profile.d]$ cat /etc/profile.d/yufei_alias.sh 
 alias jumpfoo='ssh jump@10.xx'

==rsync==
*use rsync copy file with exlude
 rsync -rv --progress --exclude=.git demo demo_bkp

==disable selinux==
Disabled SELinux first
 sudo vi /etc/selinux/config
 SELINUX=disabled

reboot the system please.

==common install from source ==
*一般的从源码安装步骤 
 #--with-prefix 指定安装位置 
 shell&gt; ./configure --with-prefix=/usr/local/dirname 
 shell&gt; make 
 shell&gt; make install

== VNC settings ==
set vnc server with display rate, edit file /etc/sysconfig/vncservers
 shell&gt;sudo vi /etc/sysconfig/vncservers
 
 VNCSERVERS=&quot;1:iphone&quot;
 VNCSERVERARGS[1]=&quot;-geometry 1280x800&quot;

==.bash_history ==
 你所输入过的 命令，记录在文件 ~/.bash_history 中

==/etc/shells ==
系统可用的 shell 在 /etc/shells 文件中记录
 localhost:bin lokvin$ cat /etc/shells 
 # List of acceptable shells for chpass(1).
 # Ftpd will not allow users to connect who are not using
 # one of these shells.
 
 /bin/bash
 /bin/csh
 /bin/ksh
 /bin/sh
 /bin/tcsh
 /bin/zsh

==set path variable  ==
 shell &gt;vi /home/${user}/.bash_profile

add to path variable following entries:
 :/usr/bin:/bin:/sbin:/usr/sbin:/usr/local/bin:

==stop firewalld==
* https://fedoraproject.org/wiki/FirewallD - docs about firewall
# stop firewall
 sudo systemctl stop firewalld.service

== user management ==
===add user ===
 # 新建用户 
 shell&gt; sudo adduser lokvin 

 # 新建用户，并指定用户组 
 shell&gt; sudo adduser -g newgroup lokvin

===passwd ===
* change pass word
 &gt;passwd

=== check user, group exist ===
 shell&gt;cat /etc/group | grep xxx
 shell&gt;id groupname
 shell&gt;cat /etc/passwd | grep xxx
 shell&gt;id username

===check user belong group ===
 $ groups yufei
 yufei : yufei adm cdrom sudo dip plugdev lpadmin sambashare docker

=== add sudo privilege ===
 su root
 chmod +w /etc/sudoers
 echo '${username} ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers
 chmod -w /etc/sudoers
 exit

*check current user sudo privilege info
 shell&gt;sudo -l

== yum ==

=== yum proxy ===
 shell&gt; sudo vi /etc/yum.conf
 #add correct proxy for your env
 proxy=http://10.90.7.56:3128/

=== install by yum ===
 shell&gt; sudo yum install memcached

=== yum repo dir ===
 /etc/yum.repos.d

=== yum clean cache ===
* clean yum cache
 sudo yum clean all

=== yum on caching ===
* edit file /etc/yum.conf, add follow line for no cache
 http_caching=none

=== yum list ===
* yum list
 sudo yum list memcached_145_config

=== yum error: Metadata file does not match checksum ===
* https://plone.lucidsolutions.co.nz/linux/rpm/yum-metadata-file-does-not-match-checksum
* https://github.com/pagespeed/mod_pagespeed/issues/277

 #add &quot;http_caching=packages&quot; to /etc/yum.conf (the default is &quot;http_caching=all&quot;)
 #http_caching = { all, none, packages }
 &gt;sudo yum clean metadata


==set github proxy==
===ssh proxy===
* Add below two lines to your ~/.ssh/config
 HOST github.com
   ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

* Config file previlege should be:
 [yufei@localhost project]$ ls -al ~/.ssh/config 
 -r--r--r-- 1 root root 69 Oct 30 11:31 /home/yufei/.ssh/config

===For http,https protocol (eg: https://github.com/mochi/mochiweb.git)===
*Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy http://10.90.7.56:3128/

== Misc ==
=== BASH_REMATCH ===
why regexp doesn't work &lt;br&gt;
http://stackoverflow.com/questions/13150411/why-bash-rematch-doesnt-work-on-my-computer
&lt;br&gt;
*In your bash REGEX, you should remove quotes. That's why that doesn't work.

=== fc18 install VNC ===
 shell&gt;su
 shell&gt;yum -y install tigervnc-server
 # change the user you want to vnc
 shell&gt;su john
 shell&gt;vncserver :1 -geometry 1600x900 -depth 24

* create shell for start vnc under ~/bin/start-vnc.sh , content like below:
 vncserver :1 -geometry 1600x900 -depth 24

 [yufei@us bin]$ vncserver help
 vncserver -list
 vncserver -kill &lt;X-display&gt;
 vncserver -kill :1

* vnc viewer change screen size, ctrl + alt + shift + f

=== add icon to fe18=== 
 gnome-desktop-item-edit /usr/share/applications/ --create-new

=== fe18 show desktop icons ===
 gsettings set org.gnome.desktop.background show-desktop-icons true

=== Chinese input (Fedor 18) ===
# Activity --&gt; System Setting --&gt; Region &amp; Language --&gt; Input Sources --&gt; add &quot;Chinese (Intelligence Pinyin)&quot; --&gt; in shortcut setting, add shortcut for &quot;Switch to next source&quot; eg. ctrl+space

=== install jdk ===
download a new version jdk ,such as jdk-6u16-linux-i586.bin 
 shell &gt;sudo chmod a+x jdk-6u16-linux-i586.bin
 shell &gt;./jdk-6u16-linux-i586.bin 
 shell &gt;sudo mkdir /usr/java
 shell &gt;sudo mv jdk1.6.0_16 /usr/java/jdk1.6.0_16 

add /usr/java/jdk1.6.0_16/bin to path 
 shell &gt;vi ~/.bash_profile

create soft link for java and javac 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/java /usr/bin/java 
 shell &gt;sudo ln -s /usr/java/jdk1.6.0_16/bin/javac /usr/bin/javac 
 shell &gt;java -version

===install ant ===
download apache-ant-1.7.1-bin.tar.gz
 shell &gt;tar -zxvf apache-ant-1.7.1-bin.tar.gz 
 shell &gt;mv apache-ant-1.7.1 ~/ant-1.7.1  
 ＃add ant/bin to .bash_profile 
 shell &gt;ant -version 
 Apache Ant version 1.7.1 compiled on June 27 2008</text>
      <sha1>95sj2zern0mqlk05b7chn7uv3u3m5k2</sha1>
    </revision>
  </page>
  <page>
    <title>Java</title>
    <ns>0</ns>
    <id>3</id>
    <revision>
      <id>8</id>
      <timestamp>2018-05-26T05:00:40Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;==doc &amp; reference == *http://howtodoinjava.com/ - how to do in java. A very good guy who share lots of his experience *http://www.mkyong.com/ - Another site which you can find...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="6548">==doc &amp; reference ==
*http://howtodoinjava.com/ - how to do in java. A very good guy who share lots of his experience
*http://www.mkyong.com/ - Another site which you can find java dev experience
*http://www.careercup.com/ - career cup. A site you can find interview questions.

==Singleton==
*http://www.infoq.com/cn/articles/double-checked-locking-with-delay-initialization - singleton double check locking and lazy initialize
*http://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization

==static synchronized method==
#difference between static synchronized method and non-static synchronized method
* The lock objects are difference between static synchronized method and non-static synchronized method. Static synchronized method lock object is class object (lock object: FooClass.class), non-static synchronized lock object is instance object (lock object: this).

&lt;source lang=&quot;java&quot;&gt;
   public class Foo {
           public static synchronized void methodA() {}

           public synchronized void methodB() {}
   }
&lt;/source&gt;
It's roughly equals

&lt;source lang=&quot;java&quot;&gt;
public class Foo {
  public static void methodA() {
    synchronized(Foo.class) {
        ...
    }
  }

  public void methodB() {
      synchronized(this){
      
      } 

  }
}
&lt;/source&gt;

==HashMap ==
* http://howtodoinjava.com/2012/10/09/how-hashmap-works-in-java/ - how HashMap work in java
* http://howtodoinjava.com/2012/10/09/working-with-hashcode-and-equals-methods-in-java/ - working with equals(), hashCode() in java

== Java 5 new features ==
=== Generics ===
* Add compile time type safe
* Elimination drudgery class casting

'''old style:'''

&lt;source lang=&quot;java&quot;&gt;
List list = new ArrayList();
...
String s = (String)list.get(0);
&lt;/source&gt;----
'''new style:'''

&lt;source lang=&quot;java&quot;&gt;
List&lt;String&gt; list = new ArrayList&lt;String&gt;();
...
String s = list.get(0);
&lt;/source&gt;

=== Enhance for Loop ===
* The new enhanced for loop provides a simple, consistent syntax for iterating over collections and arrays.

'''old style: '''

&lt;source lang=&quot;java&quot;&gt;
String[] arr = new String[]{&quot;alpha&quot;, &quot;beta&quot;};
for (int i=0; i&lt;=arr.length; i++) {
    String t = arr[i];
    System.out.println(t);
}
&lt;/source&gt;

'''new style:'''

&lt;source lang=&quot;java&quot;&gt;
String[] arr = new String[]{&quot;alpha&quot;, &quot;beta&quot;};
for (String s : arr) {
    System.out.println(s);
} 
&lt;/source&gt;

* some limitation of enhance loop, some time we need index and iterator

'''example need index:'''

&lt;source lang=&quot;java&quot;&gt;
for (int i=0; i&lt;numbers.length; i++) {
  if (i !=0 &amp;&amp; i != numbers.length - 1) {
        System.out.println(&quot;,&quot;);
  }
  System.out.println(numbers[i]);
}
&lt;/source&gt;

'''example need iterator: '''

&lt;source lang=&quot;java&quot;&gt;
for (Iterator&lt;String&gt; it = n.iterator(); it.hasNext(); ) {
    if (it.next() &lt; 0) it.remove();

}
&lt;/source&gt;


===Auto Boxing/ Auto un-boxing ===
* auto conversion between primitives and wrappers

===Type safe Enums ===
* Enums are type safe.
* Enums are Serializable and Comparable by default
* Programmers doesn’t require to do extra work of implementing toString(), equals() and hashCode(). Enums provide implementation of these by default.
* Programmers can use Enums in switch-case statements.
* Enums are permitted to implement to interfaces.
'''old style:'''

&lt;source lang=&quot;java&quot;&gt;
public class Dialog {
    public static final int SHORT = 0;
    public static final int LONG = 1;
    public static void show(int duration) {
        if(duration == SHORT) ...
        else if (duration == LONG) ...
    }
    ....
    Dialog.show(Dialog.LONG);
}
&lt;/source&gt;

'''new style:'''

&lt;source lang=&quot;java&quot;&gt;
public class Dialog {
    public enum Duration {LONG, SHORT};
    public static void show(Duration e) {
        if (e == Duration.SHORT) ...
        else if (e == Duration.Long) ...
    }
...
Dialog.show(Duration.Long);

}
&lt;/source&gt;


===Varargs ===
* Variable size argument lists for method

&lt;source lang=&quot;java&quot;&gt;
void orderCar(int modelNo, String... options) {}

orderCar(Benz.E_CLASS, &quot;navigation&quot;, &quot;hi pass&quot;);

&lt;/source&gt;
&lt;source lang=&quot;java&quot;&gt;
public void foo(int i, String... strings) {
    	  String[] someStrings = strings;
    	  // rest of method body
}
&lt;/source&gt;

===Annotation (metadata) ===
* attach extra information about code
**compiler check
**code analysis

&lt;source lang=&quot;java&quot;&gt;
@Override
public boolean equals(Object obj)


@Deprecated
public doSomething() ...


@SuppressWarnings(&quot;deprecation&quot;)
public static void selfDestruct() {
    Thread.currentThread().stop();
}
&lt;/source&gt;

===static import ===
* avoiding qualifying static members

===formated output ===
* printf(), String.format();

&lt;source lang=&quot;java&quot;&gt;
System.out.printf(&quot;Hello %s %s, &quot;world&quot;, &quot;hi&quot;);
String s = String.format(&quot;The meaning of %s&quot;, &quot;right&quot;);
&lt;/source&gt;

==a Iterator with predicate ==
* FilterIterator in commons cllection&lt;br /&gt; 
https://github.com/yren/java-basic/blob/master/src/main/java/com/lokvin/basic/FilterIterator.java

==java finalize method ==
* http://howtodoinjava.com/2012/10/31/why-not-to-use-finalize-method-in-java/

==java enum ==
* http://javahowto.blogspot.com/2008/04/java-enum-examples.html - a doc about enum
* http://www.mkyong.com/java/java-enum-example/ - an example of enum constructor

==java annotation ==
* http://en.wikipedia.org/wiki/Java_annotation
* http://javapapers.com/core-java/java-annotations/

==java reflection &amp; introspection ==
* http://www.blogjava.net/191499719/archive/2008/07/03/212325.html - a blog about reflection
* http://docs.oracle.com/javase/tutorial/reflect/TOC.html - reflection
* http://web.archive.org/web/20090226224821/http://java.sun.com/docs/books/tutorial/javabeans/introspection/index.html - introspection

==Decorator design pattern ==
* http://javapapers.com/design-patterns/decorator-pattern/

==java anonymous inner class ==
* http://www.beingjavaguys.com/2013/10/what-is-anonymous-class-in-java.html

==apache commons beanutils ==
* http://commons.apache.org/proper/commons-beanutils/apidocs/org/apache/commons/beanutils/package-summary.html#package_description - user manual for beanutils

==apache commons lang==
*http://commons.apache.org/proper/commons-lang/userguide.html - commons lang user guide

==java performance ==
* http://java-performance.com/
== java default char encoding ==
* http://javarevisited.blogspot.com/2012/01/get-set-default-character-encoding.html

== arrow operation, lambda ==
* http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html
* http://vanillajava.blogspot.com/2014/09/lambdas-and-side-effects.html

== java8 features ==
* https://www.jianshu.com/p/5b800057f2d8</text>
      <sha1>mgq1teouy7923b2gtgzophpz94nw6ld</sha1>
    </revision>
  </page>
  <page>
    <title>Javascript</title>
    <ns>0</ns>
    <id>4</id>
    <revision>
      <id>10</id>
      <timestamp>2018-05-26T05:04:42Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;==doc &amp; reference== *https://developer.mozilla.org/en/JavaScript - mozilla javascript ref *http://ejohn.org/apps/learn/ - John Resig, learn advanced javascript * https://devel...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="1838">==doc &amp; reference==
*https://developer.mozilla.org/en/JavaScript - mozilla javascript ref
*http://ejohn.org/apps/learn/ - John Resig, learn advanced javascript
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript - javascript re-introduction

==closure (闭包) ==
* JavaScript 的闭包 (closure), 内层函数可以引用包含它的外层函数的变量，即使外层函数执行已经返回。

'''first example of closure: '''

&lt;source lang=&quot;javascript&quot;&gt;
var obj = document.getElementById(&quot;main&quot;);
obj.style.border = &quot;1px solid red&quot;;
setTimeout (function () {
  obj.style.border = &quot;none&quot;;
} , 1000);
&lt;/source&gt;

'''second example of closure:'''

&lt;source lang=&quot;javascript&quot;&gt;
function delayAlert(msg, time) {
    setTimeout(function() {
        alert(msg);
    }, time);
}

delayAlert(&quot;Welcome&quot;, 2000);
&lt;/source&gt;

'''another example:'''

&lt;source lang=&quot;javascript&quot;&gt;
function foo()  {
  var n = 9;
  function boo() {
    alert(n);
  }
  return boo;
}

var result = foo();
result();

&lt;/source&gt;

* http://jibbering.com/faq/notes/closures/ - javascript closure doc
* http://www.ruanyifeng.com/blog/2009/08/learning_javascript_closures.html - a document about closure
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures - Mozilla about closure
* http://www.gracecode.com/posts/2385.html - a ppt about closure

==json ==

* http://www.json.org/

* Json 的优点：
** 基于纯文本
** Javascript原生支持
** 轻量级数据格式，占用字符数量极少
** 可读性较强
** 容易编写和解析

==jsonp==
*Jsonp(JSON with Padding)
* https://zh.wikipedia.org/wiki/JSONP
* https://en.wikipedia.org/wiki/JSONP
* https://www.sitepoint.com/jsonp-examples/

== js regex doc ==
* https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions - RegEx from Mozilla</text>
      <sha1>btzd3iwgxdlrrhgkw93br1seb0kcb18</sha1>
    </revision>
  </page>
  <page>
    <title>Nodejs</title>
    <ns>0</ns>
    <id>5</id>
    <revision>
      <id>13</id>
      <timestamp>2018-05-26T05:07:41Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;== nodejs == * http://nodejs.org/ * http://www.nodeclipse.org/ - nodeclipse , eclipse plugin for node * https://c9.io/lokvin - cloud9 ide  === Reding Book === * Node.js Recipe...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="1978">== nodejs ==
* http://nodejs.org/
* http://www.nodeclipse.org/ - nodeclipse , eclipse plugin for node
* https://c9.io/lokvin - cloud9 ide

=== Reding Book ===
* Node.js Recipes - Cory Gackenheimer

==npm ==
* update npm version
 &gt;sudo npm update -g npm

==npm init==
* use npm init wizard for generate package.json
 &gt;mkdir node_test
 &gt;npm init

== nvm ==
* nvm is node version management tool
* https://github.com/creationix/nvm

=== install nvm ===
* manual install
 git clone https://github.com/creationix/nvm.git ~/.nvm &amp;&amp; cd ~/.nvm &amp;&amp; git checkout `git describe --abbrev=0 --tags`

** you need to source it from your shell, I always add this line to my ~/.bashrc 
  . ~/.nvm/nvm.sh

* shell install 
 curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash

 wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash

=== sudo nvm ===
* For CentOS 6
* add nvm.sh to current user .bashrc
 vi ~/.bashrc
 ## add below
 . /home/appdev/.nvm/nvm.sh

* add nvm.sh to root .basrc
 vi /root/.bashrc
 ## add below
 . /home/appdev/.nvm/nvm.sh

* sudo visudo 
 ## add
 Defaults    secure_path = + /usr/local/nodejs/nodejs/bin:/usr/local/bin

* edit current user ~/.bash_profile
 vi ~/.bash_profile
 #add
 PATH=$PATH:/usr/local/nodejs/nodejs/bin:$HOME/bin
 alias sudo='sudo env PATH=$PATH:$NVM_BIN'

=== nvm help ===
* nvm usage
 nvm help

=== nvm list-remote ,  nvm list===
* list all node version available for download
 nvm ls-remote

* list local version
 nvm ls

=== nvm common command ==
* install version
 nvm install 4.1.0

 nvm uninstall 4.1.0

 nvm alias dev 4.1.0

 nvm unalias dev

 nvm run 4.1.0 app.js

 nvm run dev app.js

 nvm use 4.1.0

=== nvm default alias ===
 nvm alias default 0.12.7

== nave , n ==
* nave is another node version management tool
 &gt;npm install -g nave

* n is another node version management
 &gt;npm install -g n

== package.json ==
* [https://docs.npmjs.com/files/package.json package.json doc]</text>
      <sha1>8xro7uht96ftwrobrvsuq4a308aqcvz</sha1>
    </revision>
    <revision>
      <id>69</id>
      <parentid>13</parentid>
      <timestamp>2018-06-08T15:47:31Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* Reding Book */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="1919">== nodejs ==
* http://nodejs.org/
* http://www.nodeclipse.org/ - nodeclipse , eclipse plugin for node
* https://c9.io/lokvin - cloud9 ide

==npm ==
* update npm version
 &gt;sudo npm update -g npm

==npm init==
* use npm init wizard for generate package.json
 &gt;mkdir node_test
 &gt;npm init

== nvm ==
* nvm is node version management tool
* https://github.com/creationix/nvm

=== install nvm ===
* manual install
 git clone https://github.com/creationix/nvm.git ~/.nvm &amp;&amp; cd ~/.nvm &amp;&amp; git checkout `git describe --abbrev=0 --tags`

** you need to source it from your shell, I always add this line to my ~/.bashrc 
  . ~/.nvm/nvm.sh

* shell install 
 curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash

 wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash

=== sudo nvm ===
* For CentOS 6
* add nvm.sh to current user .bashrc
 vi ~/.bashrc
 ## add below
 . /home/appdev/.nvm/nvm.sh

* add nvm.sh to root .basrc
 vi /root/.bashrc
 ## add below
 . /home/appdev/.nvm/nvm.sh

* sudo visudo 
 ## add
 Defaults    secure_path = + /usr/local/nodejs/nodejs/bin:/usr/local/bin

* edit current user ~/.bash_profile
 vi ~/.bash_profile
 #add
 PATH=$PATH:/usr/local/nodejs/nodejs/bin:$HOME/bin
 alias sudo='sudo env PATH=$PATH:$NVM_BIN'

=== nvm help ===
* nvm usage
 nvm help

=== nvm list-remote ,  nvm list===
* list all node version available for download
 nvm ls-remote

* list local version
 nvm ls

=== nvm common command ==
* install version
 nvm install 4.1.0

 nvm uninstall 4.1.0

 nvm alias dev 4.1.0

 nvm unalias dev

 nvm run 4.1.0 app.js

 nvm run dev app.js

 nvm use 4.1.0

=== nvm default alias ===
 nvm alias default 0.12.7

== nave , n ==
* nave is another node version management tool
 &gt;npm install -g nave

* n is another node version management
 &gt;npm install -g n

== package.json ==
* [https://docs.npmjs.com/files/package.json package.json doc]</text>
      <sha1>dkj8adxhk0u0dvmrbzlgzvmw1abnj95</sha1>
    </revision>
    <revision>
      <id>70</id>
      <parentid>69</parentid>
      <timestamp>2018-06-08T15:53:02Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* nvm */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="1918">== nodejs ==
* http://nodejs.org/
* http://www.nodeclipse.org/ - nodeclipse , eclipse plugin for node
* https://c9.io/lokvin - cloud9 ide

==npm ==
* update npm version
 &gt;sudo npm update -g npm

==npm init==
* use npm init wizard for generate package.json
 &gt;mkdir node_test
 &gt;npm init

== nvm ==
* nvm is node version management tool
* https://github.com/creationix/nvm

=== install nvm ===
* manual install
 git clone https://github.com/creationix/nvm.git ~/.nvm &amp;&amp; cd ~/.nvm &amp;&amp; git checkout `git describe --abbrev=0 --tags`

* you need to source it from your shell, I always add this line to my ~/.bashrc 
  . ~/.nvm/nvm.sh

* shell install 
 curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash

 wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash

=== sudo nvm ===
* For CentOS 6
* add nvm.sh to current user .bashrc
 vi ~/.bashrc
 ## add below
 . /home/appdev/.nvm/nvm.sh

* add nvm.sh to root .basrc
 vi /root/.bashrc
 ## add below
 . /home/appdev/.nvm/nvm.sh

* sudo visudo 
 ## add
 Defaults    secure_path = + /usr/local/nodejs/nodejs/bin:/usr/local/bin

* edit current user ~/.bash_profile
 vi ~/.bash_profile
 #add
 PATH=$PATH:/usr/local/nodejs/nodejs/bin:$HOME/bin
 alias sudo='sudo env PATH=$PATH:$NVM_BIN'

=== nvm help ===
* nvm usage
 nvm help

=== nvm list-remote ,  nvm list===
* list all node version available for download
 nvm ls-remote

* list local version
 nvm ls

=== nvm common command ==
* install version
 nvm install 4.1.0

 nvm uninstall 4.1.0

 nvm alias dev 4.1.0

 nvm unalias dev

 nvm run 4.1.0 app.js

 nvm run dev app.js

 nvm use 4.1.0

=== nvm default alias ===
 nvm alias default 0.12.7

== nave , n ==
* nave is another node version management tool
 &gt;npm install -g nave

* n is another node version management
 &gt;npm install -g n

== package.json ==
* [https://docs.npmjs.com/files/package.json package.json doc]</text>
      <sha1>7k7m8m6602xyjhifka4lj416ox8lzrg</sha1>
    </revision>
    <revision>
      <id>71</id>
      <parentid>70</parentid>
      <timestamp>2018-06-08T15:53:40Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* = nvm common command */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="1919">== nodejs ==
* http://nodejs.org/
* http://www.nodeclipse.org/ - nodeclipse , eclipse plugin for node
* https://c9.io/lokvin - cloud9 ide

==npm ==
* update npm version
 &gt;sudo npm update -g npm

==npm init==
* use npm init wizard for generate package.json
 &gt;mkdir node_test
 &gt;npm init

== nvm ==
* nvm is node version management tool
* https://github.com/creationix/nvm

=== install nvm ===
* manual install
 git clone https://github.com/creationix/nvm.git ~/.nvm &amp;&amp; cd ~/.nvm &amp;&amp; git checkout `git describe --abbrev=0 --tags`

* you need to source it from your shell, I always add this line to my ~/.bashrc 
  . ~/.nvm/nvm.sh

* shell install 
 curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash

 wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash

=== sudo nvm ===
* For CentOS 6
* add nvm.sh to current user .bashrc
 vi ~/.bashrc
 ## add below
 . /home/appdev/.nvm/nvm.sh

* add nvm.sh to root .basrc
 vi /root/.bashrc
 ## add below
 . /home/appdev/.nvm/nvm.sh

* sudo visudo 
 ## add
 Defaults    secure_path = + /usr/local/nodejs/nodejs/bin:/usr/local/bin

* edit current user ~/.bash_profile
 vi ~/.bash_profile
 #add
 PATH=$PATH:/usr/local/nodejs/nodejs/bin:$HOME/bin
 alias sudo='sudo env PATH=$PATH:$NVM_BIN'

=== nvm help ===
* nvm usage
 nvm help

=== nvm list-remote ,  nvm list===
* list all node version available for download
 nvm ls-remote

* list local version
 nvm ls

=== nvm common command ===
* install version
 nvm install 4.1.0

 nvm uninstall 4.1.0

 nvm alias dev 4.1.0

 nvm unalias dev

 nvm run 4.1.0 app.js

 nvm run dev app.js

 nvm use 4.1.0

=== nvm default alias ===
 nvm alias default 0.12.7

== nave , n ==
* nave is another node version management tool
 &gt;npm install -g nave

* n is another node version management
 &gt;npm install -g n

== package.json ==
* [https://docs.npmjs.com/files/package.json package.json doc]</text>
      <sha1>njm6xil7oguml9t2xwnzdjuj5671mdt</sha1>
    </revision>
  </page>
  <page>
    <title>Python</title>
    <ns>0</ns>
    <id>6</id>
    <revision>
      <id>15</id>
      <timestamp>2018-05-26T05:09:55Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;==ref &amp; docs == * http://www.python.org/ - official site * http://docs.python-guide.org/en/latest/ - python menu * https://sites.google.com/site/aslugsguidetopython/data-analy...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="281">==ref &amp; docs ==
* http://www.python.org/ - official site
* http://docs.python-guide.org/en/latest/ - python menu
* https://sites.google.com/site/aslugsguidetopython/data-analysis/basics - a slug guide to python
* http://www.runoob.com/python/python-basic-syntax.html - python basic</text>
      <sha1>fu4mif5naqtbjhxygn2nitchyo01i53</sha1>
    </revision>
  </page>
  <page>
    <title>Mac</title>
    <ns>0</ns>
    <id>7</id>
    <revision>
      <id>17</id>
      <timestamp>2018-05-26T05:12:29Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;== mac keep env variable when sudo == * sudo visudo  sudo visudo  ## add you need keep env variable  Defaults        env_keep += &quot;http_proxy&quot;    &gt;sudo printenv  # you can find...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3887">== mac keep env variable when sudo ==
* sudo visudo
 sudo visudo
 ## add you need keep env variable
 Defaults        env_keep += &quot;http_proxy&quot;
 
 &gt;sudo printenv
 # you can find http_proxy avaliable in sudo

==install iTerm2==
*http://iterm2.com/

==install jdk ==
* install jdk 7 on mac osx 10.9, the jdk location is
http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html

 lokvins-mbp:~ lokvin$ /usr/libexec/java_home -v 1.7
 /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home

* install jdk 6 on mac osx 10.9
https://developer.apple.com/downloads/&lt;br /&gt;
search &quot;java&quot;, download &quot;Java for OS X 2013-004 Developer Package&quot;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

==ls with color ==
 &gt;alias ls='ls -G'

==install command line tools==
 xcode-select --install

== mac install zlib ==
 xcode-select --install

==install apache with php ==
* install apache httpd
 $tar zxvf httpd-2.2.25.tar.gz
 $cd httpd-2.2.25
 $./configure \
    --prefix=/opt/apache22 \
    --enable-so \
    --enable-mods-shared=all \ 
    --enable-proxy=shared \
    --enable-cache=shared \
    --enable-file-cache=shared \
    --enable-disk-cache=shared \
    --enable-mem-cache=shared

 $make
 $sudo make install

* install apache with php http://php.net/manual/en/install.unix.apache2.php
 $tar -zxvf php-5.4.31.tar.gz
 $cd php-5.4.31
 $./configure --with-apxs2=/opt/apache22/bin/apxs --with-mysql
 $make
 $sudo make install
 $cp php.ini-development /usr/local/lib/php.ini

* add to apache httpd.conf

 &lt;FilesMatch \.php$&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;

 &lt;FilesMatch &quot;\.ph(p[2-6]?|tml)$&quot;&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;
*create a info.php file under htdocs like:
 &lt;?php
     phpinfo();
 ?&gt;
* access http://localhost/info.php

== install memcached ==
* http://www.rahuljiresal.com/2014/03/installing-memcached-on-mac-with-homebrew-and-lunchy/

 * You should also make sure your Homebrew is up-to-date. Use update and doctor commands to update and fix any issues it may have.
 brew update
 brew doctor

* install memcached
 brew install memcached
 gem install lunchy
 brew info memcached
 cp /usr/local/Cellar/memcached/$version/homebrew.mxcl.memcached.plist ~/Library/LaunchAgents/
 lunchy start memcached
 lunchy stop memcached

==set terminal tab name ==
* command + shift + i , call the menu, edit the tab name

== set env viriable==
* http://www.dowdandassociates.com/blog/content/howto-set-an-environment-variable-in-mac-os-x-terminal-only/

==brew update m4 ==
 brew install homebrew/dupes/m4

install location
 /usr/local/Cellar/m4/1.4.17

add below to path
 /usr/local/Cellar/m4/1.4.17/bin

==lock screen ==
* System Preferences &gt; Security &amp; Privacy &gt; General. required password &quot;immediately&quot; after sleep
* ctrl + shift + enject

==use Mail app receive email ==
*https://thehub.thomsonreuters.com/docs/DOC-945919?utm_source=results&amp;utm_medium=full&amp;utm_campaign=search#jive_content_id_How_to_setup_your_work_email_in_Apple_mail

==Mail app mark all as read ==
* https://support.apple.com/kb/PH19169?locale=en_US
* Control-click a mailbox, then choose Mark All Messages As Read.

== install tree ==
 &gt;brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>eqrt0b4w5d5n3k0gopvavttgv1222vb</sha1>
    </revision>
    <revision>
      <id>75</id>
      <parentid>17</parentid>
      <timestamp>2018-06-20T18:24:45Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* mac keep env variable when sudo */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="4385">== update bash version with homebrew ==
* https://johndjameson.com/blog/updating-your-shell-with-homebrew/
mac default with bash 3.2

 brew update
 brew install bash
 # Homebrew installs packages to /usr/local/bin/, so you’ll need to specify that path when looking for any Homebrew packages.
 sudo -s
 echo /usr/local/bin/bash &gt;&gt; /etc/shells
 # chsh for root and login user
 chsh -s /usr/local/bin/bash
 # exit terminal, check bash version, $BASH_VERSION
 bash --version
 echo &quot;$BASH_VERSION&quot;
 

== mac keep env variable when sudo ==
* sudo visudo
 sudo visudo
 ## add you need keep env variable
 Defaults        env_keep += &quot;http_proxy&quot;
 
 &gt;sudo printenv
 # you can find http_proxy avaliable in sudo

==install iTerm2==
*http://iterm2.com/

==install jdk ==
* install jdk 7 on mac osx 10.9, the jdk location is
http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html

 lokvins-mbp:~ lokvin$ /usr/libexec/java_home -v 1.7
 /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home

* install jdk 6 on mac osx 10.9
https://developer.apple.com/downloads/&lt;br /&gt;
search &quot;java&quot;, download &quot;Java for OS X 2013-004 Developer Package&quot;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

==ls with color ==
 &gt;alias ls='ls -G'

==install command line tools==
 xcode-select --install

== mac install zlib ==
 xcode-select --install

==install apache with php ==
* install apache httpd
 $tar zxvf httpd-2.2.25.tar.gz
 $cd httpd-2.2.25
 $./configure \
    --prefix=/opt/apache22 \
    --enable-so \
    --enable-mods-shared=all \ 
    --enable-proxy=shared \
    --enable-cache=shared \
    --enable-file-cache=shared \
    --enable-disk-cache=shared \
    --enable-mem-cache=shared

 $make
 $sudo make install

* install apache with php http://php.net/manual/en/install.unix.apache2.php
 $tar -zxvf php-5.4.31.tar.gz
 $cd php-5.4.31
 $./configure --with-apxs2=/opt/apache22/bin/apxs --with-mysql
 $make
 $sudo make install
 $cp php.ini-development /usr/local/lib/php.ini

* add to apache httpd.conf

 &lt;FilesMatch \.php$&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;

 &lt;FilesMatch &quot;\.ph(p[2-6]?|tml)$&quot;&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;
*create a info.php file under htdocs like:
 &lt;?php
     phpinfo();
 ?&gt;
* access http://localhost/info.php

== install memcached ==
* http://www.rahuljiresal.com/2014/03/installing-memcached-on-mac-with-homebrew-and-lunchy/

 * You should also make sure your Homebrew is up-to-date. Use update and doctor commands to update and fix any issues it may have.
 brew update
 brew doctor

* install memcached
 brew install memcached
 gem install lunchy
 brew info memcached
 cp /usr/local/Cellar/memcached/$version/homebrew.mxcl.memcached.plist ~/Library/LaunchAgents/
 lunchy start memcached
 lunchy stop memcached

==set terminal tab name ==
* command + shift + i , call the menu, edit the tab name

== set env viriable==
* http://www.dowdandassociates.com/blog/content/howto-set-an-environment-variable-in-mac-os-x-terminal-only/

==brew update m4 ==
 brew install homebrew/dupes/m4

install location
 /usr/local/Cellar/m4/1.4.17

add below to path
 /usr/local/Cellar/m4/1.4.17/bin

==lock screen ==
* System Preferences &gt; Security &amp; Privacy &gt; General. required password &quot;immediately&quot; after sleep
* ctrl + shift + enject

==use Mail app receive email ==
*https://thehub.thomsonreuters.com/docs/DOC-945919?utm_source=results&amp;utm_medium=full&amp;utm_campaign=search#jive_content_id_How_to_setup_your_work_email_in_Apple_mail

==Mail app mark all as read ==
* https://support.apple.com/kb/PH19169?locale=en_US
* Control-click a mailbox, then choose Mark All Messages As Read.

== install tree ==
 &gt;brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>pjtu64qvzr92itotancvjt1pn2y59e8</sha1>
    </revision>
    <revision>
      <id>76</id>
      <parentid>75</parentid>
      <timestamp>2018-06-20T18:25:10Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* update bash version with homebrew */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="4407">== update bash version with homebrew ==
* https://johndjameson.com/blog/updating-your-shell-with-homebrew/
mac default with bash 3.2, homebrew update to 4.x

 brew update
 brew install bash
 # Homebrew installs packages to /usr/local/bin/, so you’ll need to specify that path when looking for any Homebrew packages.
 sudo -s
 echo /usr/local/bin/bash &gt;&gt; /etc/shells
 # chsh for root and login user
 chsh -s /usr/local/bin/bash
 # exit terminal, check bash version, $BASH_VERSION
 bash --version
 echo &quot;$BASH_VERSION&quot;

== mac keep env variable when sudo ==
* sudo visudo
 sudo visudo
 ## add you need keep env variable
 Defaults        env_keep += &quot;http_proxy&quot;
 
 &gt;sudo printenv
 # you can find http_proxy avaliable in sudo

==install iTerm2==
*http://iterm2.com/

==install jdk ==
* install jdk 7 on mac osx 10.9, the jdk location is
http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html

 lokvins-mbp:~ lokvin$ /usr/libexec/java_home -v 1.7
 /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home

* install jdk 6 on mac osx 10.9
https://developer.apple.com/downloads/&lt;br /&gt;
search &quot;java&quot;, download &quot;Java for OS X 2013-004 Developer Package&quot;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

==ls with color ==
 &gt;alias ls='ls -G'

==install command line tools==
 xcode-select --install

== mac install zlib ==
 xcode-select --install

==install apache with php ==
* install apache httpd
 $tar zxvf httpd-2.2.25.tar.gz
 $cd httpd-2.2.25
 $./configure \
    --prefix=/opt/apache22 \
    --enable-so \
    --enable-mods-shared=all \ 
    --enable-proxy=shared \
    --enable-cache=shared \
    --enable-file-cache=shared \
    --enable-disk-cache=shared \
    --enable-mem-cache=shared

 $make
 $sudo make install

* install apache with php http://php.net/manual/en/install.unix.apache2.php
 $tar -zxvf php-5.4.31.tar.gz
 $cd php-5.4.31
 $./configure --with-apxs2=/opt/apache22/bin/apxs --with-mysql
 $make
 $sudo make install
 $cp php.ini-development /usr/local/lib/php.ini

* add to apache httpd.conf

 &lt;FilesMatch \.php$&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;

 &lt;FilesMatch &quot;\.ph(p[2-6]?|tml)$&quot;&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;
*create a info.php file under htdocs like:
 &lt;?php
     phpinfo();
 ?&gt;
* access http://localhost/info.php

== install memcached ==
* http://www.rahuljiresal.com/2014/03/installing-memcached-on-mac-with-homebrew-and-lunchy/

 * You should also make sure your Homebrew is up-to-date. Use update and doctor commands to update and fix any issues it may have.
 brew update
 brew doctor

* install memcached
 brew install memcached
 gem install lunchy
 brew info memcached
 cp /usr/local/Cellar/memcached/$version/homebrew.mxcl.memcached.plist ~/Library/LaunchAgents/
 lunchy start memcached
 lunchy stop memcached

==set terminal tab name ==
* command + shift + i , call the menu, edit the tab name

== set env viriable==
* http://www.dowdandassociates.com/blog/content/howto-set-an-environment-variable-in-mac-os-x-terminal-only/

==brew update m4 ==
 brew install homebrew/dupes/m4

install location
 /usr/local/Cellar/m4/1.4.17

add below to path
 /usr/local/Cellar/m4/1.4.17/bin

==lock screen ==
* System Preferences &gt; Security &amp; Privacy &gt; General. required password &quot;immediately&quot; after sleep
* ctrl + shift + enject

==use Mail app receive email ==
*https://thehub.thomsonreuters.com/docs/DOC-945919?utm_source=results&amp;utm_medium=full&amp;utm_campaign=search#jive_content_id_How_to_setup_your_work_email_in_Apple_mail

==Mail app mark all as read ==
* https://support.apple.com/kb/PH19169?locale=en_US
* Control-click a mailbox, then choose Mark All Messages As Read.

== install tree ==
 &gt;brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>7aqy401icingabar55dhm1qjg6wdjkn</sha1>
    </revision>
    <revision>
      <id>77</id>
      <parentid>76</parentid>
      <timestamp>2018-06-20T19:14:09Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* update bash version with homebrew */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="4672">== enable install app from anywhere ==
* For security reason, macos disabled install app from anywhere, you can enable it if you sure what you do.
 # disable getekeeper
 sudo spctl --master-disable
 # enable gatekeeper
 sudo spctl --master-enable
 spctl --status


== update bash version with homebrew ==
* https://johndjameson.com/blog/updating-your-shell-with-homebrew/
mac default with bash 3.2, homebrew update to 4.x

 brew update
 brew install bash
 # Homebrew installs packages to /usr/local/bin/, so you’ll need to specify that path when looking for any Homebrew packages.
 sudo -s
 echo /usr/local/bin/bash &gt;&gt; /etc/shells
 # chsh for root and login user
 chsh -s /usr/local/bin/bash
 # exit terminal, check bash version, $BASH_VERSION
 bash --version
 echo &quot;$BASH_VERSION&quot;

== mac keep env variable when sudo ==
* sudo visudo
 sudo visudo
 ## add you need keep env variable
 Defaults        env_keep += &quot;http_proxy&quot;
 
 &gt;sudo printenv
 # you can find http_proxy avaliable in sudo

==install iTerm2==
*http://iterm2.com/

==install jdk ==
* install jdk 7 on mac osx 10.9, the jdk location is
http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html

 lokvins-mbp:~ lokvin$ /usr/libexec/java_home -v 1.7
 /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home

* install jdk 6 on mac osx 10.9
https://developer.apple.com/downloads/&lt;br /&gt;
search &quot;java&quot;, download &quot;Java for OS X 2013-004 Developer Package&quot;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

==ls with color ==
 &gt;alias ls='ls -G'

==install command line tools==
 xcode-select --install

== mac install zlib ==
 xcode-select --install

==install apache with php ==
* install apache httpd
 $tar zxvf httpd-2.2.25.tar.gz
 $cd httpd-2.2.25
 $./configure \
    --prefix=/opt/apache22 \
    --enable-so \
    --enable-mods-shared=all \ 
    --enable-proxy=shared \
    --enable-cache=shared \
    --enable-file-cache=shared \
    --enable-disk-cache=shared \
    --enable-mem-cache=shared

 $make
 $sudo make install

* install apache with php http://php.net/manual/en/install.unix.apache2.php
 $tar -zxvf php-5.4.31.tar.gz
 $cd php-5.4.31
 $./configure --with-apxs2=/opt/apache22/bin/apxs --with-mysql
 $make
 $sudo make install
 $cp php.ini-development /usr/local/lib/php.ini

* add to apache httpd.conf

 &lt;FilesMatch \.php$&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;

 &lt;FilesMatch &quot;\.ph(p[2-6]?|tml)$&quot;&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;
*create a info.php file under htdocs like:
 &lt;?php
     phpinfo();
 ?&gt;
* access http://localhost/info.php

== install memcached ==
* http://www.rahuljiresal.com/2014/03/installing-memcached-on-mac-with-homebrew-and-lunchy/

 * You should also make sure your Homebrew is up-to-date. Use update and doctor commands to update and fix any issues it may have.
 brew update
 brew doctor

* install memcached
 brew install memcached
 gem install lunchy
 brew info memcached
 cp /usr/local/Cellar/memcached/$version/homebrew.mxcl.memcached.plist ~/Library/LaunchAgents/
 lunchy start memcached
 lunchy stop memcached

==set terminal tab name ==
* command + shift + i , call the menu, edit the tab name

== set env viriable==
* http://www.dowdandassociates.com/blog/content/howto-set-an-environment-variable-in-mac-os-x-terminal-only/

==brew update m4 ==
 brew install homebrew/dupes/m4

install location
 /usr/local/Cellar/m4/1.4.17

add below to path
 /usr/local/Cellar/m4/1.4.17/bin

==lock screen ==
* System Preferences &gt; Security &amp; Privacy &gt; General. required password &quot;immediately&quot; after sleep
* ctrl + shift + enject

==use Mail app receive email ==
*https://thehub.thomsonreuters.com/docs/DOC-945919?utm_source=results&amp;utm_medium=full&amp;utm_campaign=search#jive_content_id_How_to_setup_your_work_email_in_Apple_mail

==Mail app mark all as read ==
* https://support.apple.com/kb/PH19169?locale=en_US
* Control-click a mailbox, then choose Mark All Messages As Read.

== install tree ==
 &gt;brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>1kkzttzim12z2mpn3vkeyg5y36nmppy</sha1>
    </revision>
    <revision>
      <id>78</id>
      <parentid>77</parentid>
      <timestamp>2018-06-20T19:14:29Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* enable install app from anywhere */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="4747">== enable install app from anywhere ==
* http://osxdaily.com/2016/09/27/allow-apps-from-anywhere-macos-gatekeeper/
* For security reason, macos disabled install app from anywhere, you can enable it if you sure what you do.
 # disable getekeeper
 sudo spctl --master-disable
 # enable gatekeeper
 sudo spctl --master-enable
 spctl --status

== update bash version with homebrew ==
* https://johndjameson.com/blog/updating-your-shell-with-homebrew/
mac default with bash 3.2, homebrew update to 4.x

 brew update
 brew install bash
 # Homebrew installs packages to /usr/local/bin/, so you’ll need to specify that path when looking for any Homebrew packages.
 sudo -s
 echo /usr/local/bin/bash &gt;&gt; /etc/shells
 # chsh for root and login user
 chsh -s /usr/local/bin/bash
 # exit terminal, check bash version, $BASH_VERSION
 bash --version
 echo &quot;$BASH_VERSION&quot;

== mac keep env variable when sudo ==
* sudo visudo
 sudo visudo
 ## add you need keep env variable
 Defaults        env_keep += &quot;http_proxy&quot;
 
 &gt;sudo printenv
 # you can find http_proxy avaliable in sudo

==install iTerm2==
*http://iterm2.com/

==install jdk ==
* install jdk 7 on mac osx 10.9, the jdk location is
http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html

 lokvins-mbp:~ lokvin$ /usr/libexec/java_home -v 1.7
 /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home

* install jdk 6 on mac osx 10.9
https://developer.apple.com/downloads/&lt;br /&gt;
search &quot;java&quot;, download &quot;Java for OS X 2013-004 Developer Package&quot;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

==ls with color ==
 &gt;alias ls='ls -G'

==install command line tools==
 xcode-select --install

== mac install zlib ==
 xcode-select --install

==install apache with php ==
* install apache httpd
 $tar zxvf httpd-2.2.25.tar.gz
 $cd httpd-2.2.25
 $./configure \
    --prefix=/opt/apache22 \
    --enable-so \
    --enable-mods-shared=all \ 
    --enable-proxy=shared \
    --enable-cache=shared \
    --enable-file-cache=shared \
    --enable-disk-cache=shared \
    --enable-mem-cache=shared

 $make
 $sudo make install

* install apache with php http://php.net/manual/en/install.unix.apache2.php
 $tar -zxvf php-5.4.31.tar.gz
 $cd php-5.4.31
 $./configure --with-apxs2=/opt/apache22/bin/apxs --with-mysql
 $make
 $sudo make install
 $cp php.ini-development /usr/local/lib/php.ini

* add to apache httpd.conf

 &lt;FilesMatch \.php$&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;

 &lt;FilesMatch &quot;\.ph(p[2-6]?|tml)$&quot;&gt;
    SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;
*create a info.php file under htdocs like:
 &lt;?php
     phpinfo();
 ?&gt;
* access http://localhost/info.php

== install memcached ==
* http://www.rahuljiresal.com/2014/03/installing-memcached-on-mac-with-homebrew-and-lunchy/

 * You should also make sure your Homebrew is up-to-date. Use update and doctor commands to update and fix any issues it may have.
 brew update
 brew doctor

* install memcached
 brew install memcached
 gem install lunchy
 brew info memcached
 cp /usr/local/Cellar/memcached/$version/homebrew.mxcl.memcached.plist ~/Library/LaunchAgents/
 lunchy start memcached
 lunchy stop memcached

==set terminal tab name ==
* command + shift + i , call the menu, edit the tab name

== set env viriable==
* http://www.dowdandassociates.com/blog/content/howto-set-an-environment-variable-in-mac-os-x-terminal-only/

==brew update m4 ==
 brew install homebrew/dupes/m4

install location
 /usr/local/Cellar/m4/1.4.17

add below to path
 /usr/local/Cellar/m4/1.4.17/bin

==lock screen ==
* System Preferences &gt; Security &amp; Privacy &gt; General. required password &quot;immediately&quot; after sleep
* ctrl + shift + enject

==use Mail app receive email ==
*https://thehub.thomsonreuters.com/docs/DOC-945919?utm_source=results&amp;utm_medium=full&amp;utm_campaign=search#jive_content_id_How_to_setup_your_work_email_in_Apple_mail

==Mail app mark all as read ==
* https://support.apple.com/kb/PH19169?locale=en_US
* Control-click a mailbox, then choose Mark All Messages As Read.

== install tree ==
 &gt;brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>b75fv1txf3umqvybekzh8lk4vu2m4ay</sha1>
    </revision>
    <revision>
      <id>105</id>
      <parentid>78</parentid>
      <timestamp>2019-02-20T15:11:41Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="867">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

```
add 
```


==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

== install tree ==
 brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>ifg1xck2ln1w9y55qnstmudkbtdfikr</sha1>
    </revision>
    <revision>
      <id>106</id>
      <parentid>105</parentid>
      <timestamp>2019-02-20T15:16:42Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* ~/.bash_profile */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="912">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;code&gt;
# use vi as default editor
export EDITOR=vi
&lt;/code&gt;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

== install tree ==
 brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>os39pf9zhofzjale13h0bdn5jibi90p</sha1>
    </revision>
    <revision>
      <id>107</id>
      <parentid>106</parentid>
      <timestamp>2019-02-20T15:17:31Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* ~/.bash_profile */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="910">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi
&lt;/pre&gt;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

== install tree ==
 brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>fjh7uvvbw9coo9pusvlm2y74k8dbjq5</sha1>
    </revision>
    <revision>
      <id>108</id>
      <parentid>107</parentid>
      <timestamp>2019-02-20T15:23:39Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* ~/.bash_profile */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="937">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

&lt;/pre&gt;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

== install tree ==
 brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>cdksu0umww8zxcgv5t3dmf9xygkkuus</sha1>
    </revision>
    <revision>
      <id>109</id>
      <parentid>108</parentid>
      <timestamp>2019-02-20T15:25:45Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* ~/.bash_profile */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="977">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'
# show file status
alias stat='stat -x'

&lt;/pre&gt;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

== install tree ==
 brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>lfi0paf4xno9ot9qdea7kejb7i05vzk</sha1>
    </revision>
    <revision>
      <id>110</id>
      <parentid>109</parentid>
      <timestamp>2019-02-20T15:25:57Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* ~/.bash_profile */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="978">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

# show file status
alias stat='stat -x'

&lt;/pre&gt;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

== install tree ==
 brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>ijosj2s11hcvzjv14v1ec6te8aw1b28</sha1>
    </revision>
    <revision>
      <id>111</id>
      <parentid>110</parentid>
      <timestamp>2019-02-20T15:26:13Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* ~/.bash_profile */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="979">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

&lt;/pre&gt;

==install homebrew==
http://brew.sh/

==install wget ==
 brew install wget

== install tree ==
 brew install tree

== mac set utf8 locale ==
* add below to ~/.bash_profile
 export LC_ALL=en_US.UTF-8  
 export LANG=en_US.UTF-8

== disable System Integrity on Mac OSX EI ==
* http://osxdaily.com/2015/10/05/disable-rootless-system-integrity-protection-mac-os-x/
* Hold ⌘R during reboot, enter recory mode, From the Utilities menu, run Terminal .
disable SIP
 csrutil disable
enable SIP, except dtrace
 csrutil enable --without dtrace
 csrutil status

== mac mail app ==
* mail reply remove vertical line
Mail.app - preferences - composing - uncheck 'Increase quote level'

== mac change host name ==

 sudo scutil --set HostName mimu
 sudo scutil --set ComputerName mimu // 修改共享主机名</text>
      <sha1>9dq30ujjo07vzj094vv2e8n1pojdl7e</sha1>
    </revision>
    <revision>
      <id>112</id>
      <parentid>111</parentid>
      <timestamp>2019-02-20T15:29:12Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="304">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

&lt;/pre&gt;

== install homebrew ==
http://brew.sh/

=== install wget ===
 brew install wget

=== install tree ===
 brew install tree</text>
      <sha1>7vatzsayfx3rsgxjvi2hip8fzmd9cb9</sha1>
    </revision>
    <revision>
      <id>113</id>
      <parentid>112</parentid>
      <timestamp>2019-02-20T15:33:35Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="423">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

&lt;/pre&gt;

== install homebrew ==
http://brew.sh/

=== install wget ===
 brew install wget

=== install tree ===
 brew install tree

== custom setting ==

=== add shortcut ===
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (Sleep F10)</text>
      <sha1>qczlziszwdj26kd7cclvzhu7shdaw1w</sha1>
    </revision>
    <revision>
      <id>114</id>
      <parentid>113</parentid>
      <timestamp>2019-02-20T15:34:10Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* add shortcut */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="443">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

&lt;/pre&gt;

== install homebrew ==
http://brew.sh/

=== install wget ===
 brew install wget

=== install tree ===
 brew install tree

== custom setting ==

=== add shortcut ===
==== F10 sleep ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (Sleep F10)</text>
      <sha1>hdfox9zctt0bmrjs0jt724oin9hge41</sha1>
    </revision>
    <revision>
      <id>115</id>
      <parentid>114</parentid>
      <timestamp>2019-02-20T15:34:24Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* F10 sleep */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="446">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

&lt;/pre&gt;

== install homebrew ==
http://brew.sh/

=== install wget ===
 brew install wget

=== install tree ===
 brew install tree

== custom setting ==

=== add shortcut ===
==== F10 -&gt; sleep ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (Sleep F10)</text>
      <sha1>0uqde15aduwk8de6gj9l4p4nytt53ea</sha1>
    </revision>
    <revision>
      <id>116</id>
      <parentid>115</parentid>
      <timestamp>2019-02-20T15:36:38Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* F10 -&gt; sleep */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="592">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

&lt;/pre&gt;

== install homebrew ==
http://brew.sh/

=== install wget ===
 brew install wget

=== install tree ===
 brew install tree

== custom setting ==

=== add shortcut ===
==== F10 -&gt; sleep ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (Sleep F10)

==== ctrl + / -&gt; switch input source ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; Input Sources -&gt; select previous input source - ctrl + /</text>
      <sha1>o6mu6azggzgzwm9ce3lp9bheohb3rbu</sha1>
    </revision>
    <revision>
      <id>117</id>
      <parentid>116</parentid>
      <timestamp>2019-02-20T15:37:06Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* ctrl + / -&gt; switch input source */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="594">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

&lt;/pre&gt;

== install homebrew ==
http://brew.sh/

=== install wget ===
 brew install wget

=== install tree ===
 brew install tree

== custom setting ==

=== add shortcut ===
==== F10 -&gt; sleep ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (Sleep F10)

==== ctrl + / -&gt; switch input source ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; Input Sources -&gt; select previous input source - (ctrl + /)</text>
      <sha1>3bispt81o38tgvt7etksk67dhjgm3tc</sha1>
    </revision>
    <revision>
      <id>119</id>
      <parentid>117</parentid>
      <timestamp>2019-02-20T15:52:19Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* custom setting */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="658">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

&lt;/pre&gt;

== install homebrew ==
http://brew.sh/

=== install wget ===
 brew install wget

=== install tree ===
 brew install tree

== custom setting ==

=== add shortcut ===
==== F10 -&gt; sleep ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (Sleep F10)

==== ctrl + / -&gt; switch input source ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; Input Sources -&gt; select previous input source - (ctrl + /)


== short cut ==
* switch terminal tab - shift + cmd + &lt;- | -&gt;</text>
      <sha1>tsd9w4fba364vmy7gh1zcqxjbrmsfy8</sha1>
    </revision>
    <revision>
      <id>120</id>
      <parentid>119</parentid>
      <timestamp>2019-02-20T15:52:44Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* short cut */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="664">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

&lt;/pre&gt;

== install homebrew ==
http://brew.sh/

=== install wget ===
 brew install wget

=== install tree ===
 brew install tree

== custom setting ==

=== add shortcut ===
==== F10 -&gt; sleep ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (Sleep F10)

==== ctrl + / -&gt; switch input source ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; Input Sources -&gt; select previous input source - (ctrl + /)


== short cut ==
* switch terminal tab - ***shift + cmd + &lt;- | -&gt;***</text>
      <sha1>jt820j4dlkw1bgzksbwbjt3bi0gh9kq</sha1>
    </revision>
    <revision>
      <id>121</id>
      <parentid>120</parentid>
      <timestamp>2019-02-20T15:52:54Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* short cut */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="658">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

&lt;/pre&gt;

== install homebrew ==
http://brew.sh/

=== install wget ===
 brew install wget

=== install tree ===
 brew install tree

== custom setting ==

=== add shortcut ===
==== F10 -&gt; sleep ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (Sleep F10)

==== ctrl + / -&gt; switch input source ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; Input Sources -&gt; select previous input source - (ctrl + /)


== short cut ==
* switch terminal tab - shift + cmd + &lt;- | -&gt;</text>
      <sha1>tsd9w4fba364vmy7gh1zcqxjbrmsfy8</sha1>
    </revision>
    <revision>
      <id>122</id>
      <parentid>121</parentid>
      <timestamp>2019-02-20T16:05:41Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* ~/.bash_profile */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="823">== ~/.bash_profile ==
* add ~/.bash_profile, add follow

&lt;pre&gt;
# use vi as default editor
export EDITOR=vi

# alias
alias ls='ls -G'

## show file status
alias stat='stat -x'

# java home
export JAVA_HOME=`/usr/libexec/java_home -v 1.8`
#export JAVA_HOME=`/usr/libexec/java_home -v 11`

# export variable
export PATH=&quot;$JAVA_HOME/bin:$PATH&quot;

&lt;/pre&gt;

== install homebrew ==
http://brew.sh/

=== install wget ===
 brew install wget

=== install tree ===
 brew install tree

== custom setting ==

=== add shortcut ===
==== F10 -&gt; sleep ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (Sleep F10)

==== ctrl + / -&gt; switch input source ====
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; Input Sources -&gt; select previous input source - (ctrl + /)


== short cut ==
* switch terminal tab - shift + cmd + &lt;- | -&gt;</text>
      <sha1>0y32g6gjrd33iz2pijqdxmsnc8q1jr3</sha1>
    </revision>
  </page>
  <page>
    <title>Mac Init</title>
    <ns>0</ns>
    <id>8</id>
    <revision>
      <id>23</id>
      <timestamp>2018-05-26T05:15:32Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;== user name == user: yufei  == add shortcut == System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (F10 Sleep), (F9 Shut Down...)  == xcode == install Xcode from A...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="2925">== user name ==
user: yufei

== add shortcut ==
System Preference -&gt; Keyboard - &gt; Shortcut -&gt; App Shortcuts -&gt; (F10 Sleep), (F9 Shut Down...)

== xcode ==
install Xcode from App Store
=== install command line tools ===
 xcode-select --install

== shell related ==
=== sudo without password ===
 sudo su
 chmod +w /etc/sudoers
 # add follow line
 USERNAME ALL=(ALL) NOPASSWD: ALL
 chmod -w /etc/sudoers
 exit

=== add ~/.bash_profile ===
 touch ~/.bash_profile

=== ls show color ===
 vim ~/.bash_profile
 #add alias
 alias ls='ls -G'

=== crearte some dirs ===
 &gt;mkdir ~/dev
 &gt;mkdir ~/work_notes
 &gt;mkdir ~/books
 &gt;sudo mkdir /rt
 &gt;sudo chown yufei:staff /rt

===ssh-keygen ===
 ssh-keygen -t rsa -C &quot;your_email@example.com&quot;

* ls ~/.ssh, id_rsa is private key, id_rsa.pub is public key
 ls -la
 -rw-------   1 yufei  staff  1675 Jan 20 21:28 id_rsa
 -rw-r--r--   1 yufei  staff   400 Jan 20 21:28 id_rsa.pub

==== ssh without password ====
* id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys

== install homebrew ==
* http://brew.sh
 brew -v

=== install wget ===
 brew install wget

=== brew install memcached ===
 brew update
 brew doctor
 brew install memcached

* install lunchy
 sudo gem install lunchy
 cp /usr/local/Cellar/memcached/$version/homebrew.mxcl.memcached.plist ~/Library/LaunchAgents/
 lunchy start memcached
 lunchy stop memcached

=== install tree ===
 brew install tree

=== install python ===
 brew install python
 ## check python version
 python --version

==== install boto3 ====
 pip install boto3

==== install jinja2 ====
 pip install jinja2

==== install pyyaml ====
 pip install pyyaml

== install jdk ==
* download idk from http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html
* find java home
 /usr/libexec/java_home -v 1.8
 /Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home
 #add JAVA_HOME to ~/.bash_profile
 JAVA_HOME=`/usr/libexec/java_home -v 1.8`
 export JAVA_HOME

== install eclipse ==
https://www.eclipse.org/downloads/

== install idea ==
* http://www.jetbrains.com/idea/
== install atom ==
* https://atom.io
== install sougou pinyin ==
* http://pinyin.sogou.com/mac/

== install chrome ==

== install vpn and anyconnect ==
*Request certificate
https://thehub.thomsonreuters.com/docs/DOC-739662

*Anyconnect download
https://thehub.thomsonreuters.com/docs/DOC-1839280

== install evernote from App Store ==
== install maven ==
* location
 ~/dev/maven
* add MAVEN_HOME to PATH

== install charles ==
== install tomcat ==
* location
 /opt/tomcat

== install synergy ==
* https://symless.com/

== config python project in idea ==
 File - Project Structure - Project - Project SDK , select /usr/local/bin/python (python installed by brew)

=== idea show empty string ===
 Appearance - Editor - Appearance - Show whitespace

== install nvm ==
* https://github.com/creationix/nvm

== install docker ==</text>
      <sha1>nrmkg3h6d9esa3pd8ex2owhcmevegcp</sha1>
    </revision>
    <revision>
      <id>118</id>
      <parentid>23</parentid>
      <timestamp>2019-02-20T15:37:50Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="2813">== user name ==
user: yufei



== xcode ==
install Xcode from App Store
=== install command line tools ===
 xcode-select --install

== shell related ==
=== sudo without password ===
 sudo su
 chmod +w /etc/sudoers
 # add follow line
 USERNAME ALL=(ALL) NOPASSWD: ALL
 chmod -w /etc/sudoers
 exit

=== add ~/.bash_profile ===
 touch ~/.bash_profile

=== ls show color ===
 vim ~/.bash_profile
 #add alias
 alias ls='ls -G'

=== crearte some dirs ===
 &gt;mkdir ~/dev
 &gt;mkdir ~/work_notes
 &gt;mkdir ~/books
 &gt;sudo mkdir /rt
 &gt;sudo chown yufei:staff /rt

===ssh-keygen ===
 ssh-keygen -t rsa -C &quot;your_email@example.com&quot;

* ls ~/.ssh, id_rsa is private key, id_rsa.pub is public key
 ls -la
 -rw-------   1 yufei  staff  1675 Jan 20 21:28 id_rsa
 -rw-r--r--   1 yufei  staff   400 Jan 20 21:28 id_rsa.pub

==== ssh without password ====
* id_rsa.pub is your public key, put it's content to the remote machine ~/.ssh/authorized_keys

== install homebrew ==
* http://brew.sh
 brew -v

=== install wget ===
 brew install wget

=== brew install memcached ===
 brew update
 brew doctor
 brew install memcached

* install lunchy
 sudo gem install lunchy
 cp /usr/local/Cellar/memcached/$version/homebrew.mxcl.memcached.plist ~/Library/LaunchAgents/
 lunchy start memcached
 lunchy stop memcached

=== install tree ===
 brew install tree

=== install python ===
 brew install python
 ## check python version
 python --version

==== install boto3 ====
 pip install boto3

==== install jinja2 ====
 pip install jinja2

==== install pyyaml ====
 pip install pyyaml

== install jdk ==
* download idk from http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html
* find java home
 /usr/libexec/java_home -v 1.8
 /Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home
 #add JAVA_HOME to ~/.bash_profile
 JAVA_HOME=`/usr/libexec/java_home -v 1.8`
 export JAVA_HOME

== install eclipse ==
https://www.eclipse.org/downloads/

== install idea ==
* http://www.jetbrains.com/idea/
== install atom ==
* https://atom.io
== install sougou pinyin ==
* http://pinyin.sogou.com/mac/

== install chrome ==

== install vpn and anyconnect ==
*Request certificate
https://thehub.thomsonreuters.com/docs/DOC-739662

*Anyconnect download
https://thehub.thomsonreuters.com/docs/DOC-1839280

== install evernote from App Store ==
== install maven ==
* location
 ~/dev/maven
* add MAVEN_HOME to PATH

== install charles ==
== install tomcat ==
* location
 /opt/tomcat

== install synergy ==
* https://symless.com/

== config python project in idea ==
 File - Project Structure - Project - Project SDK , select /usr/local/bin/python (python installed by brew)

=== idea show empty string ===
 Appearance - Editor - Appearance - Show whitespace

== install nvm ==
* https://github.com/creationix/nvm

== install docker ==</text>
      <sha1>es2z4wkzs9oqs5wwwkn3nz0nnqush7r</sha1>
    </revision>
  </page>
  <page>
    <title>Mysql</title>
    <ns>0</ns>
    <id>9</id>
    <revision>
      <id>25</id>
      <timestamp>2018-05-26T05:17:18Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;== mysql check version ==  mysql&gt; select version();  == mysql change root passed ==  SET PASSWORD FOR 'root'@'localhost' = PASSWORD('MyNewPass');  ==mysql setup on my macbook...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="16927">== mysql check version ==
 mysql&gt; select version();

== mysql change root passed ==
 SET PASSWORD FOR 'root'@'localhost' = PASSWORD('MyNewPass');

==mysql setup on my macbook pro==
* install use mysql dmg file

* startup from System Preference -&gt; Mysql

* start up from terminal
 sudo /usr/local/mysql/support-files/mysql.server start
 sudo /usr/local/mysql/support-files/mysql.server restart
 sudo /usr/local/mysql/support-files/mysql.server stop
*install on
 /usr/local/mysql

* set root passwd
root/ r00t

* mysql's my.cnf file
 cp /usr/local/mysql/support-files/my-default.cnf /etc/my.cnf

==show procedure ==
 mysql&gt;show procedure status;

==show databases , tables==
 mysql&gt;show databases;
 mysql&gt;use somedb;
 mysql&gt;show tables;

==show create table statement==
* https://dev.mysql.com/doc/refman/5.0/en/show-create-table.html

 SHOW CREATE TABLE tbl_name

 mysql&gt; show create table VIDEOCHANNEL \G;
 *************************** 1. row ***************************
       Table: VIDEOCHANNEL
 Create Table: CREATE TABLE `VIDEOCHANNEL` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CHANNEL_CODE` varchar(50) NOT NULL,
  `NAME` varchar(100) NOT NULL,
  `EDITION` char(2) NOT NULL DEFAULT 'US',
  `TS` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `DESCRIPTION` varchar(256) DEFAULT NULL,

==show index ==
*https://dev.mysql.com/doc/refman/5.0/en/show-index.html
 show index from table_name

 mysql&gt; show index from CATEGORY;
 +----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+-- -------+
 | Table    | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type |  Comment |
 +----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+
 | CATEGORY |          0 | PRIMARY  |            1 | ID          | A         |        4303 |     NULL | NULL   |      | BTREE      |

==DESC &amp; show columns ==
* desc table_name = show columns from table_name

 mysql&gt; desc VIDEOCHANNEL;
 +----------------------+-----------------+------+-----+-------------------+-----------------------------+
 | Field                | Type            | Null | Key | Default           | Extra                       |
 +----------------------+-----------------+------+-----+-------------------+-----------------------------+
 | ID                   | bigint(20)      | NO   | PRI | NULL              | auto_increment              | 
 | CHANNEL_CODE         | varchar(50)     | NO   | MUL | NULL              |                             | 
 | NAME                 | varchar(100)    | NO   |     | NULL              |                             |

 mysql&gt; SHOW COLUMNS FROM VIDEOCHANNEL;
 +----------------------+-----------------+------+-----+-------------------+-----------------------------+
 | Field                | Type            | Null | Key | Default           | Extra                       |
 +----------------------+-----------------+------+-----+-------------------+-----------------------------+
 | ID                   | bigint(20)      | NO   | PRI | NULL              | auto_increment              |

==mysql connect==
 mysql -uroot -p(passowrd) -hlocalhost -P(port)

* connect mysql with utf8 encode
 mysql -h 10.90.108.154 -u reuters -preuters -P23306 rcommerce --default-character-set=utf8

* mysql connect with socket
 mysql --socket=/rt/db/tmp/mysqld.sock1 -uroot -p

==msyqldump ==
* dump entire db

 mysqldump -u iphone -piphone -h mprodusx-iphoneapp-01 -P 23306 --default-character-set=utf8 --single-transaction 
 --routines --triggers --databases iphone &gt; iphone.sql

** dump db by --socket
 mysqldump -u root -p --socket=/rt/db/tmp/mysqld.sock1 --default-character-set=utf8 --single-transaction --routines --triggers --databases cmsstaging_mobile &gt; cmsstaging_mobile.sql

* dump entire db 2
 mysqldump --opt --lock-tables=false -h $host -P $port 
 -u $user -p$password -R $db &gt; $dumpfile

* dump need tables
  mysqldump -u iphone -piphone -h mprodusx-iphoneapp-01 -P 23306 --default-character-set=utf8 --single-transaction --routines
  --triggers iphone db_changes localized_feeds slideshow_categories spotlight_feeds video_feeds &gt; iphone.sql

* dump need tables 2
 mysqldump --opt --lock-tables=false -h $host -P $port
 -u $user -p$password -R $db --tables $table &gt; $dumpfile

==import to mysql==
 mysql -u root -pr00t -h localhost -P 23306 --default-character-set=utf8 apikeys &lt; ./apikeys.sql

* import by socket
 mysql -u root -p --socket=/rt/db/tmp/mysqld.sock1 --default-character-set=utf8 cmsstaging_mobile &lt; ./cmsstaging_mobile_qa5_20140305.sql

==MySQL confgurations==
* for Development
  log-bin = /usr/local/mysql/data/mysqld/mysqld-bin.log
  log-bin-index = /usr/local/mysql/data/mysqld/mysqld-bin.index
  log=/usr/local/mysql/data/mysqld/query.log
  default_table_type = InnoDB
  log_slow_queries = /usr/local/mysql/data/mysqld/mysqld-slow.log
  long_query_time = 1
  log_error = /usr/local/mysql/data/mysqld/mysqld.err
  log_queries_not_using_indexes 
   # *** INNODB Specific options ***
  innodb_data_file_path = ibdata1:10M:autoextend
  innodb_file_per_table
* for SIT (Testing)
  log-bin = /usr/local/mysql/data/mysqld/mysqld-bin.log
  log-bin-index = /usr/local/mysql/data/mysqld/mysqld-bin.index
  log=/usr/local/mysql/data/mysqld/query.log
  default_table_type = InnoDB
  log_slow_queries = /usr/local/mysql/data/mysqld/mysqld-slow.log
  long_query_time = 1
  log_error = /usr/local/mysql/data/mysqld/mysqld.err
  log_queries_not_using_indexes 
   # *** INNODB Specific options ***
  innodb_data_file_path = ibdata1:10M:autoextend
  innodb_file_per_table
* for Production
  default_table_type = InnoDB
  log_error = /usr/local/mysql/data/mysqld/mysqld.err
   # *** INNODB Specific options ***
  innodb_data_file_path = ibdata1:10M:autoextend
  innodb_file_per_table
* for Replication
  [mysqld_multi]
  mysqld=/usr/bin/mysqld_safe
  mysqladmin=/usr/bin/mysqladmin
  user=***
  password=***
   [mysqld1]
  server-id=127007
  port        = 23307
  user        = ***
  sync-binlog = 10
  log-bin = /disk2/mysql/data/mysqld_rep1/mysqld-bin.log
  log-bin-index = /disk2/mysql/data/mysqld_rep1/mysqld-bin.index
  binlog-do-db = db1
   [mysqld2]
  server-id=127008
  port=23308
  user=***
   master-host=***
  master-user=***
  master-password=**
  master-port=**
   replicate-do-db=db1
  replicate-ignore-table=db1.table1
  log_error=/disk2/mysql/data/mysqld_rep2/mysqld.err


==MySQL indexes==
2 types of indexes: spatial indexes (created using SPATIAL INDEX) and non-spatial indexes (created with INDEX, UNIQUE, or PRIMARY KEY)
* spatial indexes (created using SPATIAL INDEX)
** Available only for MyISAM tables. Specifying a SPATIAL INDEX for other storage engines results in an error.
** Indexed columns must be NOT NULL.
* Non-spatial indexes (created with INDEX, UNIQUE, or PRIMARY KEY):
** Allowed for any storage engine that supports spatial columns except ARCHIVE.
** Columns can be NULL unless the index is a primary key.
** The index type for a non-SPATIAL index depends on the storage engine. Currently, B-tree is used.

==Common usage mistakes==
* now() &amp; sysdate()
  NOW() returns a constant time that indicates the time at which the statement began to execute. 
 (Within a stored routine or trigger, NOW() returns the time at which the routine or triggering statement began to execute.) 
 This differs from the behavior for SYSDATE(), which returns the exact time at which it executes as of MySQL 5.0.13.
   SET TIMESTAMP affects the value returned by NOW() but not by SYSDATE().
   With the --sysdate-is-now option to cause SYSDATE() to be an alias for NOW(), in which case SET TIMESTAMP affects both functions.
* date calculation
  1. do not use + - operator
   2. use date functions such as date_diff()
   3. convert to unix timestamp and then use + - opertator
  

==Common Replication Pitfalls==

'''MySQL performs statement based replication, and certain SQL statements would cause errors in replication.'''

===System Functions===
The following system functions should NEVER be used in statements that INSERT/CHANGE data if MySQL replication is (tobe) used,&lt;br /&gt;
as they would generate different results between master and slave.

:* USER()
:* CURRENT_USER()
:* UUID()
:* VERSION()
:* LOAD_FILE()
:* SYSDATE()
:* FOUND_ROWS()
:* ROW_COUNT()

Also usage of the following must be very cautious.

:* RAND()

===Floating Point Comparisons===
*Using Floating Points comparisons in INSERT/CHANGE statements may result in different results if running different&lt;br /&gt; 
CPU or hardware (due to Floating Points compares are always fuzzy &amp; system dependent).


===replication References===
* http://dev.mysql.com/doc/refman/5.0/en/replication-features.html
* http://dev.mysql.com/doc/refman/5.0/en/replication-features-functions.html
* http://dev.mysql.com/doc/refman/5.0/en/replication-features-floatvalues.html

==Performance tuning==
* sync_binlog
  This is only for datagbase replication scenario
   By default, the binary log is not synchronized to disk at each write. So if the operating system or machine (not only the MySQL 
  server) crashes, there is a chance that the last statements of the binary log are lost. To prevent this, you can make the binary 
  log be synchronized to disk after every N writes to the binary log, with the sync_binlog system variable.
 
   1 is the safest value for sync_binlog, but also the slowest. Even with sync_binlog set to 1, there is still the chance of an 
  inconsistency between the table content and binary log content in case of a crash.
 
   10 is a prefer value to improve the database performance, but there is something you need to pay attention:
    1. seperate insert/update sql in a transaction, and place fetch data in another transaction.
    2. the data maybe delay in a interval time.
* monitor slow query
enable log_slow_queries option, and set long_query_time (s)
  log_slow_queries = /usr/local/mysql/data/mysqld/mysqld-slow.log
  long_query_time = 1
* monitor query not using indexes
enable log_queries_not_using_indexes option
  log_queries_not_using_indexes

==mysql tree data model==
* An article - http://mikehillyer.com/articles/managing-hierarchical-data-in-mysql/

==mysql common use==
 mysql&gt;show databases;  // 显示数据库
 mysql&gt;use test;  // 使用 test 数据库
 mysql&gt;show tables;  // 显示表信息
 mysql&gt;describe db;  // 显示 db 表信息
 mysql&gt;create database myinfo;  // 建立名为 myinfo 的数据库
 mysql&gt;create table friends(
      id int not null auto_increment primary key,
      name varchar(20),
      age int(3),
      addr varchar(50));

 mysql&gt;drop table 表名;  // 删除一个表

 mysql&gt;drop databases 数据库名;  //删除一个数据库

 mysql&gt;insert into friends values('','埃菲',22,'moto');''
 //自增字段可以使用空字符
 
 mysql&gt;insert into friends(name, age) values('jack', 22);
 
 mysql&gt;update friends set addr='IBM' where name = 'tom';
 
 mysql&gt;LOAD DATA local infile &quot;C:/myfirends.txt&quot; INTO table friends;
 //将文件中的数据导入 friends 表
 
 mysql&gt;DELETE FROM friends WHERE name='埃菲';
 
 mysql&gt;SELECT * FROM friends ORDER BY id ASC(DESC)
 //                                      升序(降序)

 mysql&gt;SELECT * FROM friends LIMIT 5, 10;
 //返回从第 6 条开始的 10 条记录，即 6 到 15 行
 
 mysql&gt;SELECT * FROM friends LIMIT 5;
 //返回 friends 表前 5 条记录
 
 //LIMIT 给定一个或两个参数，如果是两个参数，第一个指定返回第一行的偏移量(从0开始)
 //第二个参数指定返回行数
 //只有一个数字的偏移量为 0
 
 
 mysql&gt;SELECT * FROM friends INTO OUTFILE 'c:/filename';
 //将选择数据保存到文件

 mysql&gt;ALTER TABLE friends rename myfriends;
 //更改表明

 mysql&gt;ALTER TABLE friends CHANGE name myname varchar(30);
 //将列 name 改为 myname varchar(30) 类型

 mysql&gt;ALTER TABLE friends add time date default '0000-00-00';
 //增加一列 time 类型为 date, 默认值为 '0000-00-00'

 mysql&gt;ALTER TABLE friends drop COLUMN age;
 // 删除表friends 中的 age 列


 &gt;mysqldump -uroot -p -t myinfo &gt; myinfo.txt
 // '-t' 表示不导出表结构信息

 &gt;mysqldump -uroot -p -d myinfo &gt; myinfo.sql
 // '-d' 表示不导出表内容信息

 &gt;mysqldump -uroot -p myinfo &gt; myinfo.dat
 // 导出数据库 myinfo 的所有内容包括，表结构，表内容

 mysqldump 常用选项
 --add-drop-table
 在 create 之间增加一个 drop table

==mysql add user ==
 mysql&gt;GRANT ALL PRIVILEGES ON *.* TO monty@localhost IDENTIFY BY
      'something' WITH GRANT OPTION;
 
 mysql&gt;GRANT ALL PRIVILEGES ON *.* TO monty@&quot;%&quot; IDENTIFIED BY 
      'something' WITH GRANT OPTION;

 或者
 mysql&gt;CREATE DATABASE `roller` CHARACTER SET utf8 COLLATE utf8_general_ci;
 mysql&gt;grant all on roller.* to scott@'%' identified by 'tiger';
 mysql&gt;grant all on roller.* to scott@'localhost' identified by 'tiger';
 mysql&gt;use roller;
 mysql&gt;source roller.sql;
 mysql&gt;exit;

==mysql change pwd ==
 修改用户密码
 set password for root@'localhost' = password('mysql');

==mysql5.0 forget root pwd ==

*mysql 的root 密码忘了，又不能重装一下，还好google 到一个修改root 密码的方法，在
mysql5.0 下测试好用。 如下：

# 在service 中停掉 mysql 的 service
# 进入 %mysql_home%\bin 目录，执行 mysqld-nt --skip-grant-tables
# 开一个新的命令窗口执行 mysql
# 直接就可以登录了，然后执行以下
 &gt;use mysql 
 &gt;update user set password=password(&quot;new_pass&quot;) where user=&quot;root&quot;; 
 &gt;flush privileges; 
 &gt;exit
# 在Task Manager 中关掉 my sql 进程。
# 启动 mysql service ，就可以用新的 root 密码访问了。

==slow query log==
 datadir=/usr/local/mysql/data/mysqld1
 log_slow_queries    = mysqld-slow.log
 ## the relative path to mysql data folder, /usr/local/mysql/data/mysqd1/mysqld-slow.log
 long_query_time = 1
 ## query time &gt; 1 seconds will be record slow query log

 mysqldumpslow /var/log/mysql/mysql-slow.log

* Following will show top 5 query which returned maximum rows. It can find queries where you missed LIMIT clause.
 mysqldumpslow -a -s r -t 5 /var/log/mysql/mysql-slow.log

* Following will sort output by count i.e. number of times query found in slow-log.
 mysqldumpslow -a -s c -t 5 /var/log/mysql/mysql-slow.log

* https://rtcamp.com/tutorials/mysql/slow-query-log/ -- a doc about slow query log

* just use less check slow log
 less mysqld-slow.log
 //query time 2013-12-16 10:26:42
 # Time: 131216 10:26:42
 # User@Host: news[news] @  [10.90.108.109]
 # Query_time: 85.056482  Lock_time: 0.000693 Rows_sent: 1538  Rows_examined: 36204
 SET timestamp=1387189602;
 select distinct UID, NAME, REVISION_DATE, HEADLINE, EDITION, SLUG_LINE from SEARCHVIEW where EDITION = 'UK'...

==check master/slave db==
 mysql&gt; show master status \G;
 mysql&gt; show slave status \G;

==mysql show pages==
 mysql&gt;pager more;
 mysql&gt;show tables;

or
 mysql&gt;pager less;
 mysql&gt;show tables;

exit show pages
 mysql&gt;nopager;

==mysql data time function ==
*http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_timestamp

==mysql 36==
* http://liuxin1982.blog.chinaunix.net/uid-22163222-id-3478568.html

==mysql read only==
* check mysql read only status

 mysql&gt; select @@global.read_only;
 +--------------------+
 | @@global.read_only |
 +--------------------+
 |                  0 |
 +--------------------+
 1 row in set (0.00 sec)

* set read only runtime
 SET GLOBAL read_only=1;

==generate mysql ER diagram ==
* use mysqlworkbench reverse enginering
https://www.youtube.com/watch?v=v5Q0lz5FkW0

==copy existing mysql table to new table==
 CREATE TABLE recipes_new LIKE production.recipes;
 INSERT INTO recipes_new SELECT * FROM production.recipes;

==mysql optimize select ==
* http://dev.mysql.com/doc/refman/5.5/en/select-optimization.html
*http://20bits.com/article/10-tips-for-optimizing-mysql-queries-that-dont-suck

==mysql load test query no cache ==
 SELECT SQL_NO_CACHE id, name FROM customer;

* http://dev.mysql.com/doc/refman/5.0/en/query-cache-in-select.html

==difference for inner jion, left join, right join, full jion ==
* http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins
* http://stackoverflow.com/questions/5706437/whats-the-difference-between-inner-join-left-join-right-join-and-full-join

==uninstall mysql from mac ==

 Open a terminal window
 Use mysqldump to backup your databases to text files!
 Stop the database server
 sudo rm /usr/local/mysql
 sudo rm -rf /usr/local/mysql*
 sudo rm -rf /Library/StartupItems/MySQLCOM
 sudo rm -rf /Library/PreferencePanes/My*
 edit /etc/hostconfig and remove the line MYSQLCOM=-YES-
 rm -rf ~/Library/PreferencePanes/My*
 sudo rm -rf /Library/Receipts/mysql*
 sudo rm -rf /Library/Receipts/MySQL*
 sudo rm -rf /private/var/db/receipts/*mysql*</text>
      <sha1>e1r0byew1kxjk5wc1ndgyb759y591uo</sha1>
    </revision>
  </page>
  <page>
    <title>Maven</title>
    <ns>0</ns>
    <id>10</id>
    <revision>
      <id>27</id>
      <timestamp>2018-05-26T05:18:29Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;== mavn force update from remote ==  #-U means force update of dependencies  mvn clean install -U   == maven with JDK == * maven 3.2 requires jdk 1.6 or above, maven 3.0/3.1 r...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="5094">== mavn force update from remote ==
 #-U means force update of dependencies
 mvn clean install -U


== maven with JDK ==
* maven 3.2 requires jdk 1.6 or above, maven 3.0/3.1 require jdk 1.5 or above

==oschina maven repo ==
* http://maven.oschina.net/help.html - config maven repo use oschina maven repo

==configure maven==
*http://maven.apache.org/guides/mini/guide-configuring-maven.html
*http://maven.apache.org/ref/3.2.3/maven-settings/settings.html
*http://maven.apache.org/settings.html
* http://maven.apache.org/components/ref/ - all version reference

==create a simple java project==
*check your ~/m2/settings.xml
*create project with archetype plugin
 mvn archetype:create -DgroupId=com.lokvin -DartifactId=baseman -DarchetypeArtifactId=maven-archetype-quickstart
 mvn archetype:generate -DgroupId=me.lokvin.example -DartifactId=SpringExample -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false

*create a new github repository

 touch README.md
 git init
 git add .
 git commit -m &quot;first commit&quot;
 git remote add origin https://github.com/xxxx/baseman.git
 git push -u origin master

* make it to eclipse project
 &gt;cd baseman
 &gt;mvn eclipse:eclipse

== mvn archetype ==
* http://maven.apache.org/archetype/maven-archetype-plugin/usage.html

==mvn download source code ==
 mvn dependency:sources

== mvn dependency tree ==
 mvn dependency:tree

== settings.xml ==
&lt;pre&gt;
&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0
￼http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;
      &lt;localRepository/&gt;
      &lt;interactiveMode/&gt;
      &lt;usePluginRegistry/&gt;
      &lt;offline/&gt;
      &lt;pluginGroups/&gt;
      &lt;servers/&gt;
      &lt;mirrors/&gt;
      &lt;proxies/&gt;
      &lt;profiles/&gt;
      &lt;activeProfiles/&gt;
&lt;/settings&gt;
&lt;/pre&gt;

{| class=&quot;wikitable&quot;
|-
! Element Name
! Description
|-
| localRepository
| Maven 用来存储 plugins 和 dependencies 的本地目录。 默认为 ~/.m2/repository. 可以通过这个属性来指定别的目录
|-
| interactiveMode
| Default is true. Maven interact with user for input
|-
| offline
| Default is false. When set true, maven operate in offline mode
|-
| servers
| Maven can interact with a variety of servers, such as: SVN, build server, remote repository server. This element specify security credentials. such as username, passwd which connect to these server
|-
| mirrors
| specify alternative locations for your respositories
|-
| proxies
| http proxy information connect to internet
|-
| profiles
| profiles allow to group certain configuration elements, such as: repositories and pluginRepositories
|-
| activeProfile
| activeProfile allow you specify default profile to be active for maven use
|}

==maven dependency management ==
[[File: enterpriseMavenRepository.png|500px]]

'''Enterprise Maven repository architecture '''

[[File: MavenRepositoryManagement.png]]

'''Maven Dependency Management '''

== opensource repository managers ==
* http://www.sonatype.com/nexus/product-overview
* http://archiva.apache.org/index.cgi
* https://www.jfrog.com/open-source/

== maven create spring example project ==
*http://projects.spring.io/spring-framework/

* create empty project
 mvn archetype:generate -DgroupId=me.lokvin.example -DartifactId=SpringExample -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false

== maven dependency scope ==

* https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html

* compile
This is the default scope, used if none is specified. Compile dependencies are available in all classpaths of a project. Furthermore, those dependencies are propagated to dependent projects.

* provided
This is much like compile, but indicates you expect the JDK or a container to provide the dependency at runtime. For example, when building a web application for the Java Enterprise Edition, you would set the dependency on the Servlet API and related Java EE APIs to scope provided because the web container provides those classes. This scope is only available on the compilation and test classpath, and is not transitive.

* runtime
This scope indicates that the dependency is not required for compilation, but is for execution. It is in the runtime and test classpaths, but not the compile classpath.

* test
This scope indicates that the dependency is not required for normal use of the application, and is only available for the test compilation and execution phases.

* system
This scope is similar to provided except that you have to provide the JAR which contains it explicitly. The artifact is always available and is not looked up in a repository.

* import (only available in Maven 2.0.9 or later)
This scope is only used on a dependency of type pom in the &lt;dependencyManagement&gt; section. It indicates that the specified POM should be replaced with the dependencies in that POM's &lt;dependencyManagement&gt; section. Since they are replaced, dependencies with a scope of import do not actually participate in limiting the transitivity of a dependency.</text>
      <sha1>k2qoc5ny7mcgbz8q4yugxql4d9ko0ko</sha1>
    </revision>
  </page>
  <page>
    <title>Tomcat</title>
    <ns>0</ns>
    <id>11</id>
    <revision>
      <id>29</id>
      <timestamp>2018-05-26T05:19:51Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;==check tomcat version==  /opt/tomcat/bin/version.sh  == tomcat6 cluster == * https://tomcat.apache.org/tomcat-6.0-doc/cluster-howto.html  == tomcat 7 outofmemeory heap dump =...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="466">==check tomcat version==
 /opt/tomcat/bin/version.sh

== tomcat6 cluster ==
* https://tomcat.apache.org/tomcat-6.0-doc/cluster-howto.html

== tomcat 7 outofmemeory heap dump ==
* https://newfivefour.com/tomcat7-heap-dump-out-of-memory.html

* in catalina.sh
 JAVA_OPTS='-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/path/to/dir'

* one line java code cause out of memory
 long[] l = new long[Integer.MAX_VALUE];

* java heap annlize - http://www.eclipse.org/mat/</text>
      <sha1>hzjkxtyn1posrhglry1khx61xt06caw</sha1>
    </revision>
  </page>
  <page>
    <title>Mongodb</title>
    <ns>0</ns>
    <id>12</id>
    <revision>
      <id>31</id>
      <timestamp>2018-05-26T05:22:14Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;== download &amp; install ==  === Amazon Linux === * https://www.mongodb.com/download-center#community * wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-amazon-3.2.10.t...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="714">== download &amp; install ==

=== Amazon Linux ===
* https://www.mongodb.com/download-center#community
* wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-amazon-3.2.10.tgz
# unzip and check README
# mkdir -p /data/db; chown ec2-user:ec2-user /data/db
# export LC_ALL=en_US.UTF-8
# echo &quot;export LC_ALL=en_US.UTF-8&quot; &gt;&gt; ~/.bashrc
# ./bin/mongod


=== specify data folder ===
 mongod --dbpath /Users/dev/mongodb_data

=== mongo db create user &amp; security ===
* start mongo no security
 ./mongo
 &gt;use admin
 &gt; db.createUser({
  user:'admin', pwd: 'admin',
  customData: {desc: 'The admin user for admin db'},
  roles: ['readWrite', 'dbAdmin', 'clusterAdmin']
  })

* start mongod with --auth option
 mongod  --auth</text>
      <sha1>9i83ehct9cywv0d8sxneesnw3z6h0q5</sha1>
    </revision>
  </page>
  <page>
    <title>Eclipse</title>
    <ns>0</ns>
    <id>13</id>
    <revision>
      <id>33</id>
      <timestamp>2018-05-26T05:24:12Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;==eclipse setup work==  === change eclipse.ini === * change memory size under eclipse.ini  find Eclipse.app/ -name &quot;eclipse.ini&quot;  Eclipse.app/Contents/Eclipse/eclipse.ini chan...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="2498">==eclipse setup work==

=== change eclipse.ini ===
* change memory size under eclipse.ini
 find Eclipse.app/ -name &quot;eclipse.ini&quot;
 Eclipse.app/Contents/Eclipse/eclipse.ini
change -Xms768m, -Xmx1024m

=== config user name ===
* add '-Duser.name' to eclipse.ini
 -Duser.name=Lokvin

=== UTF-8 file encoding ===
Preferences - General - Workspace - Text file encoding : UTF-8

=== check installed jre ===
Preferences - Java - Installed JRES


=== Save automatic before build ===
Preferences - General - Workspace - check &quot;Save automatically before build&quot;

=== Organize import on save ===
Preferences - Java - Editor - Save action - check &quot;Perform select action on save&quot; , check &quot;organize import&quot;

=== format edit lines on save ===
For better diff changes, we only format edit lines on save instead of all file.
Preferences - Java - Editor - Save action - check &quot;Perform select action on save&quot;, check &quot;format source code&quot;, &quot;format edit lines on save&quot;

=== editor setting ===
* preferences - General - Editors
** show line numbers
** insert spaces for tabs
** show white spaces character
** display tab width: 4

=== java editor use spaces indent ===
preferences - java - code style - formatter - create profile base on build in - edit - indentation - spaces only , tab size: 4

=== save action ===
* change java save action
Preferences-&gt;Java-&gt;Editor-&gt;Save Actions&lt;br /&gt;
** remove unused import
** remove unnecessary casts

=== disable eclipse valiate during building ===
 Preference -&gt; Validation
unselected all build validation

===Java editor use space for indent ===
#Preferences - Java - Code Style - click &quot;Edit&quot; - Indentation
set Tab policy to: Spaces only, tab size: 4

=== font size ===
Preferences - General - Appearance - Colors &amp; Fonts - Basic - Text Font
font size 13

==install plugin from marketplace==
* It's convenient install plugin from eclipse marketplace: Help -&gt; Eclipse Marketplace

==Key Assist==
* in linux eclipse , ctrl + shift + l (Help -&gt; Key Assists)

* Word Complete, alt + /

* max(recover) current editor, ctrl + m

== TODO task ==
* add //TODO mark in code, and all TODO mark can find in Tasks view.

==set eclipse proxy ==
*preference - General - network connnection
 HTTP set proxy
 HTTPS set proxy
 SOCKS  don't set proxy

** and you can proxy bypass for don't use proxy

==set eclipse JDK ==
* for mac
 /Library/Java/JavaVirtualMachines/1.7.0.jdk/Contents/Home
 /Library/Java/JavaVirtualMachines/1.6.0_51-b11-457.jdk/Contents/Home

== install lombok ==
use lombok.jar</text>
      <sha1>cvjykrtz0o6la5wa1ehoyfhyo7ggcde</sha1>
    </revision>
  </page>
  <page>
    <title>Svn</title>
    <ns>0</ns>
    <id>14</id>
    <revision>
      <id>35</id>
      <timestamp>2018-05-26T05:26:48Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;==ref &amp; doc== *http://svnbook.red-bean.com/en/1.6/svn-book.html -- svn 1.6 document  ==svn help==  svn help  usage: svn &lt;subcommand&gt; [options] [args]  'svn help &lt;subcommand&gt;'...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="2199">==ref &amp; doc==
*http://svnbook.red-bean.com/en/1.6/svn-book.html -- svn 1.6 document

==svn help==
 svn help
 usage: svn &lt;subcommand&gt; [options] [args]
 'svn help &lt;subcommand&gt;' for help on a specific subcommand
 'svn --version' to see the program version and RA modules
 
 Available subcommands:
   add
   blame (praise, annotate, ann)
   cat
 ...

* help for subcommand
 svn help &lt;subcommand&gt;
 #eg.
 svn help swtich

==svn switch ==
* switch working copy to different url within same repository.
 svn switch http://10.90.0.160/svn/mobileapps-spotlight/branches/i24 spotlight/

== svn merge ==
* manual merge html5 1.4 to 2.0
 svn co http://10.90.0.160/svn/mobileapps-news-pro-html/branches/2.0 mobileapps-news-pro-html-2.0
 svn merge --accept postpone -r 358773:364929 http://10.90.0.160/svn/mobileapps-news-pro-html/branches/1.4 mobileapps-news-pro-html-2.0
 ## manual resolved conflcts
 svn status mobileapps-news-pro-html-2.0
 svn resolved ...
 svn commit -m &quot;manual merge html1.4 to 2.0&quot; mobileapps-news-pro-html-2.0

==svn diff for 2 branches ==
 svn diff http://REPOS/trunk http://REPOS/branches/B

==svn resolve tree conflict ==
 svn resolve --accept working -R &lt;path&gt;

*resolve asks svn to resolve the conflict
*accept working specifies to keep your working files
*-R stands for recursive

==resolve local edit, incoming delete upon update ==
 $ svn st
 !     C foo
      &gt;   local delete, incoming delete upon update
 !     C bar
      &gt;   local delete, incoming delete upon update

 $ touch foo bar

 $ svn st
 A  +  C foo
      &gt;   local edit, incoming delete upon update
 A  +  C bar
      &gt;   local edit, incoming delete upon update

 $ svn st
 ?       foo
 ?       bar

 $ rm foo bar
 $ svn st

==svn empmty checkout ==
*you can limit the amount of files that do get checked out with the --depth
 svn co --depth=empty http://myserver/myrepos/mydirectory

==svn blame ==
 svn blame someurl

==svn log -v -r ==
* get revision detail info
 svn log -v -r rev. http://repo-url

==svn status code ==
* http://gotofritz.net/blog/howto/svn-status-codes/

==svn checkout specify revision file ==
 svn checkout &lt;url_of_big_dir&gt;@revision &lt;target&gt; --depth empty
 cd &lt;target&gt;
 svn up &lt;file_you_want&gt;</text>
      <sha1>mxiwmioeimraz26ph5i8a73psroqtjq</sha1>
    </revision>
  </page>
  <page>
    <title>Git</title>
    <ns>0</ns>
    <id>15</id>
    <revision>
      <id>37</id>
      <timestamp>2018-05-26T05:27:46Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;==doc == * http://gitref.org/ - git simple doc * https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian  ==gitlab create new project ==...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3499">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git tutorials ==
* https://www.atlassian.com/git/tutorials - git tutorials from atlassian

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

==git branch ==

* set upstream branch
 git branch -u origin/master master

* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout new_branch_name

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

* git branch -l
 * master

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git log graph ==
 git log --graph --all --oneline

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing</text>
      <sha1>9hlncwl2jnlc3l9m03fbr7dxxpr74j3</sha1>
    </revision>
    <revision>
      <id>46</id>
      <parentid>37</parentid>
      <timestamp>2018-06-06T08:07:52Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* git tutorials */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3406">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

==git branch ==

* set upstream branch
 git branch -u origin/master master

* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout new_branch_name

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

* git branch -l
 * master

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git log graph ==
 git log --graph --all --oneline

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing</text>
      <sha1>emprir4v27021p6rvq6ec0zwsn8j9gn</sha1>
    </revision>
    <revision>
      <id>47</id>
      <parentid>46</parentid>
      <timestamp>2018-06-06T15:08:16Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* git branch */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="2617">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git log graph ==
 git log --graph --all --oneline

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing</text>
      <sha1>5a6gxbp5zayozi9h0hhl6hs9e092kxi</sha1>
    </revision>
    <revision>
      <id>48</id>
      <parentid>47</parentid>
      <timestamp>2018-06-06T15:10:51Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* gitlab create new project */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3381">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git log graph ==
 git log --graph --all --oneline

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing</text>
      <sha1>dghyfjh5r5rpqufyvzw0x9e3et86ubs</sha1>
    </revision>
    <revision>
      <id>49</id>
      <parentid>48</parentid>
      <timestamp>2018-06-06T15:11:30Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* git revert change */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3224">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git log graph ==
 git log --graph --all --oneline

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing</text>
      <sha1>njjxvjjzuhu648ygc77i3pgszosodu9</sha1>
    </revision>
    <revision>
      <id>50</id>
      <parentid>49</parentid>
      <timestamp>2018-06-06T15:11:53Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* gitlab create new project */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3381">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git log graph ==
 git log --graph --all --oneline

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing</text>
      <sha1>1r2s5y5zhvaxeq613khluonpwtelrmz</sha1>
    </revision>
    <revision>
      <id>51</id>
      <parentid>50</parentid>
      <timestamp>2018-06-06T15:14:40Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* untrack file */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3189">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== git log graph ==
 git log --graph --all --oneline

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing</text>
      <sha1>adjukttcmdl2c431ilz559c06ctggap</sha1>
    </revision>
    <revision>
      <id>52</id>
      <parentid>51</parentid>
      <timestamp>2018-06-06T15:14:54Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* git revert change */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3381">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== git log graph ==
 git log --graph --all --oneline

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing</text>
      <sha1>cdi7w6eputp2v5xn2idngf584nkcfdv</sha1>
    </revision>
    <revision>
      <id>53</id>
      <parentid>52</parentid>
      <timestamp>2018-06-06T15:16:14Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* git rebase */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3195">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== git log graph ==
 git log --graph --all --oneline</text>
      <sha1>8jrywcx0e43791fnjz56sy3fowb5pby</sha1>
    </revision>
    <revision>
      <id>54</id>
      <parentid>53</parentid>
      <timestamp>2018-06-06T15:16:33Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* gitlab create new project */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3381">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git change origin url ==
 git remote set-url origin new_git_url

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== git log graph ==
 git log --graph --all --oneline</text>
      <sha1>q9i5thofr4eodmhxh7pmi9jyj6zyxv2</sha1>
    </revision>
    <revision>
      <id>55</id>
      <parentid>54</parentid>
      <timestamp>2018-06-06T15:17:06Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* git change origin url */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3313">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== git log graph ==
 git log --graph --all --oneline</text>
      <sha1>ewgtz65bsmu0zcsqgli84tbbwaw7fm6</sha1>
    </revision>
    <revision>
      <id>56</id>
      <parentid>55</parentid>
      <timestamp>2018-06-06T15:17:33Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* gitlab create new project */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3381">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git change origin url ==
 git remote set-url origin new_git_url

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== git log graph ==
 git log --graph --all --oneline</text>
      <sha1>4z0tyjcepop7bktfejdnhnkzczkf92y</sha1>
    </revision>
    <revision>
      <id>57</id>
      <parentid>56</parentid>
      <timestamp>2018-06-06T15:18:04Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* git submodule */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3308">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git change origin url ==
 git remote set-url origin new_git_url

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== git log graph ==
 git log --graph --all --oneline</text>
      <sha1>en3rgsqeljeuvhkobyawg4kk73vof3u</sha1>
    </revision>
    <revision>
      <id>58</id>
      <parentid>57</parentid>
      <timestamp>2018-06-06T15:18:21Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* git change origin url */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3381">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git change origin url ==
 git remote set-url origin new_git_url

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/

== git log graph ==
 git log --graph --all --oneline</text>
      <sha1>k36se44wx14b68am0xn9ldadoiqek0i</sha1>
    </revision>
    <revision>
      <id>59</id>
      <parentid>58</parentid>
      <timestamp>2018-06-06T15:23:50Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* git log graph */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3327">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git change origin url ==
 git remote set-url origin new_git_url

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/</text>
      <sha1>00e1cceoj4vjnfcpn1oohubodp7d67o</sha1>
    </revision>
    <revision>
      <id>60</id>
      <parentid>59</parentid>
      <timestamp>2018-06-06T15:24:11Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* git change origin url */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3381">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git log graph ==
 git log --graph --all --oneline

== git change origin url ==
 git remote set-url origin new_git_url

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

==find in which tag ==
 &gt;git describe --tags
 &gt;git describe --all

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/</text>
      <sha1>0vc7os4qz2tl5kmpsrbctnlwjuivelf</sha1>
    </revision>
    <revision>
      <id>61</id>
      <parentid>60</parentid>
      <timestamp>2018-06-06T15:25:23Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* find in which tag */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3314">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git log graph ==
 git log --graph --all --oneline

== git change origin url ==
 git remote set-url origin new_git_url

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

==For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git)==
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/</text>
      <sha1>ej9628a9sjokj1db09f2tik1ywbuf8j</sha1>
    </revision>
    <revision>
      <id>62</id>
      <parentid>61</parentid>
      <timestamp>2018-06-06T15:26:32Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* For ssh protocol (eg: git@github.com:ReutersMedia/logprocnode.git) */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3290">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git log graph ==
 git log --graph --all --oneline

== git change origin url ==
 git remote set-url origin new_git_url

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git from proxy ==

=== For ssh protocol ===
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For http,https protocol (eg: &lt;nowiki&gt;https://github.com/mochi/mochiweb.git&lt;/nowiki&gt;)==
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/</text>
      <sha1>om2ew0zevso7im4eciy2sbnazat262v</sha1>
    </revision>
    <revision>
      <id>63</id>
      <parentid>62</parentid>
      <timestamp>2018-06-06T15:26:59Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* For http,https protocol (eg: https://github.com/mochi/mochiweb.git) */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3061">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git log graph ==
 git log --graph --all --oneline

== git change origin url ==
 git remote set-url origin new_git_url

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git from proxy ==

=== For ssh protocol ===
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/</text>
      <sha1>j83y0h4txur5iz0ewaq8898zcpptu6b</sha1>
    </revision>
    <revision>
      <id>64</id>
      <parentid>63</parentid>
      <timestamp>2018-06-06T15:27:59Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* For ssh protocol */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3233">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git log graph ==
 git log --graph --all --oneline

== git change origin url ==
 git remote set-url origin new_git_url

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git from proxy ==

=== For ssh protocol ===
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

=== For http,https protocol ===
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

==For git protocol (eg: git://github.com/mochi/mochiweb.git)==
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/</text>
      <sha1>4wu0qnrzknqqohre0oq6ec3zoust25f</sha1>
    </revision>
    <revision>
      <id>65</id>
      <parentid>64</parentid>
      <timestamp>2018-06-06T15:29:39Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* For git protocol (eg: git://github.com/mochi/mochiweb.git) */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="2861">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git log graph ==
 git log --graph --all --oneline

== git change origin url ==
 git remote set-url origin new_git_url

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git from proxy ==

=== For ssh protocol ===
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

=== For http,https protocol ===
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/</text>
      <sha1>rz4jiex9ae2p97emqk1y17t9pc8aesa</sha1>
    </revision>
    <revision>
      <id>66</id>
      <parentid>65</parentid>
      <timestamp>2018-06-06T15:30:24Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* For http,https protocol */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3195">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git log graph ==
 git log --graph --all --oneline

== git change origin url ==
 git remote set-url origin new_git_url

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git from proxy ==

=== For ssh protocol ===
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

=== For http,https protocol ===
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

=== For git protocol ===
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master

===github pages===
* https://pages.github.com/</text>
      <sha1>60muk5tx0bcdjl7ndb4yqdlset5jt6w</sha1>
    </revision>
    <revision>
      <id>67</id>
      <parentid>66</parentid>
      <timestamp>2018-06-06T15:31:04Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* github pages */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="3147">==doc ==
* http://gitref.org/ - git simple doc
* https://www.atlassian.com/git/tutorials/setting-up-a-repository - git tutorial from stlassian

==git branch ==
* update remote branch
 git remote update --prune

* create a new branch
 git branch new_branch_name

* git checkout -b branch
 git checkout -b new_branch_name
 # create branch ckb-1 base on origin/ckb-1
 git checkout -b ckb-1 origin/ckb-1

equals

 git branch new_branch_name
 git checkout -b new_branch_name

* set upstream branch
 git branch -u origin/master master

* git branch -r
list remote branch
  $ git branch -r
  origin/CKB-11783
  origin/CKB-11837
  origin/HEAD -&gt; origin/master
  origin/betausS3
  origin/dbchanges
  origin/master
  origin/sampleBETAUSconfig

* git branch -l [--list]
list local branch

* delete remote branch
 ## after git v.1.7
 git push origin --delete &lt;branchName&gt;
 ## before v1.7
 git push origin :&lt;branchName&gt;

==git revert change ==
* https://www.atlassian.com/git/tutorials/undoing-changes
 git reset --hard

* revert code to previous commit
 git checkout rev_no .

== untrack file ==
* add file to .gitignore
* git rm --cached
 git rm --cached .project

* or use
  git update-index --assume-unchanged [path]
  git update-index --no-assume-unchanged [path]

== git rebase ==
 git rebase -i master
 ## clean local commit 
 git rebase -i ^head
 ## Do not do rebase on public branch

* https://www.atlassian.com/git/tutorials/merging-vs-rebasing

== git log graph ==
 git log --graph --all --oneline

== git change origin url ==
 git remote set-url origin new_git_url

==git submodule ==
* http://git-scm.com/book/en/v2/Git-Tools-Submodules

==gitlab create new project ==
* git global setup
 git config --global user.name &quot;Yufei Ren&quot;
 git config --global user.email &quot;yufei.ren@thomsonreuters.com&quot;

== check git config ==
 git config --list

==ssh-keygen ==
 &gt;ssh-keygen -t rsa -C &quot;email@address&quot;

== git from proxy ==

=== For ssh protocol ===
Add below two lines to your ~/.ssh/config
 HOST github.com
    ProxyCommand ssh distuser@10.90.39.170 &quot;nc %h %p&quot;

=== For http,https protocol ===
Run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global http.proxy &lt;nowiki&gt;http://10.90.7.56:3128/&lt;/nowiki&gt;

=== For git protocol ===
Create /usr/local/bin/gitproxy.cmd with below content:
 #!/bin/sh
 ssh distuser@10.90.39.170 &quot;nc $1 $2&quot;
And make it executable:
 $ sudo chmod a+x /usr/local/bin/gitproxy.cmd
Then run below command to add corresponding configs to ~/.gitconfig.
 $ git config --global core.gitproxy /usr/local/bin/gitproxy.cmd

== GitHub ==

===github synchronize a fork ===
* https://help.github.com/articles/fork-a-repo/ - fork a repo
* https://help.github.com/articles/syncing-a-fork/ - syncing a fork
eg:
 &gt;git clone git@github.com:yren/DiscoverMeteor_zh.git
 &gt;cd DiscoverMeteor_zh
 lokvins-MBP:DiscoverMeteor_zh lokvin$ git remote -v
 origin	git@github.com:yren/DiscoverMeteor_zh.git (fetch)
 origin	git@github.com:yren/DiscoverMeteor_zh.git (push)
 &gt;git remote add upstream git@github.com:DiscoverMeteor/DiscoverMeteor_zh.git
 &gt;git fetch upstream
 &gt;git checkout master
 &gt;git merge
 &gt;git merge upstream/master</text>
      <sha1>t36iqfkpdybd16lcjtv73fynspr6118</sha1>
    </revision>
  </page>
  <page>
    <title>Yaml</title>
    <ns>0</ns>
    <id>16</id>
    <revision>
      <id>40</id>
      <timestamp>2018-05-26T05:31:53Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;== yaml == * https://github.com/Animosity/CraftIRC/wiki/Complete-idiot's-introduction-to-yaml - simple introduction to yaml * http://docs.ansible.com/ansible/YAMLSyntax.html -...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="186">== yaml ==
* https://github.com/Animosity/CraftIRC/wiki/Complete-idiot's-introduction-to-yaml - simple introduction to yaml
* http://docs.ansible.com/ansible/YAMLSyntax.html - yaml basic</text>
      <sha1>lmnmvs3o8ilko8cqtoqb4gnuzcimjj2</sha1>
    </revision>
  </page>
  <page>
    <title>Meteor</title>
    <ns>0</ns>
    <id>17</id>
    <revision>
      <id>42</id>
      <timestamp>2018-05-26T05:33:50Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;==meteor == * https://www.meteor.com  ==Discover Meteor ==  * https://www.discovermeteor.com/  === install bunlder===   #mac OS X EI   sudo gem install bundler *http://bundler...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="1054">==meteor ==
* https://www.meteor.com

==Discover Meteor ==

* https://www.discovermeteor.com/

=== install bunlder===
  #mac OS X EI
  sudo gem install bundler
*http://bundler.io/#getting-started

===transleate CN for Discover Meteor ===
 $git clone git@github.com:DiscoverMeteor/DiscoverMeteorStatic.git
 $cd DiscoverMeteorStatic
 $bundle install
 $git submodule init
 ## for first time
 $git submodule update
 $git submodule foreach git pull origin master
 $export DMLANG=zh
 $bundle exec middleman

  $git clone git@github.com:DiscoverMeteor/DiscoverMeteorStatic.git
  $cd DiscoverMeteorStatic
  $bundle install
  #clone en to source/chapters/en
  $cd source/chapters
  $git clone git@github.com:DiscoverMeteor/DiscoverMeteor_En.git en
  $export DMLANG=en
  $bundle exec middleman


* Access http://0.0.0.0:4567
* Note, each time middle man generate for 1 language, the language config in /configure.rb
 DEFAULTLANG = 'zh'
 LANG = ENV['DMLANG'] || DEFAULTLANG

* You can specify language by export DMLANG=zh , then restart middleman
 $export DMLANG=zh</text>
      <sha1>1oiokd36ced3e2gb1tnsj09gvbw6rk6</sha1>
    </revision>
  </page>
  <page>
    <title>Markdown</title>
    <ns>0</ns>
    <id>18</id>
    <revision>
      <id>44</id>
      <timestamp>2018-05-26T05:34:59Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;== Markdown == * http://daringfireball.net/projects/markdown * https://guides.github.com/features/mastering-markdown/ * https://help.github.com/articles/writing-on-github/  ==...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="450">== Markdown ==
* http://daringfireball.net/projects/markdown
* https://guides.github.com/features/mastering-markdown/
* https://help.github.com/articles/writing-on-github/

==markdown syntax==
* http://daringfireball.net/projects/markdown/syntax
* http://wowubuntu.com/markdown/ - CN version
* https://github.com/xirong/my-markdown

== write book with markdonw==
* useing markdown, github, travis-ci
* http://www.ituring.com.cn/article/828?q=markdown</text>
      <sha1>ke6jbwmxugb4bhv63ua08bp4iqxwutx</sha1>
    </revision>
  </page>
  <page>
    <title>Kotlin</title>
    <ns>0</ns>
    <id>19</id>
    <revision>
      <id>73</id>
      <timestamp>2018-06-13T03:37:02Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;= docs = * http://toughcoder.net/blog/2018/05/17/introduction-to-kotlin-programming-language/ - a kotlin introduce in CN&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="120">= docs =
* http://toughcoder.net/blog/2018/05/17/introduction-to-kotlin-programming-language/ - a kotlin introduce in CN</text>
      <sha1>96p0czi59bknjrr2sax3tam88071cfo</sha1>
    </revision>
    <revision>
      <id>74</id>
      <parentid>73</parentid>
      <timestamp>2018-06-13T03:41:31Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* docs */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="184">= docs =
* http://toughcoder.net/blog/2018/05/17/introduction-to-kotlin-programming-language/ - a kotlin introduce in CN
* [https://github.com/yren/kotlin-cheatsheet kotlin cheatsheet]</text>
      <sha1>9kwiyg0yccr5pb0do7bc4hi6evqwlnr</sha1>
    </revision>
  </page>
  <page>
    <title>Gradle</title>
    <ns>0</ns>
    <id>20</id>
    <revision>
      <id>80</id>
      <timestamp>2018-06-22T07:19:45Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;= create a new gradle builds = * https://guides.gradle.org/creating-new-gradle-builds&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="85">= create a new gradle builds =
* https://guides.gradle.org/creating-new-gradle-builds</text>
      <sha1>t54pcfcgdy1ntzmjkj7lehaquvf3r0m</sha1>
    </revision>
    <revision>
      <id>81</id>
      <parentid>80</parentid>
      <timestamp>2018-06-22T08:56:39Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>/* create a new gradle builds */</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="159">= create a new gradle builds =
* https://guides.gradle.org/creating-new-gradle-builds
* https://guides.gradle.org/building-java-libraries/ - build java library</text>
      <sha1>07k2ljkwbciz5shzkoyrb2z01gjdd9z</sha1>
    </revision>
  </page>
  <page>
    <title>Click</title>
    <ns>0</ns>
    <id>21</id>
    <revision>
      <id>93</id>
      <timestamp>2018-07-24T10:05:50Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;= click = * https://github.com/pallets/click * http://click.pocoo.org/5/&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="72">= click =
* https://github.com/pallets/click
* http://click.pocoo.org/5/</text>
      <sha1>992sgn8h8j3gji7l81eqyrh5c93kfvz</sha1>
    </revision>
  </page>
  <page>
    <title>Sql</title>
    <ns>0</ns>
    <id>22</id>
    <revision>
      <id>97</id>
      <timestamp>2018-08-15T05:18:59Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;= SQL = * sql and join - https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="102">= SQL =
* sql and join - https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins</text>
      <sha1>tmtmgfjyarwichat4w93rcphh3gba3g</sha1>
    </revision>
  </page>
  <page>
    <title>Homebrew</title>
    <ns>0</ns>
    <id>23</id>
    <revision>
      <id>100</id>
      <timestamp>2018-11-12T15:49:44Z</timestamp>
      <contributor>
        <username>Lokvin</username>
        <id>1</id>
      </contributor>
      <comment>Created page with &quot;== 使用科大 mirror ==  cd &quot;$(brew --repo)&quot;  git remote set-url origin https://mirrors.ustc.edu.cn/brew.git   cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;  git r...&quot;</comment>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text xml:space="preserve" bytes="241">== 使用科大 mirror ==
 cd &quot;$(brew --repo)&quot;
 git remote set-url origin https://mirrors.ustc.edu.cn/brew.git

 cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;
 git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git</text>
      <sha1>tlypg7iegx4bstcwkvc1bpt3aijmn8f</sha1>
    </revision>
  </page>
</mediawiki>
